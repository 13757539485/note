{"config":{"lang":["ja"],"separator":"[\\s\\-\uff0c\u3002]+","pipeline":["stemmer"]},"docs":[{"location":"","title":"Home","text":""},{"location":"#_1","title":"\u73af\u5883\u8981\u6c42","text":"<p>\u5b89\u88c5python</p>"},{"location":"#mkdocs","title":"mkdocs\u5b98\u7f51","text":"<p>https://www.mkdocs.org/user-guide/configuration/#build-directories</p>"},{"location":"#mkdocs_1","title":"\u5b89\u88c5mkdocs","text":"<p>window\uff1a <pre><code>pip install mkdocs\n</code></pre> linux\uff1a <pre><code>sudo pip install mkdocs\n</code></pre></p>"},{"location":"#_2","title":"\u521b\u5efa\u9879\u76ee","text":"<pre><code>mkdocs new xxx\n</code></pre>"},{"location":"#_3","title":"\u67e5\u770b\u9884\u89c8","text":"<p><pre><code>cd xxx\nmkdocs serve\n</code></pre> \u5728http://127.0.0.1:8000\u8fdb\u884c\u67e5\u770b</p>"},{"location":"#_4","title":"\u751f\u6210\u7f51\u9875","text":"<pre><code>mkdocs build\n</code></pre>"},{"location":"#_5","title":"\u53d1\u5e03","text":"<ol> <li>github\u914d\u7f6e</li> </ol> <p>\u914d\u7f6egit\u57fa\u672c\u4fe1\u606f <pre><code>git config --global user.name \"yuli\" // \u968f\u610f\u586b\u5199\ngit config --global user.email \"1875287386@qq.com\" // \u548cgithub\u7ed1\u5b9a\u90ae\u7bb1\u4e00\u81f4\ngit config --global credential.helper store\n</code></pre> \u751f\u6210ssh\uff0c\u6267\u884c\u5e76\u4e00\u8def\u56de\u8f66 <pre><code>ssh-keygen -t rsa -C '1875287386@qq.com'\n</code></pre> \u5c06id_rsa.pub\u5185\u5bb9\u7c98\u8d34\u5230\u7f51\u7ad9\u4e2d https://github.com/settings/keys</p> <ol> <li>github\u521b\u5efa\u9879\u76ee\u540d\u4e3anote\uff0c\u4ed3\u5e93\u5fc5\u987b\u662fpublic\uff0c\u8fdb\u5165\u5230mkdocs\u521b\u5efa\u7684\u9879\u76ee\u6587\u4ef6\u5939\u4e2d\uff0c\u6839\u636egithub\u4e0a\u63d0\u793a\u547d\u4ee4\u6267\u884c <pre><code>git init\ngit add .\ngit commit -m \"\u521d\u59cb\u5316mkdocs\u9879\u76ee\"\ngit remote add origin git@github.com:13757539485/note.git\ngit branch -M main // \u7528\u6765\u5b58\u653e\u6e90\u7801\u4f7f\u7528\ngit push -u origin main\n</code></pre></li> <li>\u6267\u884c\u4e00\u4e0b\u547d\u4ee4\uff0c\u5de5\u5177\u5c31\u4f1a\u81ea\u52a8\u5c06\u76f8\u5e94\u5185\u5bb9\u63a8\u9001\u5230\u9879\u76ee\u7684 gh-pages \u5206\u652f\u4e0a <pre><code>mkdocs gh-deploy // \u4f1a\u81ea\u52a8\u521b\u5efa\u5206\u652f\u540d\u4e3agh-deploy\u5e76\u5b58\u653e\u7f51\u9875\u6e90\u7801\n</code></pre></li> <li> <p>\u5728github\u9879\u76ee\u4e2d\u6309\u7167\u56fe\u4e2d\u914d\u7f6e\u5373\u53ef </p> </li> <li> <p>\u6d4f\u89c8https://username.github.io/project-name</p> </li> </ol> <p>https://13757539485.github.io/note</p>"},{"location":"#yaml","title":"yaml\u76f8\u5173\u6ce8\u610f\u4e8b\u9879","text":""},{"location":"#material","title":"\u5b89\u88c5material\u4e3b\u9898","text":"<p><pre><code>pip install mkdocs-material\n</code></pre> linux\u9700\u8981\u4f7f\u7528sudo</p>"},{"location":"#_6","title":"\u914d\u7f6e\u4e3b\u9898","text":"<pre><code>theme: \n  name: material\n  language: zh\n  palette:\n    primary: 'Light Blue'\n    accent: 'Light Blue'\n  features:\n    - navigation.tabs\n  font:\n    text: Microsoft YaHei\n    code: Courier New\n</code></pre>"},{"location":"#_7","title":"\u5176\u4ed6\u914d\u7f6e(\u53ef\u5ffd\u7565)","text":"<p><pre><code>markdown_extensions:\n  - admonition\n  - codehilite:\n      guess_lang: false\n      linenums: false\n  - toc:\n      permalink: true\n  - footnotes\n  - meta\n  - def_list\n  - pymdownx.arithmatex\n  - pymdownx.betterem:\n      smart_enable: all\n  - pymdownx.caret\n  - pymdownx.critic\n  - pymdownx.details\n  - pymdownx.emoji:\n      emoji_generator: !!python/name:pymdownx.emoji.to_png\n      #emoji_generator: !!python/name:pymdownx.emoji.to_svg\n      #emoji_generator: !!python/name:pymdownx.emoji.to_png_sprite\n      #emoji_generator: !!python/name:pymdownx.emoji.to_svg_sprite\n      #emoji_generator: !!python/name:pymdownx.emoji.to_awesome\n      #emoji_generator: !!python/name:pymdownx.emoji.to_alt\n  - pymdownx.inlinehilite\n  - pymdownx.magiclink\n  - pymdownx.mark\n  - pymdownx.smartsymbols\n  - pymdownx.superfences\n  - pymdownx.tasklist\n  - pymdownx.tilde\n\nextra:\n  search:\n    language: 'en,zh,jp'\n\nplugins:\n  - search\n</code></pre> \u4e3b\u9875\u9ed8\u8ba4\u4e3aindex.md</p> <p>\u66f4\u591a\u5b66\u4e60\uff1a</p> <p>https://zhuanlan.zhihu.com/p/613038183 https://squidfunk.github.io/mkdocs-material/setup/changing-the-colors/</p>"},{"location":"excel/","title":"Excel","text":""},{"location":"excel/#_1","title":"\u5e38\u7528\u7b26\u53f7","text":"\u7b26\u53f7 \u4f5c\u7528 ~ \u8f6c\u4e49\u5b57\u7b26 ? \u901a\u914d\u7b26 * \u8868\u793a\u4e00\u4e2a\u6216\u4e00\u4e32\u5b57\u7b26 &lt;&gt; \u4e0d\u7b49\u4e8e $ \u8868\u793a\u7edd\u5bf9\u5f15\u7528\uff0c\u5982$A1\u5219A\u56fa\u5b9a1\u662f\u53ef\u53d8"},{"location":"excel/#_2","title":"\u51fd\u6570","text":""},{"location":"excel/#if","title":"if\u51fd\u6570","text":"<ul> <li> <p>\u57fa\u672c\u4f7f\u7528 <pre><code>IF(\u6d4b\u8bd5\u6761\u4ef6, \"\u771f\",\"\u5047\")\n</code></pre> \u5982\uff1a=IF(B2=-1,\"\u4e0d\u663e\u793a\",B2))         \u5982\u679cB2\u7b49\u4e8e-1\uff0c\u5219\u5355\u5143\u683c\u663e\u793a\u5185\u5bb9\u4e3a\u201c\u4e0d\u663e\u793a\u201d\uff0c\u5426\u5219\u663e\u793aB2\u5177\u4f53\u5185\u5bb9</p> </li> <li> <p>\u5d4c\u5957\u4f7f\u7528</p> </li> </ul> <p>\u5982\uff1a=IF(B2=-1,\"\u4e0d\u663e\u793a\",IF(B2&gt;5,\"\u4e0d\u5408\u9002\",B2)) \u5982\u679cB2\u7b49\u4e8e-1\uff0c\u5219\u5355\u5143\u683c\u663e\u793a\u5185\u5bb9\u4e3a\u201c\u4e0d\u663e\u793a\u201d\uff0c\u5426\u5219\u518d\u5224\u65adB2\u662f\u5426\u5927\u4e8e5\uff0c\u5927\u4e8e\u5219\u663e\u793aB2\u5177\u4f53\u5185\u5bb9\uff0c\u5426\u5219\u5355\u5143\u683c\u663e\u793a\u5185\u5bb9\u4e3a\u201c\u4e0d\u5408\u9002\u201d</p> <ul> <li>\u591a\u4e2a\u6761\u4ef6\u540c\u65f6\u4f7f\u7528</li> </ul> <p>\u5982\uff1a=IF(B2=-1,\"-\",IF(AND(I3=\"\u5bf9\",L3=\"\u5bf9\"),\"\u4e2d\",\"\u4e0d\u4e2d\"))</p> <p>\u5982\u679cB2\u4e0d\u4e3a-1\uff0c\u5224\u65adI3\u548cL3\u662f\u5426\u540c\u65f6\u4e3a\u201c\u5bf9\u201d\uff0c\u663e\u793a\u4e0d\u540c\u7684\u7ed3\u679c \u7c7b\u4f3c\u7684=IF(B2=-1,\"-\",IF(OR(I3=\"\u5bf9\",L3=\"\u5bf9\"),\"\u4e2d\",\"\u4e0d\u4e2d\"))</p> <p>\u8fd9\u91ccI3\u548cL3\u53ea\u8981\u4e00\u4e2a\u6ee1\u8db3\u6761\u4ef6\u5373\u4e3a\u771f AND\u53ef\u4ee5\u4f7f\u7528*\u4ee3\u66ff\uff0c=IF(B2=-1,\"-\",IF((I3=\"\u5bf9\")*(L3=\"\u5bf9\"),\"\u4e2d\",\"\u4e0d\u4e2d\"))</p> <p>OR\u53ef\u4ee5\u4f7f\u7528+\u4ee3\u66ff\uff0c=IF(B2=-1,\"-\",IF((I3=\"\u5bf9\")+(L3=\"\u5bf9\"),\"\u4e2d\",\"\u4e0d\u4e2d\"))</p>"},{"location":"excel/#countif","title":"COUNTIF\u51fd\u6570","text":"<ul> <li> <p>\u57fa\u672c\u4f7f\u7528 <pre><code>COUNTIF(\u7edf\u8ba1\u8303\u56f4, \u6761\u4ef6)\n</code></pre> \u5982\uff1a=COUNTIF(B3:D3,H3) \u7edf\u8ba1B3\u5230D3\u533a\u57df\u91cc\u548cH3\u5185\u5bb9\u76f8\u540c\u7684\u6570\u91cf\uff0c\u663e\u793a\u5230\u5355\u5143\u683c\u4e2d</p> </li> <li> <p>\u548cIF\u5d4c\u5957\u4f7f\u7528</p> </li> </ul> <p>\u5982\uff1a=IF(B2=-1,\"\u65e0\u6548\",IF(COUNTIF(B3:D3,H3),\"\u9519\",\"\u5bf9\")) B2\u4e0d\u662f\u65e0\u6548\u65f6\uff0c\u7edf\u8ba1B3\u5230D3\u5b58\u5728\u591a\u5c11\u4e2aH3\u503c\uff0c\u5982\u679c\u4e3a0\u5219\u663e\u793a\u5bf9\uff0c\u5426\u5219\u663e\u793a\u9519</p> <ul> <li>\u5176\u4ed6\u4f7f\u7528</li> </ul> <p>=COUNTIF(E2:E12,\"&gt;=90\")\u00a0\uff0c\"&gt;=90\" \u4e5f\u53ef\u4ee5\u8fd9\u6837\u5199\uff1a\"&gt;=\"&amp;90</p> <p>=COUNTIF(B2:B12,\"\u7c89\u7ea2*\")</p> <p>=COUNTIF(F2:F12,\"&gt;\"&amp;AVERAGE(F2:F12))</p> <ul> <li>\u6570\u7ec4\u7ec4\u5408\u591a\u91cd\u6761\u4ef6</li> </ul> <p>\u5982\u7edf\u8ba1&gt;=350\u4ee5\u53ca&lt;=750\u7684\u8ba1\u6570\u548c =SUM(COUNTIF(F2:F12,{\"&gt;=350\",\"&gt;750\"})*{1,-1})</p> <p>\u5982\u679c\u6761\u4ef6\u586b\u5199&lt;=750\u4f1a\u628a&lt;350\u7684\u4e5f\u7edf\u8ba1\u8fdb\u6765 \u5982\u679c\u4e0d\u548c(*)\u4e0a{1,-1}\uff0c\u9ed8\u8ba4\u7ed3\u679c\u662f\u5c06\u4e24\u4e2a\u6761\u4ef6\u7ed3\u679c\u76f8\u52a0\uff0c\u7406\u60f3\u7ed3\u679c\u662f\u76f8\u51cf\uff0c\u6240\u4ee5\u9700\u8981\u5c06\u540e\u9762\u7684\u7ed3\u679c\u53d8\u6210\u8d1f\u6570 \u6216\u8005\u76f4\u63a5\u6539\u6210=COUNTIF(F2:F12,\"&gt;350\"\uff09- COUNTIF(F2:F12,\"&gt;750\"\uff09</p>"},{"location":"excel/#mod","title":"MOD\u51fd\u6570","text":"<p><pre><code>MOD(\u6570\u503c,\u9664\u6570)\n</code></pre> \u5982\uff1a=MOD(1000,10)        \u7ed3\u679c\u662f0\uff0c\u9664\u6570\u662f10\u5219\u4fdd\u7559\u4e2a\u4f4d\uff0c\u76f8\u5f53\u4e8e\u9664\u4f59\u64cd\u4f5c</p>"},{"location":"excel/#rows","title":"ROWS\u51fd\u6570","text":"<p><pre><code>ROWS(\u6570\u7ec4)\n</code></pre> \u5982\uff1a=ROWS(I3:I13) \u7ed3\u679c\u662f11\uff0c\u8fd4\u56de\u7684\u662f\u533a\u57df\u7684\u603b\u884c\u6570</p>"},{"location":"excel/#choose","title":"CHOOSE\u51fd\u6570","text":""},{"location":"excel/#vlookup","title":"VLOOKUP\u51fd\u6570","text":""},{"location":"excel/#match","title":"MATCH\u51fd\u6570","text":""},{"location":"excel/#lookup","title":"LOOKUP\u51fd\u6570","text":"<pre><code>\u4e09\u4e2a\u53c2\u6570(keys1, keys2, values)\nkeys1:\u8868\u793a\u8981\u67e5\u627e\u7684key\uff0c\u53ef\u4ee5\u662f\u591a\u4e2a\nkeys2:\u8868\u793a\u5b9a\u4e49\u597d\u7684\u96c6\u5408\u4e2d\u7684key\nvalues:\u8868\u793a\u96c6\u5408\u4e2d\u7684key\u5bf9\u5e94\u7684value\n</code></pre>"},{"location":"excel/#searchfind","title":"SEARCH\u548cFIND\u51fd\u6570","text":"<p>\u4e24\u4e2a\u53c2\u6570(\u8981\u67e5\u627e\u7684\u5b57\u7b26\u4e32\uff0c\u88ab\u67e5\u627e\u7684\u5b57\u7b26\u4e32\uff0c\u5f00\u59cb\u4f4d\u7f6e) \u5176\u4e2d\u5f00\u59cb\u4f4d\u7f6e\u53ef\u4ee5\u4e0d\u586b\uff0c\u9ed8\u8ba4\u4ece\u7b2c\u4e00\u4e2a\u4f4d\u7f6e\u5f00\u59cb *search\u4e0d\u533a\u5206\u5927\u5c0f\u5199\uff0cfind\u533a\u5206\u5927\u5c0f\u5199\uff0c\u90fd\u8fd4\u56de\u7b2c\u4e00\u4e2a\u5339\u914d\u7684\u4f4d\u7f6e</p>"},{"location":"excel/#iferror","title":"IFERROR\u51fd\u6570","text":"<p>\u4e24\u4e2a\u53c2\u6570(\u503c\uff0c\u9519\u8bef\u503c) \u53ef\u4ee5\u914d\u5408search\u51fd\u6570\uff0csearch\u51fd\u6570\u5982\u679c\u627e\u4e0d\u5230\u4f1a\u8fd4\u56de\u9519\u8bef\u503c(#VALUE!)\uff0cIFERROR\u51fd\u6570\u53ef\u4ee5\u5c06\u9519\u8bef\u503c\u91cd\u65b0\u8bbe\u7f6e\u6210\u81ea\u5df1\u60f3\u8981\u7684\u503c IFERROR(\u9519\u8bef\u503c\uff0c\u81ea\u884c\u6307\u5b9a\u503c)</p>"},{"location":"excel/#_3","title":"\u6848\u4f8b","text":"<ul> <li>\u7edf\u8ba1\u6700\u5927\u8fde\u7eed\u51fa\u73b0\"A\"\u7684\u6b21\u6570 <pre><code>MAX(FREQUENCY(IF($V2:$V1441=\"A\",ROW(V2:V1441)),IF($V2:$V1441=\"B\",ROW(V2:V1441))))\n</code></pre></li> <li> <p>\u7edf\u8ba1\u8fde\u7eed\u51fa\u73b0(1,2,3,...,N)\u6b21\u7684\u6b21\u6570 <pre><code>SUM(N(FREQUENCY(IF($O1:$O1419=\"A\",ROW(O1:O1419)),IF($O1:$O1419=\"B\",ROW(O1:O1419)))=COLUMN(A1)))\n</code></pre> COLUMN(A1)\u7528\u6765\u786e\u5b9aN\u7684\u503c\uff0cA1\u5373\u51fa\u73b0\u8fde\u7eed1\u6b21\u7684A\u7684\u6b21\u6570 \u4ee5\u4e0a\u90fd\u9700\u8981shift+ctrl+\u56de\u8f66</p> </li> <li> <p>\u81ea\u52a8\u52a00\u516c\u5f0f\uff1a <pre><code>IF(B2&lt;10,\"0000\"&amp;B2,IF(B2&lt;100,\"000\"&amp;B2,\nIF(B2&lt;1000,\"00\"&amp;B2,IF(B2&lt;10000,\"0\"&amp;B2,B2))))\n</code></pre></p> </li> <li>\u5982\u56fe\u6548\u679c</li> </ul> <p> <pre><code>\u5904\u7406\u7b2c\u4e00\u4e2a\u7a7a\u7684\u4f4d\u7f6e(A1)\uff1a=IF(A1=\"\u7a7a\",1,0)\n\u540e\u9762\u7684\u76f4\u63a5=IF(A2=\"\u7a7a\",B1+1,IF(A2=0,0,\"--\"))\n</code></pre> * \u628a\u5185\u5bb915894\u5206\u5272 <pre><code>=MID($A1,COLUMN(B1)-1,1)\n</code></pre> MID(\u5206\u5272\u7684\u5185\u5bb9\uff0c\u5f00\u59cb\u4f4d\u7f6e\uff0c\u5206\u5272\u4e2a\u6570) \u5982\u679c\u5185\u5bb9\u5b58\u5728\u7279\u70b9\u7b26\u53f7\u598245122-4578\uff0c\u53ef\u4ee5\u4f7f\u7528\u5de5\u5177\u5206\u5272 \u9009\u62e9\u9700\u8981\u5206\u5272\u7684\u533a\u57df\uff0c\u6570\u636e--\u5206\u5217--\u5206\u5272\u7b26\u53f7(\u6216\u8005\u56fa\u5b9a\u5bbd\u5ea6)--\u9009\u62e9\u7b26\u53f7(\u6807\u8bb0\u5206\u5272\u7ebf)--\u5b8c\u6210</p>"},{"location":"git_github/","title":"git\u90e8\u7f72","text":""},{"location":"git_github/#git","title":"git\u5b89\u88c5","text":"<p>window:</p> <p>https://gitforwindows.org/</p> <p>linux/mac: <pre><code>sudo apt install git\nbrew install git\n</code></pre></p>"},{"location":"git_github/#_1","title":"\u914d\u7f6e\u7528\u6237\u4fe1\u606f","text":"<pre><code>git config --global user.name \"xxx\"\ngit config --global user.email \"xxx\"\n</code></pre>"},{"location":"git_github/#_2","title":"\u521b\u5efa\u4ee3\u7801\u4ed3\u5e93","text":"<pre><code>git init\n</code></pre>"},{"location":"git_github/#_3","title":"\u63d0\u4ea4\u4ee3\u7801","text":"<pre><code>git add xxx\ngit commit -m \"xxx\"\n</code></pre>"},{"location":"git_github/#_4","title":"\u5206\u652f\u5904\u7406","text":"<p><pre><code>git branch\u67e5\u770b\u672c\u5730\u6240\u6709\u5206\u652f\ngit branch -a\u67e5\u770b\u8fdc\u7a0b\u6240\u6709\u5206\u652f\ngit branch -D xxx \u5220\u9664\u67d0\u4e2a\u5206\u652f\ngit checkout xxx\u5207\u6362\u5230\u67d0\u4e2a\u5206\u652f\ngit branch xxx\u65b0\u5efaxxx\u672c\u5730\u5206\u652f\n</code></pre> \u5408\u5e76\u4fee\u6539\u5230\u4e3b\u5206\u652f\uff1a <pre><code>git checkout \u4e3b\u5206\u652f\ngit merge \u672c\u5730\u5206\u652f\n</code></pre> \u89e3\u51b3\u51b2\u7a81</p>"},{"location":"git_github/#github","title":"\u63d0\u4ea4\u4ee3\u7801\u5230github","text":"<p>1)github\u4e0a\u65b0\u5efa\u9879\u76ee(New repository)</p> <p> 2)\u672c\u5730\u751f\u6210SSH</p> <p>\u9002\u5f53\u4f4d\u7f6e\u4e0b\u6267\u884c\uff1a <pre><code>git init\n</code></pre> \u7136\u540e\u6267\u884c\uff1a <pre><code>ssh-keygen -t rsa -C \"\u90ae\u7bb1\"\n</code></pre> \u5bc6\u7801\u53ef\u4e0d\u586b\u76f4\u63a5\u56de\u8f66</p> <p>\u751f\u6210\u5b8c\u6bd5\u540e\u5230\u751f\u6210\u76ee\u5f55(C:\\Users\\window.ssh)\u590d\u5236id_rsa.pub\u91cc\u7684\u5185\u5bb9\u5230github\u4e0a</p> <p>\u4f4d\u7f6e\uff1aSettings--SSH and GPG keys</p> <p> \u6dfb\u52a0\u65b0\u7684key(New SSH key)</p> <p>3)\u6dfb\u52a0\u8fdc\u7a0b\u5730\u5740</p> <p></p> <p>git remote add origin git@github.com:13757539485/AndroidForAll.git</p> <p>4)\u63d0\u4ea4\u672c\u5730\u4ee3\u7801</p> <p>Android Studio\u65b0\u5efa\u9879\u76ee <pre><code>git branch -a\n\n\u590d\u5236\u8fdc\u7a0b\u5206\u652f remotes/origin/master\n\ngit reset --mixed remotes/origin/master\n\ngit add .\n\ngit commit -m \"project init\"\n\ngit push  (remotes/origin/master master)\n</code></pre> 5)\u521b\u5efa\u8fdc\u7a0b\u5206\u652f <pre><code>git checkout -b xxx\n\ngit push origin xxx:xxx\n</code></pre> 6)\u5220\u9664\u8fdc\u7a0b\u5206\u652f <pre><code>git push origin --delete xxx\n</code></pre></p>"},{"location":"git_github/#_5","title":"\u5176\u4ed6\u547d\u4ee4","text":"<pre><code>git fetch\n\ngit diff --cached\n\ngit format-patch\u6253\u8865\u4e01\n\ngit tag\n\ngit config --global commit.template  [\u6a21\u677f\u6587\u4ef6\u540d]\n\ngit config --global core.editor  [\u7f16\u8f91\u5668\u540d\u5b57] \u5982C:/windows/notepad.exe\n</code></pre>"},{"location":"git_github/#_6","title":"\u67e5\u770b\u914d\u7f6e\u4fe1\u606f","text":"<p>\u67e5\u770b\u7cfb\u7edfconfig <pre><code>git config --system --list\uff08\u4e00\u822c\u6ca1\u6709\uff09\n</code></pre> \u67e5\u770b\u5f53\u524d\u7528\u6237\uff08global\uff09\u914d\u7f6e\uff0c\u76f8\u5f53\u4e8e\u5168\u5c40 <pre><code>git config --global --list\n</code></pre> \u67e5\u770b\u5f53\u524d\u4ed3\u5e93\u914d\u7f6e\u4fe1\u606f\uff0c\u76f8\u5f53\u4e8e\u4f5c\u7528\u4e8e\u8fd9\u4e2a\u4ed3\u5e93 <pre><code>git config --local --list\n</code></pre></p>"},{"location":"git_github/#_7","title":"\u914d\u7f6e\u522b\u540d","text":"<p>\u5982\u8bbe\u7f6estatus\u7b80\u5199st <pre><code>git config --global alias.st status\ngit config --global alias.ch checkout\ngit config --global alias.co commit\ngit config --global alias.br branch\ngit config --global alias.sh stash\n\ngit config --global alias.lg \"log --color --graph --pretty=format:'%Cred%h%Creset -%C(yellow)%d%Creset %s %Cgreen(%cr) %C(bold blue)&lt;%an&gt;%Creset' --abbrev-commit\"\n\ngit config --global alias.last 'log -1'\n</code></pre> \u6216\u8005\u76f4\u63a5\u5728\u914d\u7f6e\u6587\u4ef6\u91cc\u6dfb\u52a0\uff0c~/.gitconfig</p> <p>[user]</p> <p>email = 1875287386@qq.com</p> <p>name = yuli [core]</p> <p>editor = vi [commit]</p> <p>template = /home/yuli/CommitTemplate [color]</p> <p>ui = auto [alias]</p> <p>last = log -1</p> <p>lg = log --color --graph --pretty=format:'%Cred%h%Creset -%C(yellow)%d%Creset %s %Cgreen(%cr) %C(bold blue)&lt;%an&gt;%Creset' --abbrev-commit</p> <p>ch = checkout</p> <p>co = commit</p> <p>br = branch</p> <p>st = status</p> <p>Window\u4e0agit diff\u51fa\u73b0^M\u95ee\u9898 <pre><code>git config --global core.autocrlf true\n</code></pre> git tag\u4f7f\u7528 <pre><code>git tag -l\u67e5\u770b\u6240\u6709tag\n</code></pre> \u521b\u5efatag\uff1a <pre><code>git tag tagName \u6216\u8005\n\ngit tag -a tagName -m \"\u5907\u6ce8\u4fe1\u606f\"\n</code></pre> \u63d0\u4ea4tag\uff1a <pre><code>git push origin tagName\n</code></pre> \u5220\u9664tag <pre><code>git tag -d tagName\n</code></pre> \u7279\u5b9acommit\u6dfb\u52a0tag <pre><code>git tag tagName  commit_id\n</code></pre> \u6307\u5b9atag\u4e0a\u4fee\u6539\u4ee3\u7801\uff1a <pre><code>git checkout -b branch_name tagName\n</code></pre> \u4fee\u6539\u540e\u63d0\u4ea4 <pre><code>git push --set-upstream origin branch_name\n</code></pre></p>"},{"location":"python/","title":"\u5b89\u88c5","text":"<p>\u8fdb\u5165\u5b98\u7f51\u4e0b\u8f7d\u5b89\u88c5\u5373\u53ef</p>"},{"location":"python/#_2","title":"\u73af\u5883\u53d8\u91cf","text":""},{"location":"python/#windows","title":"windows","text":"<ol> <li>\u65b0\u5efapython_home\uff0c\u6dfb\u52a0\u5b89\u88c5\u8def\u5f84\uff0c\u5982\u56fe</li> </ol> <ol> <li>path\u4e2d\u6dfb\u52a0\u53d8\u91cf\uff0c\u5982\u56fe</li> </ol> <ol> <li>\u67e5\u770bpython\u7248\u672c\uff0c\u68c0\u6d4b\u73af\u5883\u662f\u5426\u6b63\u5e38</li> </ol> <pre><code>python -V\n</code></pre> <ol> <li>\u67e5\u770bpip\u7248\u672c</li> </ol> <pre><code>pip -V\n</code></pre>"},{"location":"python/#linux","title":"linux","text":"<p>python\u4e00\u822c\u9ed8\u8ba4\u81ea\u5e26\uff0c\u751f\u6210\u4e00\u4e0b\u8f6f\u94fe\u63a5\u5373\u53ef <pre><code>sudo ln -s /usr/bin/python3.10 /usr/bin/python\n</code></pre> - \u5176\u4e2d/usr/bin/python3.10\u53ef\u901a\u8fc7which python3\u6309Tab\u952e\u67e5\u770b</p> <p>\u5b89\u88c5pip <pre><code>sudo apt install pip\n</code></pre></p>"},{"location":"android/android_build_apk/","title":"Apk\u76f8\u5173","text":""},{"location":"android/android_build_apk/#_1","title":"\u591a\u6e20\u9053\u6253\u5305","text":""},{"location":"android/android_build_apk/#_2","title":"\u4ec0\u4e48\u662f\u591a\u6e20\u9053\u5305\uff1f","text":"<p>\u6e20\u9053\u5305\u5c31\u662f\u8981\u5728\u5b89\u88c5\u5305\u4e2d\u6dfb\u52a0\u6e20\u9053\u4fe1\u606f\uff0c\u4e5f\u5c31\u662fchannel\uff0c\u5bf9\u5e94\u4e0d\u540c\u7684\u6e20\u9053\uff0c\u4f8b\u5982\uff1a\u5c0f\u7c73\u5e02\u573a\u3001ov\u5e02\u573a\u3001\u5e94\u7528\u5b9d\u5e02\u573a\u7b49</p>"},{"location":"android/android_build_apk/#_3","title":"\u4e3a\u4ec0\u4e48\u8981\u63d0\u4f9b\u591a\u6e20\u9053\u5305\uff1f","text":"<p>\u5728\u5b89\u88c5\u5305\u4e2d\u6dfb\u52a0\u4e0d\u540c\u7684\u6807\u8bc6\uff0c\u5e94\u7528\u5728\u8bf7\u6c42\u7f51\u7edc\u7684\u65f6\u5019\u643a\u5e26\u6e20\u9053\u4fe1\u606f\uff0c\u65b9\u4fbf\u540e\u53f0\u505a\u8fd0\u8425\u7edf\u8ba1</p>"},{"location":"android/android_build_apk/#360","title":"360\u6253\u5305","text":""},{"location":"android/android_build_apk/#1","title":"1.\u539f\u7406","text":"<p>apk\u6587\u4ef6\u672c\u8d28\u5c31\u662fzip\u6587\u4ef6,\u5229\u7528zip\u6587\u4ef6\u201c\u53ef\u4ee5\u6dfb\u52a0comment\uff08\u6458\u8981\uff09\u201d\u7684\u6570\u636e\u7ed3\u6784\u7279\u70b9\uff0c\u5728\u6587\u4ef6\u7684\u672b\u5c3e\u5199\u5165\u4efb\u610f\u6570\u636e\uff0c\u800c\u4e0d\u7528\u91cd\u65b0\u89e3\u538bzip\u6587\u4ef6\uff0c\u6211\u4eec\u5c31\u53ef\u4ee5\u5c06\u6e20\u9053\u4fe1\u606f\u5199\u5165\u6458\u8981\u533a</p>"},{"location":"android/android_build_apk/#2","title":"2.\u65b9\u6cd5","text":"<p>https://jiagu.360.cn/#/global/download</p>"},{"location":"android/android_build_apk/#3","title":"3.\u4f18\u7f3a\u70b9","text":"<p>\u4f18\u70b9: 1\u30015M\u7684apk\uff0c1\u79d2\u79cd\u80fd\u6253300\u4e2a 2\u3001\u5728\u4e0b\u8f7dapk\u7684\u540c\u65f6\uff0c\u670d\u52a1\u7aef\u53ef\u4ee5\u5199\u5165\u4e00\u4e9b\u4fe1\u606f\uff0c\u4f8b\u5982\u9080\u8bf7\u7801\uff0c\u5206\u4eab\u4fe1\u606f\u7b49 \u7f3a\u70b9: \u6e20\u9053\u4fe1\u606f\u4e5f\u662f\u5f88\u5bb9\u6613\u4fee\u6539\uff0c\u867d\u7136\u53ef\u4ee5\u52a0\u5bc6\uff0c\u53ea\u662f\u63d0\u9ad8\u4e86\u4fee\u6539\u7684\u95e8\u69db</p>"},{"location":"android/android_build_apk/#_4","title":"\u53cb\u76df\u6253\u5305","text":""},{"location":"android/android_build_apk/#1_1","title":"1.\u539f\u7406","text":"<p>\u4e00\u822c\u6765\u8bb2\uff0c\u8fd9\u4e2a\u6e20\u9053\u7684\u6807\u8bc6\u4f1a\u653e\u5728AndroidManifest.xml\u7684Application\u7684\u4e00\u4e2aMetadata\u4e2d\u3002\u7136\u540e\u5c31\u53ef\u4ee5\u5728java\u4e2d\u901a\u8fc7API\u83b7\u53d6\u5bf9\u5e94\u7684\u6570\u636e\u4e86\u3002</p>"},{"location":"android/android_build_apk/#2_1","title":"2.\u65b9\u6cd5","text":"<p>\u7b2c\u4e00\u79cd\uff1a\u53cb\u76df\u5c31\u63d0\u4f9b\u4e86\u591a\u6e20\u9053\u6253\u5305\u7684\u65b9\u5f0f\uff0c\u53ef\u7528\u4e8e\u6e20\u9053\u7edf\u8ba1\u7b49\u3002 \u73b0\u5728Android\u7684\u6784\u5efa\u5de5\u5177\u6362\u6210\u4e86gradle\uff0c\u901a\u8fc7gradle\uff0c\u7b80\u5355\u914d\u7f6e\u540e\u5c31\u53ef\u4ee5\u5b9e\u73b0\u81ea\u52a8\u6253\u6240\u6709\u6e20\u9053\u5305\u3002 1.\u6309\u7167umeng\u7684\u8981\u6c42\uff0cmanifest\u6587\u4ef6\u4e2d\u9700\u8981\u6709 <pre><code>&lt;meta-data\nandroid:name=\"UMENG_CHANNEL\"\nandroid:value=\"${UMENG_CHANNEL_VALUE}\" /&gt;\n</code></pre> \u8fd9\u6bb5\u914d\u7f6e\uff0cvalue\u90a3\u91cc\u5c31\u662fwandoujia\uff0c360\u4e4b\u7c7b\u7684\u6e20\u9053\u540d\u79f0\uff0c\u4f46\u662f\u6211\u4eec\u5728\u8fd9\u91cc\u4e0d\u4f1a\u53bb\u5199\u6e20\u9053\u540d\uff0c\u5199\u7684\u662f\u4e00\u4e2a\u5360\u4f4d\u7b26\uff0c\u540e\u9762gradle\u7f16\u8bd1\u7684\u65f6\u5019\u4f1a\u52a8\u6001\u7684\u66ff\u6362\u6389\u5b83\u3002 2\uff0c\u5728module\uff08\u4e00\u822c\u4e5f\u5c31\u662fapp\uff09\u7684build.gradle\u7684android{}\u4e2d\u6dfb\u52a0\u5982\u4e0b\u5185\u5bb9\uff1a <pre><code>productFlavors{\nwandoujia{}\nxiaomi{}\n}\nproductFlavors.all { flavor -&gt;\nflavor.manifestPlaceholders = [UMENG_CHANNEL_VALUE: name]\n}\n</code></pre></p> <p>\u91cd\u547d\u540dapk <pre><code>applicationVariants.all { variant -&gt;    //\u6279\u91cf\u4fee\u6539Apk\u540d\u5b57\nvariant.outputs.all { output -&gt;\nif (!variant.buildType.isDebuggable()) {\ndef sourceFile = \".apk\"\ndef replaceFile = \"-${variant.versionName}_${releaseTime()}.apk\"\noutputFileName = output.outputFile.name.replace(sourceFile, replaceFile)\n}\n}\n}\ndef releaseTime() {\nreturn new Date().format(\"yyyy-MM-dd\", TimeZone.getTimeZone(\"UTC\"))\n}\n</code></pre></p> <p>4.\u83b7\u53d6\u6e20\u9053 \u5728\u4ee3\u7801\u4e2d\u6211\u4eec\u53ef\u4ee5\u901a\u8fc7\u8bfb\u53d6mate-data\u4fe1\u606f\u6765\u83b7\u53d6\u6e20\u9053\uff0c\u7136\u540e\u6dfb\u52a0\u5230\u8bf7\u6c42\u53c2\u6570\u4e2d\uff0c\u83b7\u53d6\u65b9\u6cd5\u5982\u4e0b\uff1a <pre><code>private String getChannel() {\ntry {\nPackageManager pm = getPackageManager();\nApplicationInfo appInfo = pm.getApplicationInfo(getPackageName(), PackageManager.GET_META_DATA);\nreturn appInfo.metaData.getString(\"UMENG_CHANNEL\");\n} catch (PackageManager.NameNotFoundException ignored) {\n}\nreturn \"\";\n}\n</code></pre> 5.\u6267\u884c\u7b7e\u540d\u6253\u5305\uff1a \u8fd9\u65f6\u5019\u4f60\u53bbapp/build/outputs/apk\u4e2d\u5c31\u80fd\u770b\u5230\u81ea\u52a8\u6253\u597d\u7684\u6e20\u9053\u5305\u4e86</p>"},{"location":"android/android_build_apk/#3_1","title":"3.\u4f18\u7f3a\u70b9","text":"<p>\u6253\u5305\u65b9\u5f0f\u6548\u7387\u6bd4\u8f83\u4f4e\u4e0b</p>"},{"location":"android/android_compose/","title":"Compose","text":""},{"location":"android/android_compose/#_1","title":"\u51fd\u6570\u4fee\u9970\u7b26","text":"<p>\u51fd\u6570\u4fee\u9970\u7b26\u4ecb\u7ecd</p>"},{"location":"android/android_compose/#_2","title":"\u7ec4\u4ef6","text":"<p>\u521b\u5efa\u7ec4\u4ef6\u6a21\u677f </p> <pre><code>#if (${PACKAGE_NAME} &amp;&amp; ${PACKAGE_NAME} != \"\")package ${PACKAGE_NAME}#end\n\n#parse(\"File Header.java\")\n\nimport androidx.compose.runtime.Composable\nimport androidx.compose.ui.tooling.preview.Preview\n\n#if (${Function_Name} == \"\" )\n@Composable\nfun ${NAME}() {\n}@Preview\n@Composable\nfun ${NAME}Preview() {${NAME}()\n}\n#end#if (${Function_Name} != \"\" )\n@Composable\nfun ${Function_Name}() {\n}@Preview\n@Composable\nfun ${Function_Name}Preview() {${Function_Name}()\n}\n#end\n</code></pre> <p>\u7ec4\u4ef6\u5bf9\u6bd4</p> Android Compose Button Button TextView Text EditText TextField ImageView Image LinearLayout(h) Row LinearLayout(v) Column FrameLayout Box RecyclerView(v) LazyColumn RecyclerView(h) LazyRow Snackbar Snackbar"},{"location":"android/android_compose/#modifier","title":"Modifier\u4fee\u9970\u7b26","text":""},{"location":"android/android_compose/#slots-api","title":"Slots API","text":"<p>CompositionLocalProvider Scaffold</p>"},{"location":"android/android_compose/#_3","title":"\u4f18\u5316","text":"<p>Laziness\u4f18\u5316</p>"},{"location":"android/android_dev_mode/","title":"\u5f00\u53d1\u6a21\u5f0f","text":""},{"location":"android/android_dev_mode/#mvc","title":"MVC","text":"<p>\u5728\u5b89\u5353\u5f00\u53d1\u4e2d\uff0cMVC\uff08Model-View-Controller\uff09\u662f\u4e00\u79cd\u8f6f\u4ef6\u8bbe\u8ba1\u6a21\u5f0f\uff0c\u7528\u4e8e\u7ec4\u7ec7\u548c\u7ba1\u7406\u5e94\u7528\u7a0b\u5e8f\u7684\u7ed3\u6784\u548c\u903b\u8f91\u3002\u5177\u4f53\u6765\u8bf4\uff0c\u5b89\u5353\u4e2d\u7684MVC\u6a21\u5f0f\u53ef\u4ee5\u7406\u89e3\u4e3a\u4ee5\u4e0b\u5bf9\u5e94\u5173\u7cfb\uff1a</p> <ol> <li> <p>Model\uff08\u6a21\u578b\uff09\uff1a\u6a21\u578b\u662f\u5e94\u7528\u7a0b\u5e8f\u4e2d\u7684\u6570\u636e\u548c\u4e1a\u52a1\u903b\u8f91\u3002\u5728\u5b89\u5353\u4e2d\uff0c\u6a21\u578b\u901a\u5e38\u662f\u6307\u6570\u636e\u7684\u6765\u6e90\u548c\u5904\u7406\uff0c\u4f8b\u5982\u4ece\u6570\u636e\u5e93\u4e2d\u8bfb\u53d6\u6570\u636e\u3001\u5bf9\u6570\u636e\u8fdb\u884c\u64cd\u4f5c\u548c\u66f4\u65b0\u7b49\u3002</p> </li> <li> <p>View\uff08\u89c6\u56fe\uff09\uff1a\u89c6\u56fe\u8d1f\u8d23\u663e\u793a\u6a21\u578b\u4e2d\u7684\u6570\u636e\u548c\u7528\u6237\u754c\u9762\u3002\u5728\u5b89\u5353\u4e2d\uff0c\u89c6\u56fe\u901a\u5e38\u662f\u6307UI\u5143\u7d20\uff0c\u5982\u6309\u94ae\u3001\u6587\u672c\u6846\u3001\u56fe\u8868\u7b49\uff0c\u4ee5\u53ca\u5e03\u5c40\u6587\u4ef6\uff08XML\u6587\u4ef6\uff09\u3002</p> </li> <li> <p>Controller\uff08\u63a7\u5236\u5668\uff09\uff1a\u63a7\u5236\u5668\u8d1f\u8d23\u5904\u7406\u7528\u6237\u8f93\u5165\u3001\u66f4\u65b0\u6a21\u578b\u6570\u636e\u548c\u7ba1\u7406\u89c6\u56fe\u7684\u884c\u4e3a\u3002\u5728\u5b89\u5353\u4e2d\uff0c\u63a7\u5236\u5668\u901a\u5e38\u662f\u6307\u6d3b\u52a8\uff08Activity\uff09\u6216\u7247\u6bb5\uff08Fragment\uff09\uff0c\u5b83\u4eec\u63a5\u6536\u7528\u6237\u8f93\u5165\u3001\u8c03\u7528\u6a21\u578b\u7684\u65b9\u6cd5\u6765\u66f4\u65b0\u6570\u636e\uff0c\u5e76\u5728\u9700\u8981\u65f6\u66f4\u65b0\u89c6\u56fe\u3002</p> </li> </ol>"},{"location":"android/android_dev_mode/#_1","title":"\u4f18\u70b9","text":"<ol> <li>\u5206\u79bb\u5173\u6ce8\u70b9\uff1aMVC\u5c06\u5e94\u7528\u7a0b\u5e8f\u7684\u903b\u8f91\u5206\u4e3a\u6a21\u578b\u3001\u89c6\u56fe\u548c\u63a7\u5236\u5668\uff0c\u4f7f\u5f97\u4ee3\u7801\u66f4\u5177\u53ef\u8bfb\u6027\u548c\u53ef\u7ef4\u62a4\u6027\u3002</li> <li>\u53ef\u91cd\u7528\u6027\uff1aMVC\u4e2d\u7684\u6a21\u578b\u548c\u89c6\u56fe\u662f\u72ec\u7acb\u7684\uff0c\u53ef\u4ee5\u5728\u4e0d\u540c\u7684\u573a\u666f\u4e2d\u91cd\u7528\u3002</li> <li>\u677e\u8026\u5408\uff1a\u6a21\u578b\u3001\u89c6\u56fe\u548c\u63a7\u5236\u5668\u4e4b\u95f4\u7684\u8026\u5408\u5ea6\u8f83\u4f4e\uff0c\u4f7f\u5f97\u5bf9\u4e8e\u5176\u4e2d\u4e00\u4e2a\u90e8\u5206\u7684\u4fee\u6539\u4e0d\u4f1a\u5f71\u54cd\u5176\u4ed6\u90e8\u5206\u3002</li> <li>\u5bb9\u6613\u8fdb\u884c\u5355\u5143\u6d4b\u8bd5\uff1aMVC\u4e2d\u7684\u63a7\u5236\u5668\u548c\u6a21\u578b\u90fd\u53ef\u4ee5\u8fdb\u884c\u5355\u5143\u6d4b\u8bd5\uff0c\u4ee5\u4fdd\u8bc1\u4ee3\u7801\u7684\u8d28\u91cf\u3002</li> </ol>"},{"location":"android/android_dev_mode/#_2","title":"\u7f3a\u70b9","text":"<ol> <li>\u89c6\u56fe\u548c\u63a7\u5236\u5668\u4e4b\u95f4\u7684\u8026\u5408\uff1a\u63a7\u5236\u5668\u5bf9\u89c6\u56fe\u7684\u76f4\u63a5\u5f15\u7528\u53ef\u80fd\u5bfc\u81f4\u5b83\u4eec\u4e4b\u95f4\u7684\u5f3a\u8026\u5408\uff0c\u9020\u6210\u4ee3\u7801\u7684\u590d\u6742\u6027\u589e\u52a0\u3002</li> <li>\u903b\u8f91\u5206\u6563\uff1aMVC\u4e2d\u7684\u63a7\u5236\u5668\u8d1f\u8d23\u5904\u7406\u7528\u6237\u8f93\u5165\u548c\u63a7\u5236\u6a21\u578b\u548c\u89c6\u56fe\u4e4b\u95f4\u7684\u4ea4\u4e92\uff0c\u5bfc\u81f4\u5e94\u7528\u7a0b\u5e8f\u903b\u8f91\u5206\u6563\u5728\u5404\u4e2a\u63a7\u5236\u5668\u4e4b\u95f4\u3002</li> <li>\u968f\u7740\u754c\u9762\u53ca\u5176\u903b\u8f91\u7684\u590d\u6742\u5ea6\u4e0d\u65ad\u63d0\u5347\uff0cActivity\u7c7b\u7684\u804c\u8d23\u4e0d\u65ad\u589e\u52a0\uff0c\u4ee5\u81f4\u53d8\u5f97\u5e9e\u5927\u81c3\u80bf</li> </ol>"},{"location":"android/android_dev_mode/#mvp","title":"MVP","text":"<p>\u5728\u5b89\u5353\u5f00\u53d1\u4e2d\uff0cMVP\uff08Model-View-Presenter\uff09\u662f\u4e00\u79cd\u57fa\u4e8eMVC\u6a21\u5f0f\u7684\u53d8\u79cd\u6a21\u5f0f\uff0c\u5b83\u7528\u4e8e\u7ec4\u7ec7\u548c\u7ba1\u7406\u5e94\u7528\u7a0b\u5e8f\u7684\u7ed3\u6784\u548c\u903b\u8f91\u3002\u5728\u5b89\u5353\u4e2d\uff0cMVP\u6a21\u5f0f\u53ef\u4ee5\u7406\u89e3\u4e3a\u4ee5\u4e0b\u5bf9\u5e94\u5173\u7cfb\uff1a</p> <ol> <li> <p>Model\uff08\u6a21\u578b\uff09\uff1a\u4e0emvc\u76f8\u540c</p> </li> <li> <p>View\uff08\u89c6\u56fe\uff09\uff1a\u4e0emvc\u76f8\u540c</p> </li> <li> <p>Presenter\uff08\u5c55\u793a\u8005\uff09\uff1a\u5c55\u793a\u8005\u662f\u8fde\u63a5\u6a21\u578b\u548c\u89c6\u56fe\u7684\u4e2d\u95f4\u5c42\u3002\u5b83\u8d1f\u8d23\u5904\u7406\u7528\u6237\u8f93\u5165\u3001\u8c03\u7528\u6a21\u578b\u7684\u65b9\u6cd5\u6765\u66f4\u65b0\u6570\u636e\uff0c\u5e76\u5728\u9700\u8981\u65f6\u66f4\u65b0\u89c6\u56fe\u3002\u5c55\u793a\u8005\u8fd8\u8d1f\u8d23\u63a7\u5236\u89c6\u56fe\u7684\u884c\u4e3a\u548c\u903b\u8f91\uff0c\u4f8b\u5982\u5904\u7406\u70b9\u51fb\u4e8b\u4ef6\u3001\u663e\u793a\u6570\u636e\u7b49\u3002</p> </li> </ol>"},{"location":"android/android_dev_mode/#_3","title":"\u4f18\u70b9","text":"<ol> <li>\u66f4\u597d\u7684\u6d4b\u8bd5\u6027\uff1aMVP\u4e2d\u7684\u89c6\u56fe\u548c\u6a21\u578b\u4e4b\u95f4\u901a\u8fc7Presenter\u8fdb\u884c\u4ea4\u4e92\uff0c\u4f7f\u5f97\u89c6\u56fe\u548c\u6a21\u578b\u53ef\u4ee5\u8fdb\u884c\u72ec\u7acb\u7684\u5355\u5143\u6d4b\u8bd5\u3002</li> <li>\u89e3\u8026\uff1aMVP\u5c06\u89c6\u56fe\u548c\u6a21\u578b\u5b8c\u5168\u89e3\u8026\uff0c\u4f7f\u5f97\u5b83\u4eec\u53ef\u4ee5\u72ec\u7acb\u5730\u8fdb\u884c\u5f00\u53d1\u548c\u4fee\u6539\u3002</li> <li>\u53ef\u7ef4\u62a4\u6027\uff1aMVP\u67b6\u6784\u4f7f\u5f97\u4ee3\u7801\u66f4\u6613\u4e8e\u7406\u89e3\u548c\u7ef4\u62a4\u3002</li> <li>\u7075\u6d3b\u6027\uff1aPresenter\u53ef\u4ee5\u6839\u636e\u5177\u4f53\u7684\u9700\u6c42\u8fdb\u884c\u5b9a\u5236\uff0c\u4f7f\u5f97\u5e94\u7528\u7a0b\u5e8f\u66f4\u52a0\u7075\u6d3b\u3002</li> </ol>"},{"location":"android/android_dev_mode/#_4","title":"\u7f3a\u70b9","text":"<ol> <li>\u590d\u6742\u6027\u589e\u52a0\uff1aMVP\u67b6\u6784\u4e2d\u589e\u52a0\u4e86Presenter\u7684\u89d2\u8272\uff0c\u4f7f\u5f97\u6574\u4f53\u67b6\u6784\u53d8\u5f97\u66f4\u52a0\u590d\u6742\u3002</li> <li>\u5b66\u4e60\u66f2\u7ebf\uff1a\u5bf9\u4e8e\u6ca1\u6709\u4f7f\u7528\u8fc7MVP\u7684\u5f00\u53d1\u4eba\u5458\u6765\u8bf4\uff0c\u5b66\u4e60\u548c\u7406\u89e3MVP\u67b6\u6784\u53ef\u80fd\u9700\u8981\u4e00\u5b9a\u7684\u65f6\u95f4\u548c\u7ecf\u9a8c</li> <li>\u63a5\u53e3\u7206\u70b8\u5f0f\u589e\u52a0</li> </ol>"},{"location":"android/android_dev_mode/#mvp_1","title":"mvp\u642d\u5efa","text":"<p>View\u5c42\u63a5\u53e3 <pre><code>interface ILoginView {\nfun loginSuccess(data: LoginBean?)\n\nfun loginFail(msg: String?)\n}\n</code></pre> View\u5c42\u5b9e\u73b0\uff1a\u7531\u56fe\u53ef\u77e5v\u5c42\u9700\u8981p\u5c42\u5bf9\u8c61 <pre><code>class LoginActivity : AppCompatActivity, ILoginView {\nprivate lateinit var p: ILoginPresenter\noverride fun init() {\np = LoginPresenterImpl(this, this)\nxx.setOnClickListener {\np.login(\"xxx\", \"xxx\")\n}\n}\noverride fun loginSuccess(data: LoginBean?) {\n}\n\noverride fun loginFail(msg: String?) {\n}\n}\n</code></pre> p\u5c42\u63a5\u53e3 <pre><code>interface ILoginPresenter {\nfun login(name: String, pwd: String)\n}\n</code></pre> p\u5c42\u5b9e\u73b0\uff1a\u7531\u56fe\u53ef\u77e5p\u5c42\u9700\u8981model\u548cview\u5bf9\u8c61\uff0c\u4e00\u822c\u6570\u636e\u6821\u9a8c\u53ef\u4ee5\u5728\u6b64\u6267\u884c <pre><code>class LoginPresenterImpl(private val context: Context, private val loginView: ILoginView) :\nILoginPresenter, ILoginModel.ILoginCallBack {\nprivate val model = LoginModelImpl()\noverride fun login(name: String, pwd: String) {\n//\u6570\u636e\u6821\u9a8c\u5904\u7406\nmodel.login(context, name, pwd, this)\n}\noverride fun onSuccess(data: LoginBean?) {\n//\u6570\u636e\u6821\u9a8c\u5904\u7406\nloginView.loginSuccess(data)\n}\noverride fun onFail(msg: String?) {\nloginView.loginFail(msg)\n}\n}\n</code></pre> model\u5c42\u63a5\u53e3\uff1a\u9700\u8981\u56de\u8c03\u7ed9p\u5c42\u6570\u636e <pre><code>interface ILoginModel {\nfun login(context: Context, name: String, pwd: String, callBack: ILoginCallBack)\n\ninterface ILoginCallBack {\nfun onSuccess(data: LoginBean?)\n\nfun onFail(msg: String?)\n}\n}\n</code></pre> model\u5c42\u5b9e\u73b0 <pre><code>class LoginModelImpl : ILoginModel {\noverride fun login(\ncontext: Context,\nname: String,\npwd: String,\ncallBack: ILoginModel.ILoginCallBack\n) {\n//\u7f51\u7edc\u8bf7\u6c42\n}\n</code></pre> google\u65b9\u6848\u5b9e\u73b0 \u589e\u52a0\u4e00\u4e2a\u5951\u7ea6\u7c7b\uff0c\u5c06\u63a5\u53e3\u7c7b\u5168\u90e8\u79fb\u5230\u7c7b\u4e2d <pre><code>interface LoginContract {\ninterface IModel {\n//\u7701\u7565\n}\n\ninterface IView{\n//\u7701\u7565\n}\n\ninterface IPresenter {\n//\u7701\u7565\n}\n}\n</code></pre></p>"},{"location":"android/design_mode/","title":"\u8bbe\u8ba1\u6a21\u5f0f","text":""},{"location":"android/design_mode/#_1","title":"\u8bbe\u8ba1\u6a21\u5f0f\u516d\u5927\u539f\u5219","text":""},{"location":"android/design_mode/#1","title":"1.\u5355\u4e00\u804c\u8d23\u539f\u5219","text":"<p>\u4e00\u4e2a\u7c7b\u5e94\u8be5\u53ea\u8d1f\u8d23\u4e00\u9879\u804c\u8d23</p>"},{"location":"android/design_mode/#2","title":"2.\u63a5\u53e3\u9694\u79bb\u539f\u5219","text":"<p>\u5efa\u7acb\u5355\u4e00\u63a5\u53e3\uff0c\u4e0d\u8981\u5efa\u7acb\u81c3\u80bf\u5e9e\u5927\u7684\u63a5\u53e3\u3002\u4e5f\u5c31\u662f\u8bf4\uff0c\u63a5\u53e3\u5c3d\u91cf\u7ec6\u5316\uff0c\u540c\u65f6\u63a5\u53e3\u4e2d\u7684\u65b9\u6cd5\u5c3d\u91cf\u5c11</p>"},{"location":"android/design_mode/#3","title":"3.\u91cc\u6c0f\u66ff\u6362\u539f\u5219","text":"<p>\u5b50\u7c7b\u53ef\u4ee5\u6269\u5c55\u7236\u7c7b\u7684\u529f\u80fd\uff0c\u4f46\u662f\u4e0d\u80fd\u6539\u53d8\u7236\u7c7b\u539f\u6709\u7684\u529f\u80fd(\u4e0d\u80fd\u8986\u76d6\u7236\u7c7b\u7684\u975e\u62bd\u8c61\u65b9\u6cd5)</p>"},{"location":"android/design_mode/#4","title":"4.\u4f9d\u8d56\u5012\u7f6e\u539f\u5219","text":"<p>\u6a21\u5757\u95f4\u4f9d\u8d56\u901a\u8fc7\u62bd\u8c61\u53d1\u751f\uff0c\u5b9e\u73b0\u7c7b\u4e4b\u95f4\u4e0d\u53d1\u751f\u76f4\u63a5\u4f9d\u8d56\u5173\u7cfb\uff0c\u5982\u7c7b\u4e2d\u7684\u6210\u5458\u5c5e\u6027\u5e94\u8be5\u62bd\u8c61\u5316(\u63a5\u53e3)</p>"},{"location":"android/design_mode/#5","title":"5.\u8fea\u7c73\u7279\u6cd5\u5219","text":"<p>\u6838\u5fc3\u662f\u5c3d\u91cf\u964d\u4f4e\u7c7b\u4e4b\u95f4\u7684\u8026\u5408</p>"},{"location":"android/design_mode/#6","title":"6.\u5f00\u95ed\u539f\u5219","text":"<p>\u5f3a\u8c03\u5bf9\u4fee\u6539\u5173\u95ed\uff0c\u5bf9\u6269\u5c55\u5f00\u653e\uff0c\u9075\u5faa\u8be5\u539f\u5219\u80fd\u591f\u4f7f\u4ee3\u7801\u66f4\u52a0\u7075\u6d3b\u3001\u6613\u4e8e\u7ef4\u62a4\u548c\u6269\u5c55</p>"},{"location":"android/design_mode/#23","title":"23\u79cd\u8bbe\u8ba1\u6a21\u5f0f","text":"<ol> <li> <p>\u521b\u5efa\u578b\u6a21\u5f0f\uff0c\u5171\u4e94\u79cd\uff1a\u2f2f\u2f1a\u2f45\u6cd5\u6a21\u5f0f\u3001\u62bd\u8c61\u2f2f\u2f1a\u6a21\u5f0f\u3001\u5355\u4f8b\u6a21\u5f0f\u3001\u5efa\u9020\u8005\u6a21\u5f0f\u3001\u539f\u578b\u6a21\u5f0f</p> </li> <li> <p>\u7ed3\u6784\u578b\u6a21\u5f0f\uff0c\u5171\u4e03\u79cd\uff1a\u9002\u914d\u5668\u6a21\u5f0f\u3001\u88c5\u9970\u5668\u6a21\u5f0f\u3001\u4ee3\u7406\u6a21\u5f0f\u3001\u5916\u89c2\u6a21\u5f0f\u3001\u6865\u63a5\u6a21\u5f0f\u3001\u7ec4\u5408\u6a21\u5f0f\u3001\u4eab\u5143\u6a21\u5f0f</p> </li> <li> <p>\u2f8f\u4e3a\u578b\u6a21\u5f0f\uff0c\u5171\u2f17\u2f00\u79cd\uff1a\u7b56\u7565\u6a21\u5f0f\u3001\u6a21\u677f\u2f45\u6cd5\u6a21\u5f0f\u3001\u89c2\u5bdf\u8005\u6a21\u5f0f\u3001\u8fed\u4ee3\u2f26\u6a21\u5f0f\u3001\u8d23\u4efb\u94fe\u6a21\u5f0f\u3001\u547d\u4ee4\u6a21\u5f0f\u3001\u5907\u5fd8\u5f55 \u6a21\u5f0f\u3001\u72b6\u6001\u6a21\u5f0f\u3001\u8bbf\u95ee\u8005\u6a21\u5f0f\u3001\u4e2d\u4ecb\u8005\u6a21\u5f0f\u3001\u89e3\u91ca\u5668\u6a21\u5f0f</p> </li> </ol>"},{"location":"android/compose/compose_annotation/","title":"Compose annotation","text":""},{"location":"android/compose/compose_annotation/#composable","title":"@Composable","text":"<p>\u53ef\u7ec4\u5408\u51fd\u6570\uff0cJetpack Compose \u662f\u56f4\u7ed5\u53ef\u7ec4\u5408\u51fd\u6570\u6784\u5efa\u7684 <pre><code>@Composable\nfun MessageCard(name: String) {\nText(text = \"Hello $name!\")\n}\n</code></pre></p>"},{"location":"android/compose/compose_annotation/#preview","title":"@Preview","text":"<p>\u5f00\u542f\u9884\u89c8\u529f\u80fd <pre><code>@Preview(\nshowBackground = true,\nshowSystemUi = true,\ndevice = Devices.NEXUS_5\n)\n@Composable\nfun MessageCard(name: String) {\nText(text = \"Hello $name!\")\n}\n</code></pre> \u63a5\u53e3</p> \u53c2\u6570\u540d \u53c2\u6570\u7c7b\u578b \u5fc5\u586b \u53c2\u6570\u63cf\u8ff0 name String \u5426 \u8bbe\u7f6e\u9884\u89c8\u522b\u540d group String \u5426 \u8bbe\u7f6e\u9884\u89c8\u7ec4\u540d apiLevel Int \u5426 \u8bbe\u7f6eapi\u7b49\u7ea7\uff0c\u6839\u636eas\u63d0\u793a\u8303\u56f4\u586b\u5199 widthDp Int \u5426 \u8bbe\u7f6e\u9884\u89c8\u754c\u9762\u5bbd\u5ea6\uff0c\u5355\u4f4ddp heightDp Int \u5426 \u8bbe\u7f6e\u9884\u89c8\u754c\u9762\u9ad8\u5ea6\uff0c\u5355\u4f4ddp locale String \u5426 \u8bbe\u7f6e\u9884\u89c8\u8bed\u8a00\uff0c\u5982\u4e2d\u6587\uff0c\u82f1\u6587\u7b49 fontScale Float \u5426 \u8bbe\u7f6e\u9884\u89c8\u6587\u5b57\u7f29\u653e showSystemUi Boolean \u5426 \u8bbe\u7f6e\u9884\u89c8\u72b6\u6001\u680f\u5e95\u90e8\u680f\u663e\u793a showBackground Boolean \u5426 \u8bbe\u7f6e\u9884\u89c8\u754c\u9762\u80cc\u666f\u663e\u793a backgroundColor String \u5426 \u8bbe\u7f6e\u9884\u89c8\u754c\u9762\u80cc\u666f\u989c\u8272 uiMode UiMode \u5426 \u8bbe\u7f6e\u9884\u89c8\u663e\u793a\u6a21\u5f0f\uff0c\u5982\u591c\u95f4\u6a21\u5f0f device Device \u5426 \u8bbe\u7f6e\u9884\u89c8\u8bbe\u5907 wallpaper Wallpaper \u5426 \u8bbe\u7f6e\u9884\u89c8\u58c1\u7eb8"},{"location":"android/compose/compose_annotation/#uimode","title":"UiMode","text":"\u540d\u79f0 \u63cf\u8ff0 UI_MODE_TYPE_UNDEFINED \u672a\u5b9a\u4e49 UI_MODE_TYPE_NORMAL \u6b63\u5e38\u6a21\u5f0f UI_MODE_TYPE_DESK \u5de5\u4f5c\u6a21\u5f0f UI_MODE_TYPE_CAR \u6c7d\u8f66\u6a21\u5f0f UI_MODE_TYPE_TELEVISION \u7535\u89c6\u8bbe\u5907 UI_MODE_TYPE_APPLIANCE \u4fbf\u643a\u8bbe\u5907 UI_MODE_TYPE_WATCH \u624b\u8868\u8bbe\u5907 UI_MODE_TYPE_VR_HEADSET VR\u8bbe\u5907 UI_MODE_NIGHT_MASK \u591c\u95f4\u6a21\u5f0f UI_MODE_NIGHT_UNDEFINED \u591c\u95f4\u672a\u5b9a\u4e49 UI_MODE_NIGHT_NO \u767d\u5929\u6a21\u5f0f UI_MODE_NIGHT_YES \u9ed1\u591c\u6a21\u5f0f <p>group\u4e00\u822c\u548cdevices\u7ec4\u5408\u4f7f\u7528\uff0c\u5982\u6a2a\u5c4f\u548c\u7ad6\u5c4f </p>"},{"location":"android/compose/compose_laziness/","title":"Compose laziness","text":"<p>\u6848\u4f8b</p> <p><pre><code>fun MainSample() {\nlog(\"1\")\nvar state by remember {\nmutableStateOf(\"init\")\n}\nLaunchedEffect(key1 = Unit){\ndelay(1000L)\nstate = \"modify\"\n}\nGreeting(content = state)\nlog(\"4\")\n}\n\n@Composable\nfun Greeting(content: String) {\nlog(\"2 $content\")\nText(text = content)\nlog(\"3 $content\")\n}\n\nfun log(msg: String){\nLog.d(\"TAG\", \"log: $msg\")\n}\n\n\u8fd0\u884c\u7ed3\u679c\uff1a\n\nlog: 1\nlog: 2 init\nlog: 3 init\nlog: 4\n1s\u540e\nlog: 1\nlog: 2 modify\nlog: 3 modify\nlog: 4\n</code></pre> \u4f18\u5316\u540e</p> <p><pre><code>fun MainSample() {\n...\nGreeting { state }\n...\n}\n\n@Composable\nfun Greeting(lambda: () -&gt; String) {\nlog(\"2 ${lambda()}\")\nText(text = lambda())\nlog(\"3 ${lambda()}\")\n}\n\n\u8fd0\u884c\u7ed3\u679c\uff1a\n\nlog: 1\nlog: 2 init\nlog: 3 init\nlog: 4\n1s\u540e\nlog: 2 modify\nlog: 3 modify\n</code></pre> \u539f\u56e0\u662flambda\u8868\u8fbe\u5f0f\u662f\u5728\u8c03\u7528\u7684\u65f6\u5019\u624d\u6267\u884c\uff0c\u4f18\u5316\u540e\u7684\u4f5c\u7528\u57df\u53d8\u6210\u4e86Greeting\u51fd\u6570\u4e2d\uff0c\u56e0\u4e3a\u4e0d\u4f1a\u89e6\u53d1MainSample\u7684\u51fd\u6570\u4f5c\u7528\u57df</p>"},{"location":"android/compose/compose_text/","title":"Compose text","text":""},{"location":"android/compose/compose_text/#_1","title":"\u6587\u5b57\u5185\u5bb9","text":"<pre><code>Text(text = \"app_name\")\nText(text = stringResource(id = R.string.app_name))\n</code></pre>"},{"location":"android/compose/compose_text/#_2","title":"\u6587\u5b57\u989c\u8272","text":"<pre><code>color = Color.Blue\ncolor = Color(0XFFFFFF00)\ncolor = Color(1F, 1F, 0F, 1f)\ncolor = Color(255, 255, 0, 0xFF)\ncolor = colorResource(id = R.color.black)\n</code></pre>"},{"location":"android/compose/compose_text/#_3","title":"\u6587\u5b57\u5927\u5c0f","text":"<pre><code>fontSize = 16.sp\nfontSize = TextUnit(22f, TextUnitType.Sp)\n</code></pre>"},{"location":"android/compose/compose_text/#_4","title":"\u6587\u5b57\u7c97\u7ec6","text":"<pre><code>fontWeight = FontWeight.Bold\n</code></pre>"},{"location":"android/compose/compose_text/#_5","title":"\u6587\u5b57\u6837\u5f0f","text":"<pre><code>fontStyle = FontStyle.Normal\nfontStyle = FontStyle.Italic\n</code></pre>"},{"location":"android/compose/compose_text/#_6","title":"\u5b57\u4f53","text":"<pre><code>fontFamily = FontFamily.SansSerif\n</code></pre>"},{"location":"android/compose/compose_text/#_7","title":"\u6587\u5b57\u95f4\u8ddd","text":"<pre><code>letterSpacing = 10.sp\n</code></pre>"},{"location":"android/compose/compose_text/#_8","title":"\u6587\u5b57\u88c5\u9970","text":"<pre><code>textDecoration = TextDecoration.Underline//\u4e0b\u5212\u7ebf\ntextDecoration = TextDecoration.combine(listOf(\nTextDecoration.LineThrough,//\u5220\u9664\u7ebf\nTextDecoration.Underline//\u4e0b\u5212\u7ebf\n))//\u540c\u65f6\u5b58\u5728\n</code></pre>"},{"location":"android/compose/compose_text/#_9","title":"\u6587\u5b57\u4f4d\u7f6e","text":"<pre><code>textAlign = TextAlign.Center\n</code></pre>"},{"location":"android/compose/compose_text/#_10","title":"\u884c\u9ad8","text":"<pre><code>lineHeight = 15.sp\n</code></pre>"},{"location":"android/compose/compose_text/#_11","title":"\u6587\u5b57\u884c\u6570\u4ee5\u53ca\u88c1\u526a","text":"<pre><code>overflow = TextOverflow.Clip\nmaxLines = 1\n</code></pre>"},{"location":"android/compose/compose_text/#_12","title":"\u6587\u5b57\u6837\u5f0f\u53ef\u8bbe\u7f6e\u5f88\u591a\u5c5e\u6027\uff0c\u5305\u62ec\u4ee5\u4e0a\u4ee5\u53ca\u989d\u5916\u7684\u7f29\u8fdb\u7b49","text":"<pre><code>style = TextStyle()\n</code></pre>"},{"location":"android/compose/compose_text/#_13","title":"\u6587\u5b57\u53ef\u9009\u62e9","text":"<pre><code>SelectionContainer {\nText()\n}\n</code></pre>"},{"location":"android/compose/compose_text/#_14","title":"\u53ef\u70b9\u51fb\u6587\u672c(\u5bcc\u6587\u672c)","text":"<p>\u6848\u4f8b\uff1a\u7528\u6237\u534f\u8bae\u548c\u9690\u79c1\u653f\u7b56\u70b9\u51fb\u8d85\u94fe\u63a5 <pre><code>val annoStr = buildAnnotatedString {\nappend(\"\u70b9\u51fb\u767b\u5f55\u4ee3\u7801\u540c\u610f\")\npushStringAnnotation(\"protocol\", \"https://www.baidu.com\")\nwithStyle(\nSpanStyle(\ncolor = Color.Blue,\ntextDecoration = TextDecoration.Underline\n)\n) {\nappend(\"\u7528\u6237\u534f\u8bae\")\n}\npop()\nappend(\"\u548c\")\npushStringAnnotation(\"private\", \"https://developer.android.google.cn/jetpack/compose\")\nwithStyle(\nSpanStyle(\ncolor = Color.Blue,\ntextDecoration = TextDecoration.Underline\n)\n) {\nappend(\"\u9690\u79c1\u653f\u7b56\")\n}\npop()\n}\nvar showStr by remember {\nmutableStateOf(\"\")\n}\nColumn {\nClickableText(text = annoStr, onClick = { position -&gt;\nshowStr = annoStr.getStringAnnotations(\"protocol\", position, position)\n.firstOrNull()?.item ?: annoStr.getStringAnnotations(\"private\", position, position)\n.firstOrNull()?.item ?: \"\"\n})\nText(text = showStr)\n}\n</code></pre></p>"},{"location":"android/design/design_single/","title":"Design single","text":""},{"location":"android/design/design_single/#_1","title":"\u61d2\u6c49\u5f0f(\u53cc\u91cd\u6821\u9a8c)","text":"<pre><code>public class MySingleton {\nprivate static MySingleton INSTANCE;\nprivate MySingleton() {\n}\npublic static MySingleton getInstance() {\nif (INSTANCE == null) {\nsynchronized (MySingleton.class) {\nif (INSTANCE == null) {\nINSTANCE = new MySingleton();\n}\n}\n}\nreturn INSTANCE;\n}\n}\n</code></pre>"},{"location":"android/java/java_annotation/","title":"Java annotation","text":""},{"location":"android/java/java_annotation/#1","title":"1.\u57fa\u672c\u4f7f\u7528","text":"<p><pre><code>@Target(ElementType.TYPE)\n@Retention(RetentionPolicy.SOURCE)\npublic @interface MyAnnotation {\nString value();\n}\n</code></pre> value\u6bd4\u8f83\u7279\u6b8a\uff0c\u5728\u4f7f\u7528\u65f6\u65e0\u9700\u6307\u5b9a <pre><code>@MyAnnotation(\"MyClass\")\npublic class MyClass {\n\uff5d\n</code></pre> \u5982\u679c\u6362\u6210\u522b\u7684\u540d\u5b57\u5982id\uff0c\u5219\u9700\u8981\u5982\u4e0b\u5199\u6cd5 <pre><code>@MyAnnotation(id = \"MyClass\")\npublic class MyClass {\n\uff5d\n</code></pre> \u5982\u679c\u662f\u591a\u4e2a\u5143\u7d20\u5219\u5fc5\u987b\u5168\u90e8\u4ee5xxx = aa\uff0cyyy = bb\u5199\u6cd5</p>"},{"location":"android/java/java_annotation/#target","title":"@Target","text":"<p>\u4f5c\u7528\u4e8e\u4ec0\u4e48\u5bf9\u8c61\u4e0a\uff0c\u5982\u4e0b\u8868\u793a\u53ef\u4ee5\u4f5c\u7528\u5728\u7c7b\u4e0a\u3001\u5c5e\u6027\u4e0a\u3001\u65b9\u6cd5\u4e0a <pre><code>@Target({ElementType.TYPE, ElementType.FIELD, ElementType.METHOD})\n</code></pre> * ElementType.ANNOTATION_TYPE \u53ef\u4ee5\u5e94\u7528\u4e8e\u6ce8\u89e3\u7c7b\u578b\u3002 * ElementType.CONSTRUCTOR \u53ef\u4ee5\u5e94\u7528\u4e8e\u6784\u9020\u51fd\u6570\u3002 * ElementType.FIELD \u53ef\u4ee5\u5e94\u7528\u4e8e\u5b57\u6bb5\u6216\u5c5e\u6027\u3002 * ElementType.LOCAL_VARIABLE \u53ef\u4ee5\u5e94\u7528\u4e8e\u5c40\u90e8\u53d8\u91cf\u3002 * ElementType.METHOD \u53ef\u4ee5\u5e94\u7528\u4e8e\u65b9\u6cd5\u7ea7\u6ce8\u89e3\u3002 * ElementType.PACKAGE \u53ef\u4ee5\u5e94\u7528\u4e8e\u5305\u58f0\u660e\u3002 * ElementType.PARAMETER \u53ef\u4ee5\u5e94\u7528\u4e8e\u65b9\u6cd5\u7684\u53c2\u6570\u3002 * ElementType.TYPE \u53ef\u4ee5\u5e94\u7528\u4e8e\u7c7b\u7684\u4efb\u4f55\u5143\u7d20\u3002</p>"},{"location":"android/java/java_annotation/#retention","title":"@Retention","text":"<ul> <li>RetentionPolicy.SOURCE\u4ec5\u4fdd\u7559\u5728\u6e90\u7ea7\u522b\u4e2d\uff0c\u5e76\u88ab\u7f16\u8bd1\u5668\u5ffd\u7565</li> <li>RetentionPolicy.CLASS\u5728\u7f16\u8bd1\u65f6\u7531\u7f16\u8bd1\u5668\u4fdd\u7559\uff0c\u4f46 Java \u865a\u62df\u673a(JVM)\u4f1a\u5ffd\u7565</li> <li>RetentionPolicy.RUNTIME\u7531 JVM \u4fdd\u7559\uff0c\u56e0\u6b64\u8fd0\u884c\u65f6\u73af\u5883\u53ef\u4ee5\u4f7f\u7528\u5b83</li> </ul>"},{"location":"android/java/java_annotation/#inherited","title":"@Inherited","text":"<p>\u6ce8\u89e3\u4f5c\u2f64\u88ab\u2f26\u7c7b\u7ee7\u627f</p>"},{"location":"android/java/java_annotation/#_1","title":"\u573a\u666f","text":"<p>SOURCE\uff1a</p> <p>1.APT\u6280\u672f\uff0c\u4e00\u822c\u7528\u4e8e\u751f\u6210\u8f85\u52a9\u7c7b\uff0c\u4f8b\u5982Arouter\u3001butterKnidnife\u7b49\u6846\u67b6</p> <p>\u4e3a\u5565APT\u53ea\u9700\u8981SOURCE\u7ea7\u522b\uff0c\u56e0\u4e3a\u6ce8\u89e3\u7a0b\u5e8f\u8fd0\u884c\u65f6\u673a\u662f\u5728javac\u89e3\u6790\u6e90\u7801\u7684\u65f6\u5019\uff0cSOURCE\u6ce8\u89e3\u7ea7\u522b\u521a\u597d\u662f\u4fdd\u7559\u5230\u6e90\u7801\u7ea7\u522b\uff0c\u5373\u80fd\u88ab\u89e3\u6790\u5230</p> <p>2.\u8bed\u6cd5\u68c0\u67e5\uff0c\u6bd4\u5982@IntDef\u3001DrawableRes\u3001@Override\u7b49</p> <p>CLASS\uff1a 1.AspectJ\u3001\u70ed\u4fee\u590dRoubust</p> <p>RUNTIME\uff1a \u4e00\u822c\u7ed3\u5408\u53cd\u5c04\u6280\u672f</p> <p>TypeVariable     \u6cdb\u578b\u7c7b\u578b\u53d8\u91cf\u3002\u53ef\u4ee5\u6cdb\u578b\u4e0a\u4e0b\u9650\u7b49\u4fe1\u606f\uff1b</p> <p>ParameterizedType     \u5177\u4f53\u7684\u6cdb\u578b\u7c7b\u578b\uff0c\u53ef\u4ee5\u83b7\u5f97\u5143\u6570\u636e\u4e2d\u6cdb\u578b\u7b7e\u540d\u7c7b\u578b(\u6cdb\u578b\u771f\u5b9e\u7c7b\u578b)</p> <p>GenericArrayType     \u5f53\u9700\u8981\u63cf\u8ff0\u7684\u7c7b\u578b\u662f\u6cdb\u578b\u7c7b\u7684\u6570\u7ec4\u65f6\uff0c\u6bd4\u5982List[],Map[]\uff0c\u6b64\u63a5\u53e3\u4f1a\u4f5c\u4e3aType\u7684\u5b9e\u73b0\u3002</p> <p>WildcardType     \u901a\u914d\u7b26\u6cdb\u578b\uff0c\u83b7\u5f97\u4e0a\u4e0b\u9650\u4fe1\u606f\uff1b</p>"},{"location":"android/java/java_basic/","title":"\u57fa\u7840","text":""},{"location":"android/java/java_basic/#fieldproperty","title":"field\u548cproperty\u533a\u522b","text":"<p>field\uff1a\u5b57\u6bb5 property\uff1a\u5c5e\u6027 property = field + get/set\u65b9\u6cd5 <pre><code>B.class.getDeclaredFields(); // field\u83b7\u53d6\nIntrospector.getBeanInfo(B.class); // property\u83b7\u53d6\n</code></pre></p>"},{"location":"android/java/java_collection/","title":"\u6570\u636e\u7ed3\u6784","text":""},{"location":"android/java/java_collection/#arraylist","title":"ArrayList\u89e3\u6790","text":"<p>\u4f7f\u7528\u4e0d\u540c\u6784\u9020\u65b9\u6cd5\u7684\u533a\u522b <pre><code>ArrayList()\nArrayList(int initialCapacity)\n</code></pre> \u4f7f\u7528\u9ed8\u8ba4\u6784\u9020\u65b9\u6cd5 <pre><code>private static final Object[] DEFAULTCAPACITY_EMPTY_ELEMENTDATA = new Object[0];\n\nthis.elementData = DEFAULTCAPACITY_EMPTY_ELEMENTDATA;\n</code></pre> \u4f1a\u521d\u59cb\u5316elementData\u6570\u7ec4\uff0c\u957f\u5ea6\u4e3a0\uff0c\u53ef\u4ee5\u770b\u51faArrayList\u662f\u57fa\u4e8e\u6570\u7ec4\u5b9e\u73b0</p> <p>\u4f7f\u7528\u6709\u53c2\u6784\u9020\u65b9\u6cd5 <pre><code>if (initialCapacity &gt; 0) {\nthis.elementData = new Object[initialCapacity];\n} else {\nif (initialCapacity != 0) {\nthrow new IllegalArgumentException(\"Illegal Capacity: \" + initialCapacity);\n}\n\nthis.elementData = EMPTY_ELEMENTDATA;\n}\n</code></pre> \u5982\u679cinitialCapacity\u4f200\u5c31\u548c\u9ed8\u8ba4\u6784\u9020\u4e00\u6837\uff0c\u5982\u679c\u5927\u4e8e0\u5c31\u4f1a\u521d\u59cb\u5316\u957f\u5ea6\u4e3ainitialCapacity\u7684\u6570\u7ec4</p>"},{"location":"android/java/java_collection/#_1","title":"\u95ee\u9898\u63a2\u8ba8","text":"<p>\u65e2\u7136\u53ef\u4ee5\u8bbe\u7f6e\u521d\u59cb\u5316\u6570\u7ec4\u957f\u5ea6\uff0c\u662f\u4e0d\u662f\u610f\u5473\u7740\u5c31\u53ef\u4ee5add(1, xxx)\uff0c\u4e0d\u4e00\u5b9a\u4ece\u7b2c0\u4e2a\u5f00\u59cb\u6dfb\u52a0\u6570\u636e\uff1f</p> <p>\u7b54\u6848\u662f\u9519\u8bef\u7684\uff0c\u5f53\u6211\u4eec\u8c03\u7528add\u65b9\u6cd5\u65f6\u76f4\u63a5\u62a5\u4e0b\u6807\u8d8a\u754c <pre><code>private int size;\npublic void add(int index, E element) {\nthis.rangeCheckForAdd(index);\n...\nint s;\n...\nthis.size = s + 1;\n}\n\nprivate void rangeCheckForAdd(int index) {\nif (index &gt; this.size || index &lt; 0) {\nthrow new IndexOutOfBoundsException(this.outOfBoundsMsg(index));\n}\n}\n</code></pre> \u539f\u56e0\u662fthis.size\u5e76\u6ca1\u6709\u5728\u6784\u9020\u65b9\u6cd5\u4e2d\u521d\u59cb\u5316\u6b64\u65f6\u4e3a0\uff0cindex\u5982\u679c\u662f0\u5c31\u6ca1\u95ee\u9898\uff0cthis.size\u5c06\u6b63\u5e38\u8d4b\u503c</p> <p>initialCapacity\u610f\u4e49\u4f55\u5728\uff1f</p> <p>\u5f53\u8c03\u7528add(xx)\u662f\u4f1a\u8c03\u7528\u4e09\u4e2a\u53c2\u6570\u7684add\u65b9\u6cd5 <pre><code>private void add(E e, Object[] elementData, int s) {\nif (s == elementData.length) {\nelementData = this.grow();\n}\n\nelementData[s] = e;\nthis.size = s + 1;\n}\n</code></pre> s\u662fthis.size\uff0c\u5982\u679c\u4f7f\u7528\u9ed8\u8ba4\u6784\u9020\u65b9\u6cd5\uff0c\u6b64\u65f6if\u5224\u65ad\u662f\u6210\u7acb\u7684 <pre><code>int oldCapacity = this.elementData.length;\nif (oldCapacity &lt;= 0 &amp;&amp; this.elementData == DEFAULTCAPACITY_EMPTY_ELEMENTDATA) {\nreturn this.elementData = new Object[Math.max(10, minCapacity)];\n} else {\nint newCapacity = ArraysSupport.newLength(oldCapacity, minCapacity - oldCapacity, oldCapacity &gt;&gt; 1);\nreturn this.elementData = Arrays.copyOf(this.elementData, newCapacity);\n}\n\npublic static int newLength(int oldLength, int minGrowth, int prefGrowth) {\nint prefLength = oldLength + Math.max(minGrowth, prefGrowth);\nreturn 0 &lt; prefLength &amp;&amp; prefLength &lt;= Integer.MAX_VALUE - 8 ? prefLength : hugeLength(oldLength, minGrowth);\n}\n</code></pre> \u8fd9\u91cc\u56e0\u4e3a\u6570\u7ec4\u957f\u5ea6\u662f0\uff0cgrow()\u6700\u7ec8\u4f1a\u8fd4\u56de\u4e00\u4e2a\u957f\u5ea6\u4e3a10\u7684\u6570\u7ec4\uff0c\u5373\u6b64\u65b9\u6cd5\u662f\u7528\u6765\u6269\u5bb9\u64cd\u4f5c\u7684\uff1belse\u662f\u4e0b\u6b21\u6269\u5bb9\u903b\u8f91</p> <p>\u5047\u8bbeoldCapacity=10\uff0c\u5219minCapacity - oldCapacity=1</p> <p>oldCapacity &gt;&gt; 1</p> <p>1010 = 10 \u53f3\u79fb\u540e\uff1a0101 = 5</p> <p>prefLength = 10+max(1,5) -&gt; 15</p>"},{"location":"android/java/java_collection/#_2","title":"\u603b\u7ed3","text":"<p>1.ArrayList\u9ed8\u8ba4\u5bb9\u91cf\u662f10</p> <p>2.this.size\u8868\u793a\u7684\u662f\u5bb9\u5668\u6b63\u771f\u7684\u6570\u636e\u4e2a\u6570\uff0c\u5e76\u4e0d\u662f\u7528\u6765\u8868\u793a\u5bb9\u91cf\u5927\u5c0f</p> <p>3.initialCapacity\u4fee\u6539\u9ed8\u8ba4\u5bb9\u91cf\uff0c\u4f18\u70b9\u662f\u53ef\u4ee5\u7528\u6765\u4f18\u5316\u6269\u5bb9\u6b21\u6570</p> <p>4.ArrayList\u6700\u5927\u5bb9\u91cf\u4e3aInteger.MAX_VALUE - 8</p> <p>-8\u7684\u539f\u56e0\u662f\u5bf9\u8c61\u5934\u5927\u5c0f\u9700\u898132 byte=8 int</p> <p>5.\u4e0b\u6b21\u6269\u5bb9\u5927\u7ea6\u4e3a\u539f\u6765\u76841.5\u500d(\u53ef\u80fd\u9664\u4e0d\u5c3d\uff0c\u598213-&gt;19\u7ea61.46)</p> <p>6.\u9664\u4e86\u6784\u9020\u65b9\u6cd5\u8bbe\u7f6e\u5bb9\u91cf\uff0c\u4e5f\u53ef\u4ee5\u901a\u8fc7ensureCapacity(int minCapacity)</p>"},{"location":"android/java/java_genericity/","title":"\u6cdb\u578b","text":""},{"location":"android/java/java_genericity/#1","title":"1.\u6cdb\u578b\u5b9a\u4e49","text":""},{"location":"android/java/java_genericity/#_1","title":"\u6cdb\u578b\u7c7b","text":"<pre><code>public class NormalGeneric&lt;K&gt; {\nprivate K data;\n}\n</code></pre>"},{"location":"android/java/java_genericity/#_2","title":"\u6cdb\u578b\u63a5\u53e3","text":"<pre><code>public interface Genertor&lt;T&gt; {\npublic T next();\n}\n</code></pre>"},{"location":"android/java/java_genericity/#_3","title":"\u63a5\u53e3\u5b9e\u73b0\u4e00","text":"<pre><code>public class ImplGenertor&lt;T&gt; implements Genertor&lt;T&gt; {\n@Override\npublic T next() {\nreturn null;\n}\n}\n</code></pre>"},{"location":"android/java/java_genericity/#_4","title":"\u63a5\u53e3\u5b9e\u73b0\u4e8c","text":"<pre><code>public class ImplGenertor2 implements Genertor&lt;String&gt; {\n@Override\npublic String next() {\nreturn null;\n}\n}\n</code></pre>"},{"location":"android/java/java_genericity/#_5","title":"\u6cdb\u578b\u65b9\u6cd5","text":"<p><pre><code>public class GenericMethod {\npublic &lt;T&gt; T genericMethod(T...a){\nreturn a[a.length/2];\n}\n}\n</code></pre> \u6ce8\uff1a\u6709\u624d\u662f\u6cdb\u578b\u65b9\u6cd5\uff0c\u4e14\u548c\u6cdb\u578b\u7c7b\u65e0\u5173\uff0c\u5982 <pre><code>public class GenericMethod&lt;T&gt; {\npublic &lt;T&gt; T genericMethod(T...a){\nreturn a[a.length/2];\n}\n}\n</code></pre> \u6b64\u5904\u7c7b\u4e2d\u7684T\u548c\u65b9\u6cd5\u4e2d\u7684T\u6beb\u65e0\u5173\u8054"},{"location":"android/java/java_genericity/#2","title":"2.\u6cdb\u578b\u9650\u5b9a","text":"<p>\u5229\u7528extends\u5173\u952e\u5b57\uff0c\u53ef\u4ee5\u662f\u7c7b\u6216\u63a5\u53e3\uff0c\u82e5\u6709\u7c7b\u5219\u53ea\u80fd\u5b58\u5728\u4e00\u4e2a\u4e14\u5fc5\u987b\u6392\u5217\u5728\u9996\u4e2a <pre><code>public static &lt;T extends ArrayList &amp; Comparable&gt; T min(T a, T b){\nif(a.compareTo(b)&gt;0) return a; else return b;\n}\n</code></pre></p>"},{"location":"android/java/java_genericity/#3","title":"3.\u6cdb\u578b\u5c40\u9650\u6027\u3001\u7ea6\u675f","text":"<p>1.\u4e0d\u80fd\u5b9e\u4f8b\u5316\u5373new <pre><code>new T();\n</code></pre> 2.static\u4fee\u9970\u4e2d\u4e0d\u53ef\u4f7f\u7528\uff0c\u5982\u4e0b\u7f16\u8bd1\u62a5\u9519\uff0c\u9664\u4e86\u9759\u6001\u6cdb\u578b\u65b9\u6cd5\u5982\u4e0a\u9762min\u65b9\u6cd5 <pre><code>private static T instance;\nprivate static void getInstance(T t){}\n</code></pre> \u4e0d\u53ef\u4f7f\u7528\u539f\u56e0\uff1a\u9759\u6001\u5148\u4e8e\u5bf9\u8c61\u521b\u5efa\uff0c\u6cdb\u578b\u662f\u5728\u5bf9\u8c61\u521b\u5efa\u65f6\u624d\u786e\u5b9a</p> <p>3.\u57fa\u672c\u6570\u636e\u7c7b\u578b\u4e0d\u5141\u8bb8\u4f5c\u4e3a\u6cdb\u578b\u53c2\u6570\u4f20\u5165 <pre><code>Restrict&lt;int&gt;\n</code></pre> 4.\u4e0d\u5141\u8bb8\u4f7f\u7528instanceof\u5224\u65ad\uff0c\u5982\u4e0b\u7f16\u8bd1\u62a5\u9519 <pre><code>if(restrict instanceof Restrict&lt;Double&gt;)\n</code></pre> 5.\u6570\u7ec4\u53ef\u4ee5\u7533\u660e\u4f46\u4e0d\u80fd\u5b9e\u4f8b\u5316\uff0c\u5982\u4e0b\u7b2c2\u884c\u7f16\u8bd1\u62a5\u9519 <pre><code>Restrict&lt;Double&gt;[] restrictArray;\nRestrict&lt;Double&gt;[] restricts = new Restrict&lt;Double&gt;[10];\n</code></pre> 6.\u4e0d\u80fd\u4f7f\u7528\u5728extends Exception/Throwable\u4e2d\uff0c\u5982\u4e0b\u7f16\u8bd1\u62a5\u9519 <pre><code>class Problem&lt;T&gt; extends Exception{\n}\n</code></pre> 7.\u4e0d\u80fd\u6355\u83b7\u6cdb\u578b\u5f02\u5e38 <pre><code>public &lt;T extends Throwable&gt; void doWork(T x){//\u4e0d\u62a5\u9519\ntry{\n\n}catch(T t){//\u7f16\u8bd1\u62a5\u9519\n//do sth;\n}\n}\n</code></pre> \u6b63\u786e\u5199\u6cd5 <pre><code>public &lt;T extends Throwable&gt; void doWorkSuccess(T t) throws T{\ntry{\n\n}catch(Throwable e){\nthrow t;\n}\n}\n</code></pre></p>"},{"location":"android/java/java_genericity/#4","title":"4.\u6cdb\u578b\u4e2d\u7684\u7ee7\u627f\u548c\u901a\u914d\u7b26","text":"<p><pre><code>Pair&lt;Employee&gt;\u548cPair&lt;Worker&gt;\u6ca1\u6709\u4efb\u4f55\u7ee7\u627f\u5173\u7cfb\npublic class Worker extends Employee {\n}\npublic class Pair&lt;T&gt; {\nPair&lt;Employee&gt; employeePair = new Pair&lt;Worker&gt;();//\u7f16\u8bd1\u62a5\u9519\n}\n</code></pre> \u6b63\u786e\u65b9\u5f0f <pre><code>private class ExtendPair&lt;T&gt; extends Pair&lt;T&gt;{\n}\npublic class Pair&lt;T&gt; {\nPair&lt;String&gt; pair = new ExtendPair&lt;&gt;();\n}\n</code></pre></p>"},{"location":"android/java/java_genericity/#_6","title":"\u901a\u914d\u7b26\u4ea7\u751f\u539f\u56e0","text":"<p><pre><code>public class Fruit{}\npublic class Orange extends Fruit {}\npublic class GenericType&lt;T&gt; {}\npublic static void print(GenericType&lt;Fruit&gt; p){}\npublic static void use(){\nGenericType&lt;Fruit&gt; a = new GenericType&lt;&gt;();\nprint(a);\nGenericType&lt;Orange&gt; b = new GenericType&lt;&gt;();\n//print(b);//Orange\u5c5e\u4e8eFruit\u4f46\u4e0d\u80fd\u4f7f\u7528\u4e0d\u5408\u7406\n}\n</code></pre> \u4f7f\u7528\u901a\u914d\u7b26\u89e3\u51b3\uff0c\u5982\u4e0b <pre><code>public static void print(GenericType&lt;? extends Fruit&gt; p){}\n</code></pre> \u6b64\u5904\u9650\u5b9a\u4e86\u4e0a\u754c\u4e3aFruit\uff0c\u5982 <pre><code>public class Fruit extends Food{}\nprint(new GenericType&lt;Food&gt;());//\u7f16\u8bd1\u62a5\u9519\uff0c\u8d85\u8fc7\u6cdb\u578b\u4e0a\u754c\uff0c\u6700\u5927\u662fFruit\nprint(new GenericType&lt;Fruit&gt;());//\u7f16\u8bd1\u901a\u8fc7\n</code></pre> \u6ce8\uff1a?\u4e00\u822c\u4f7f\u7528\u5728\u53d8\u91cf\u4e2d</p>"},{"location":"android/java/java_genericity/#_7","title":"\u901a\u914d\u7b26\u7f3a\u9677","text":"<p><pre><code>public class GenericType&lt;T&gt; {\nprivate T data;\npublic T getData() {\nreturn data;\n}\npublic void setData(T data) {\nthis.data = data;\n}\n}\nGenericType&lt;? extends Fruit&gt; c = new GenericType&lt;&gt;();\nc.setData(new Orange());//\u62a5\u9519\nc.setData(new Fruit());//\u62a5\u9519\nc.setData(null);//\u7f16\u8bd1\u901a\u8fc7\nFruit x = c.getData();//\u7f16\u8bd1\u901a\u8fc7\n</code></pre> \u6ce8\uff1anull\u662f\u53ef\u4ee5set\u7684</p> <p>extends\u9650\u5236\u4e0a\u754c\uff0c\u4e0b\u754c\u4f7f\u7528super <pre><code>public static void print(GenericType&lt;? super Fruit&gt; p){}\npublic class Fruit extends Food{}\nprint(new GenericType&lt;Orange&gt;());//\u7f16\u8bd1\u62a5\u9519\uff0c\u6ca1\u8fbe\u5230\u4e0b\u754c\uff0c\u81f3\u5c11\u662fFruit\nprint(new GenericType&lt;Fruit&gt;());//\u7f16\u8bd1\u901a\u8fc7\n</code></pre> \u79bb\u8c31\u73b0\u8c61 <pre><code>GenericType&lt;? super Fruit&gt; c = new GenericType&lt;&gt;();\nc.setData(new Orange());//\u7f16\u8bd1\u901a\u8fc7\nc.setData(new Fruit());//\u7f16\u8bd1\u901a\u8fc7\nc.setData(new Food());//\u62a5\u9519\nObject x = c.getData();//\u7f16\u8bd1\u901a\u8fc7\n</code></pre></p>"},{"location":"android/java/java_genericity/#_8","title":"\u603b\u7ed3","text":"<p>1.\u5bf9\u4e8e\u65b9\u6cd5\u6765\u8bf4(print)\uff0c? extends X\u53ea\u80fd\u4f20&lt;=X\u7c7b\u578b\uff0c? super X\u53ea\u80fd\u4f20&gt;=X\u7c7b\u578b</p> <p>2.\u5bf9\u4e8e\u5b9e\u4f8b\u6765\u8bf4</p> <p>? extends X\u80fd\u5b89\u5168\u8bfb\u53d6(get)\uff0cnull\u53ef\u4ee5set</p> <p>? super X\u80fd\u5b89\u5168\u5199\u5165(set)\uff0cget\u53ea\u80fd\u62ff\u5230Object\uff0cset\u53ea\u80fd\u4f20&lt;=X\u7684\u7c7b</p> <p>?\u8868\u793a\u65e0\u9650\u5236\uff0cGenericType&lt;?&gt;</p> <p>3.\u53ea\u80fd\u7533\u660e\u5728\u53d8\u91cf\u4e2d(\u4e34\u65f6\u53d8\u91cf\u3001\u65b9\u6cd5\u53c2\u6570\u53d8\u91cf\u3001\u6210\u5458\u53d8\u91cf\u7b49)</p>"},{"location":"android/java/java_genericity/#5","title":"5.\u865a\u62df\u673a\u6cdb\u578b\u5b9e\u73b0(\u4f2a\u6cdb\u578b\uff1a\u7c7b\u578b\u64e6\u9664)","text":"<p>\u5373\u6cdb\u578b\u53ea\u5728\u7f16\u8bd1\u5668\u6709\u6548 <pre><code>public class GenericRaw&lt;T&gt; {\nprivate T data;\npublic T getData() {\nreturn data;\n}\npublic void setData(T data) {\nthis.data = data;\n}\n}\n</code></pre> \u865a\u62df\u673a\u7f16\u8bd1\u540e\u4f1a\u5c06T\u7528Object\u4ee3\u66ff <pre><code>public class GenericRaw&lt;T extends ArrayList &amp; Comparable&gt; {\nprivate T data;\npublic T getData() {\nreturn data;\n}\npublic void setData(T data) {\nthis.data = data;\n}\npublic void test(){\ndata.compareTo()\n//((Comparable)data).compareTo()\n}\n}\n</code></pre> \u865a\u62df\u673a\u7f16\u8bd1\u540e\u4f1a\u5c06T\u7528ArrayList\u4ee3\u66ff\uff0c\u5728\u4f7f\u7528\u5230Comparable\u76f8\u5173\u65b9\u6cd5\u65f6\uff0c\u81ea\u52a8\u63d2\u5165\u5f3a\u8f6c\u4ee3\u7801\uff0c\u5982\u4e0a\u9762test\u65b9\u6cd5\u4e2d \u5bf9\u4e8e\u91cd\u8f7d\u65b9\u6cd5 <pre><code>public static String method(List&lt;String&gt; stringList){\nreturn \"OK\";\n}\npublic static Integer method(List&lt;Integer&gt; stringList){\nreturn 1;\n}\n</code></pre> \u5bf9\u4e8e\u7f16\u8bd1\u5668\u6765\u8bf4\u4e0a\u9762\u4e24\u4e2a\u65b9\u6cd5\u4e0d\u5c5e\u4e8e\u91cd\u8f7d\uff0c\u901a\u8fc7\u65b9\u6cd5\u540d+\u65b9\u6cd5\u53c2\u6570 \u7531\u4e8e\u6cdb\u578b\u64e6\u9664\u6b64\u5904\u65b9\u6cd5\u53c2\u6570\u88ab\u8ba4\u5b9a\u4e3a\u4e00\u81f4</p> <p>\u4e86\u89e3\uff1a\u6cdb\u578b\u64e6\u9664\uff0c\u539f\u59cb\u6cdb\u578b\u7c7b\u578b\u5176\u5b9e\u5b58\u5728\u4e8eSignature\u4e2d\uff0c\u6cdb\u578b\u64e6\u9664\u4e5f\u662f\u4e3a\u4e86\u517c\u5bb9jdk1.5\u4e4b\u524d\u7248\u672c(\u6ca1\u6709\u6cdb\u578b\u6982\u5ff5)</p>"},{"location":"android/java/java_genericity/#6","title":"6.\u6cdb\u578b\u7684\u597d\u5904","text":"<p>1.\u591a\u79cd\u6570\u636e\u7c7b\u578b\u6267\u884c\u76f8\u540c\u7684\u4ee3\u7801</p> <p>2.\u907f\u514d\u7c7b\u578b\u5f3a\u8f6c\u62a5\u7c7b\u578b\u8f6c\u5316\u5f02\u5e38</p>"},{"location":"android/java/java_jvm/","title":"\u865a\u62df\u673a","text":""},{"location":"android/java/java_jvm/#jdkjrejvm","title":"JDK\u3001JRE\u3001JVM","text":"<p>jdk\u5305\u542bjre\u548cjvm</p> <p>jdk\u63d0\u4f9b\u5de5\u5177\uff1ajava\u3001javac\u3001javap\u7b49\u5de5\u5177</p> <p>jre\u5305\u542bjava\u7c7b\u5e93\u548cjvm</p> <p>jvm\u662f\u4e00\u79cd\u89c4\u8303\uff0cClassloader\u7528\u6765\u52a0\u8f7dclass\uff0c\u7136\u540e\u4f7f\u7528\u89e3\u6790\u5668\u7ffb\u8bd1\u4ee3\u7801</p> <p>jvm\u662f\u7528c++\u8bed\u8a00\u7f16\u5199</p> <p>\u89e3\u91ca\u6267\u884c\uff1a\u7528c++\u89e3\u91ca\u5668\u53bb\u89e3\u6790class\u4e2d\u7684\u4ee3\u7801\uff0c\u6240\u4ee5\u7ecf\u8fc7\u7ffb\u8bd1\u901f\u5ea6\u4f1a\u6162\u4e00\u70b9</p> <p>JIT\u6267\u884c\uff1aclass\u4ee3\u7801\u7ffb\u8bd1\u6210\u6c47\u7f16\u7801(codecache)\uff0c\u901f\u5ea6\u76f8\u5bf9\u6bd4\u8f83\u5feb</p> <p>jvm\u53ea\u63a5\u6536\u5b57\u8282\u7801(class)\u548c\u5f00\u53d1\u8bed\u8a00\u65e0\u5173\u6027(kotlin,groovy\u7b49\u6700\u7ec8\u8f6c\u6210\u5b57\u8282\u7801\u5373\u53ef)\uff0c\u8de8\u5e73\u53f0(\u4e0d\u540c\u64cd\u4f5c\u7cfb\u7edf\u6709\u5bf9\u5e94JDK)</p> <p>\u53ea\u8981\u7b26\u5408jvm\u89c4\u8303\u53ef\u4ee5\u81ea\u884c\u5f00\u53d1jvm</p>"},{"location":"android/java/java_jvm/#jvm","title":"Jvm\u7684\u5185\u5b58\u533a\u57df","text":"<p>\u6267\u884cjava\u7a0b\u5e8f\u65f6\u4f1a\u628a\u5185\u5b58\u5206\u4e3a\u4e94\u4e2a\u533a\u57df\uff1a\u865a\u62df\u673a\u6808\u3001\u672c\u5730\u65b9\u6cd5\u6808\u3001\u65b9\u6cd5\u533a\u3001\u5806\u3001\u7a0b\u5e8f\u8ba1\u6570\u5668</p> <p></p> <p>\u8fd0\u884c\u65f6\u6570\u636e\u533a\u6839\u636e\u7ebf\u7a0b\u5212\u5206\uff1a\u7ebf\u7a0b\u5171\u4eab\u533a\u548c\u7ebf\u7a0b\u79c1\u6709\u533a</p> <p></p> <p>\u7ebf\u7a0b\u5171\u4eab\u533a(\u88ab\u6240\u6709\u7ebf\u7a0b\u5171\u4eab\uff0c\u6709\u4e14\u53ea\u6709\u4e00\u4efd)\uff1a\u65b9\u6cd5\u533a\u548c\u5806</p> <p>\u7ebf\u7a0b\u79c1\u6709\u533a\uff1a\u591a\u4e2a\u7ebf\u7a0b</p> <p>\u9664\u4e86\u8fd0\u884c\u65f6\u6570\u636e\u533a\u8fd8\u6709\u76f4\u63a5\u5185\u5b58(\u6ca1\u6709\u88ab\u865a\u62df\u5316\u7684\u5185\u5b58\uff0c\u6bd4\u5982\u7cfb\u7edf\u5185\u5b588G\uff0cjvm\u865a\u62df\u5316\u4e865G\uff0c\u5269\u4f593G\u88ab\u79f0\u4e3a\u76f4\u63a5\u5185\u5b58)</p> <p>\u65b9\u6cd5\u533a\uff1a\u8fd0\u884c\u65f6\u5e38\u91cf</p> <p>\u7ebf\u7a0b\uff1a\u865a\u62df\u673a\u6808\u3001\u672c\u5730\u65b9\u6cd5\u6808\u548c\u7a0b\u5e8f\u8ba1\u6570\u5668</p>"},{"location":"android/java/java_jvm/#_1","title":"\u865a\u62df\u673a\u6808","text":"<p>1.\u5927\u5c0f\u53d6\u51b3\u4e8e\u5e73\u53f0\uff0c\u67e5\u8be2\u94fe\u63a5</p> <p>https://docs.oracle.com/javase/8/docs/technotes/tools/unix/java.html</p> <p>-Xsssize</p> <p>64\u4f4d\u7cfb\u7edf\u90fd\u662f1M</p> <p>\u5373\u6bcf\u4e2a\u7ebf\u7a0b\u81f3\u5c111M\u5927\u5c0f\uff0c\u53ef\u901a\u8fc7\u4ee5\u4e0b\u65b9\u5f0f\u51cf\u5c0f\u5927\u5c0f\u4f18\u5316\u7cfb\u7edf\u5185\u5b58\u7d27\u5f20</p> <p>-Xss1m</p> <p>-Xss1024k</p> <p>-Xss1048576</p> <p>2.\u7528\u6765\u5b58\u653e\u5f53\u524d\u7ebf\u7a0b\u8fd0\u884c\u65b9\u6cd5\u6240\u6709\u7684\u6570\u636e\u3001\u6307\u4ee4\u3001\u8fd4\u56de\u5730\u5740\uff0c\u7531\u4e8e\u662f\u6808\u7ed3\u6784\uff0c\u6240\u4ee5\u5148\u8fdb\u540e\u51fa\uff0c\u8c03\u7528\u65f6\u5165\u6808\uff0c\u5b8c\u6210\u65f6\u51fa\u6808</p> <p>\u6bd4\u5982\u65b9\u6cd5main\u8c03\u7528A\uff0c\u5373A\u5728main\u4e0a\u9762\uff0c\u6bcf\u4e2a\u65b9\u6cd5\u4f1a\u4ea7\u751f\u4e00\u4e2a\u6808\u5e27</p> <p>\u6808\u6ea2\u51fa\uff1a\u8c03\u7528\u65b9\u6cd5\u6570\u91cf\u603b\u5927\u5c0f\u8d85\u8fc71M\u5bfc\u81f4\u629b\u51fa\u7684\u5f02\u5e38\uff0c\u5e38\u89c1\u6b7b\u9012\u5f52</p> <p>\u6808\u5e27\uff1a\u5c40\u90e8\u53d8\u91cf\u8868\uff0c\u64cd\u4f5c\u6570\u6808\uff0c\u52a8\u6001\u8fde\u63a5\uff0c\u5b8c\u6210\u51fa\u53e3</p> <p>\u5c40\u90e8\u53d8\u91cf\u8868\uff1a\u5b58\u653e\u5c40\u90e8\u53d8\u91cf(java\u7684\u516b\u5927\u57fa\u672c\u6570\u636e\u7c7b\u578b\u3001\u5bf9\u8c61\u5f15\u7528\u3001returnAddress\u7c7b\u578b)</p> <p>\u64cd\u4f5c\u6570\u6808\uff1a\u5b58\u653e\u65b9\u6cd5\u6267\u884c\u7684\u64cd\u4f5c\u6570\uff0c\u64cd\u4f5c\u7684\u5143\u7d20\u53ef\u4ee5\u662f\u4efb\u610fjava\u6570\u636e\u7c7b\u578b\uff0c\u4f1a\u590d\u7528</p> <p>\u52a8\u6001\u8fde\u63a5\uff1ajava\u8bed\u8a00\u7279\u6027\u591a\u6001\u76f8\u5173</p> <p>\u5b8c\u6210\u51fa\u53e3(\u8fd4\u56de\u5730\u5740)\uff1a\u8c03\u7528\u7a0b\u5e8f\u8ba1\u6570\u5668\u7684\u5730\u5740\u4f5c\u4e3a\u8fd4\u56de</p> <ul> <li>\u6b63\u5e38\u8fd4\u56de\uff1a\u6062\u590d\u4e0a\u5c42\u65b9\u6cd5\u7684\u5c40\u90e8\u53d8\u91cf\u8868\u548c\u64cd\u4f5c\u6570\u6808\uff1b\u628a\u8fd4\u56de\u503c(\u5982\u679c\u6709)\u538b\u5165\u8c03\u7528\u7740\u6808\u5e27\u7684\u64cd\u4f5c\u6570\u6808\u4e2d\uff1b\u8c03\u6574\u7a0b\u5e8f\u8ba1\u6570\u5668\u7684\u503c\u6307\u5411\u65b9\u6cd5\u8c03\u7528\u6307\u4ee4\u540e\u7684\u4e00\u6761\u6307\u4ee4</li> <li>\u5f02\u5e38\u8fd4\u56de\uff1a\u7531\u5f02\u5e38\u5904\u7406\u8868&lt;\u975e\u6808\u5e27\u4e2d\u7684&gt;\u6765\u786e\u5b9a</li> </ul>"},{"location":"android/java/java_jvm/#_2","title":"\u7a0b\u5e8f\u8ba1\u6570\u5668","text":"<p>\u6307\u5411\u5f53\u524d\u7ebf\u7a0b\u6b63\u5728\u6267\u884c\u7684\u5b57\u8282\u7801\u884c\u53f7(\u6307\u4ee4\u5730\u5740)\uff0c\u5360\u7528\u5f88\u5c11\u5185\u5b58\uff0c\u552f\u4e00\u4e0d\u4f1a\u9020\u6210OOM\u7684\u5185\u5b58\u533a\u57df</p> <p>\u8fd0\u884c\u6d41\u7a0b <pre><code>public class JvmTest {\npublic int work() {\nint x = 3;\nint y = 6;\nint z = (x + y) * 14;\nreturn z;\n}\n\npublic static void main(String[] args) {\nJvmTest test = new JvmTest();\ntest.work();\n}\n}\n</code></pre> \u6267\u884cjavap -v JvmTest.class\u540e\u5f97\u5230\u5b57\u8282\u7801(work\u65b9\u6cd5\u90e8\u5206) </p> <p>\u91cd\u70b9\u603b\u7ed3\uff1a</p> <ul> <li>\u6267\u884cmain\u65b9\u6cd5\u65f6\u4f1a\u6267\u884cmain\u7ebf\u7a0b</li> <li>\u4e3b\u8981\u5c55\u793a\u865a\u62df\u673a\u6808\u548c\u7a0b\u5e8f\u8ba1\u6570\u5668</li> <li>iconst_3\uff1a3\u5bf9\u5e94\u7684\u662f\u6570\u503c3</li> <li>istore_1\uff1a1\u5bf9\u5e94\u7684\u662f\u504f\u79fb\u503c</li> <li>iload_1\uff1a1\u5bf9\u5e94\u7684\u662f\u504f\u79fb\u503c</li> <li>bipush: int\u503c\u8d85\u8fc75\u4ee5\u540e\u4f7f\u7528\uff0c\u4f1a\u5360\u7528\u66f4\u5927\u7a7a\u95f4\uff0c\u6240\u6709\u504f\u79fb\u91cf\u5360\u7528\u4e862\u4e2a(\u56fe\u4e2d\u6ca1\u67093\u548c9\u7684\u539f\u56e0)</li> <li>\u7a0b\u5e8f\u8ba1\u6570\u5668\u548c\u6808\u5e27\u5e76\u4e0d\u662f\u4e00\u4e00\u5bf9\u5e94\uff0c\u53ea\u6709\u4e00\u4e2a\uff0c\u7a0b\u5e8f\u8ba1\u6570\u5668\u5bf9\u6bcf\u4e2a\u6808\u5e27\u8ba1\u6570\u65f6\u90fd\u662f\u4ece0\u5f00\u59cb\uff0c\u4f46\u865a\u62df\u673a\u6808\u53ea\u4f1a\u6267\u884c\u9876\u90e8\u6808\u5e27\uff0c\u6240\u4ee5\u7a0b\u5e8f\u8ba1\u6570\u5668\u4e0d\u4f1a\u91cd\u590d\u6df7\u4e71\u73b0\u8c61</li> <li>\u6bcf\u6b21\u4f7f\u7528\u6570\u636e\u90fd\u9700\u8981\u7ecf\u8fc7\u64cd\u4f5c\u6570\u6808\uff0c\u5b58\u5165\u53d8\u91cf\u8868\u3001\u8ba1\u7b97\u64cd\u4f5c\u3001\u8fd4\u56de\u6570\u636e\u7b49</li> <li>\u5982\u679c\u662fstatic\u65b9\u6cd5\u5219\u6ca1\u6709this(0\u4f4d\u7f6e)</li> </ul> <p>\u5177\u4f53\u6f14\u793a\u6d41\u7a0b\u5982\u52a8\u56fe</p> <p></p> <p>\u66f4\u591a\u6307\u4ee4\u53ef\u901a\u8fc7\u4ee5\u4e0b\u7f51\u7ad9\u67e5\u770b\u8bf4\u660e</p> <p>https://cloud.tencent.com/developer/article/1333540</p>"},{"location":"android/java/java_jvm/#_3","title":"\u672c\u5730\u65b9\u6cd5","text":"<p>java\u4e2d\u65e0\u6cd5\u76f4\u63a5\u64cd\u4f5c\u7ebf\u7a0b\uff0c\u901a\u8fc7\u672c\u5730\u65b9\u6cd5\u6808(native\u65b9\u6cd5)\uff0c\u7ed3\u6784\u7c7b\u4f3c\u4e8e\u865a\u62df\u673a\u6808\uff0c\u4f46\u7a0b\u5e8f\u8ba1\u6570\u5668\u65e0\u6cd5\u8bb0\u5f55</p>"},{"location":"android/java/java_jvm/#_4","title":"\u5806","text":"<p>\u5b58\u653e\u6240\u6709new\u51fa\u6765\u7684\u4e1c\u2ec4\uff0c\u662fGC\u7ba1\u7406\u7684\u4e3b\u8981\u533a\u57df</p> <p>\u5806\u5185\u5b58\u5206\u4e09\u4ee3\uff0c\u65b0\u2f63\u4ee3\uff0c\u2f7c\u5e74\u4ee3\uff0c\u6301\u4e45\u4ee3</p>"},{"location":"android/java/java_jvm/#_5","title":"\u2f45\u6cd5\u533a","text":"<p>\u88ab\u865a\u62df\u673a\u52a0\u8f7d\u7684\u7c7b\u4fe1\u606f\u3001\u5e38\u91cf\u3001\u9759\u6001\u53d8\u91cf\u7b49</p>"},{"location":"android/java/java_jvm/#_6","title":"\u76f4\u63a5\u5185\u5b58","text":"<p>NIO\u4e2d\u7684DirectByteBuffer\uff0c\u4f1a\u81ea\u5df1\u91ca\u653e</p> <p>unsafe\u7c7b</p> <p>\u76f4\u63a5\u7533\u8bf7\u5185\u5b58\u76f8\u5173\uff0c\u9700\u8981\u624b\u52a8\u7ba1\u7406\uff0c\u8df3\u8fc7JVM\u7684\u5783\u573e\u56de\u6536(\u4e0d\u4f1a\u81ea\u52a8\u91ca\u653e)</p> <p>ByteBuffer.allocateDirect()\u65b9\u5f0f\u7533\u8bf7\u5185\u5b58\u4f1a\u81ea\u52a8\u91ca\u653e</p>"},{"location":"android/java/java_jvm/#jvm_1","title":"\u6df1\u5165\u7406\u89e3JVM\u5185\u5b58","text":"<p>\u65e0\u975e\u5c31\u662f\u865a\u62df\u5316</p> <p>jps\u67e5\u770b\u8fdb\u7a0b\u53f7\uff0cjinfo -flags \u8fdb\u7a0b\u53f7\u67e5\u770b\u4fe1\u606f</p> <p> <pre><code>public class JavaTest {\npublic final static String TYPE = \"type\";\npublic static String TAG = \"tag\";\npublic static void main(String[] args) throws Exception {\nFruit fruit1 = new Fruit();\nfruit1.setName(TYPE + \"-apple\");\nfruit1.setPrice(15.3);\nThread.sleep(Integer.MAX_VALUE);\nfor (int i = 0; i &lt; 1; i++) {\nSystem.gc();//15\u6b21\u540e\u8fdb\u5165\u8001\u5e74\u4ee3\n}\nFruit fruit2 = new Fruit();\nfruit2.setName(TAG + \"-watermelon\");\nfruit2.setPrice(28.5);\nThread.sleep(Integer.MAX_VALUE);\n}\n}\n\nclass Fruit {\nString name;\ndouble price;\npublic void setName(String name) {\nthis.name = name;\n}\n\npublic void setPrice(double price) {\nthis.price = price;\n}\n}\n</code></pre> 1. JVM\u7533\u8bf7\u5185\u5b58 2. \u521d\u59cb\u5316\u8fd0\u884c\u65f6\u6570\u636e\u533a 3. \u7c7b\u52a0\u8f7d</p> <p></p> <ol> <li>\u6267\u884c\u65b9\u6cd5</li> <li>\u521b\u5efa\u5bf9\u8c61</li> </ol> <p></p> <ol> <li>\u4e0d\u65ad\u6267\u884c\u65b9\u6cd5</li> </ol>"},{"location":"android/java/java_jvm/#jhsdb","title":"JHSDB","text":"<p>\u67e5\u770b\u5185\u5b58\u5de5\u5177</p> <p>\u6b65\u9aa4</p> <ol> <li>\u8fd0\u884c\u7a0b\u5e8f</li> <li>\u83b7\u53d6\u8fdb\u7a0b\u53f7\uff1ajps</li> </ol> <p>22176 JavaTest</p> <ol> <li>\u542f\u52a8\u5185\u5b58\u5de5\u5177</li> </ol> <p>\u65e7\u7248\u672c\uff1a <pre><code>java -cp .\\sa-jdi.jar sun.jvm.hostspot.HSDB\n</code></pre> \u65b0\u7248\u672c\uff1a(jdk11\u4ee5\u540e) <pre><code>jhsdb hsdb\n</code></pre> \u5176\u4ed6\u5185\u5bb9\u8865\u5145(jre\u6587\u4ef6\u5939\u751f\u6210) <pre><code>bin\\jlink.exe --module-path jmods --add-modules java.desktop --output jre\n</code></pre> 4. attach\u8fdb\u7a0b</p> <p> </p>"},{"location":"android/java/java_jvm/#_7","title":"\u67e5\u770b\u5806\u60c5\u51b5","text":"<p>Tools-Heap Parameters</p> <p></p> <p>\u5206\u914d\u5730\u5740\u8d77\u59cb\u503c\u548c\u7ed3\u675f\u503c\uff1a0x0000000604800000, 0x0000000800000000</p>"},{"location":"android/java/java_jvm/#_8","title":"\u67e5\u770b\u5bf9\u8c61\u60c5\u51b5","text":"<p>Tools-Object Histogram</p> <p>\u8fc7\u6ee4\uff1acom.yigai.lib.Fruit</p>"},{"location":"android/java/java_jvm/#_9","title":"\u67e5\u770b\u6808\u60c5\u51b5","text":""},{"location":"android/java/java_jvm/#_10","title":"\u67e5\u770b\u65b9\u6cd5\u533a","text":"<p>Tools-Class Browser</p> <p>\u5185\u5b58\u6ea2\u51fa</p> <p>java.lang.OutOfMemory: Metaspace \u65b9\u6cd5\u533a</p> <p>java.lang.OutOfMemory: Java heap spack \u5806</p> <p>java.lang.OutOfMemory: Direct buffer memory \u76f4\u63a5\u5185\u5b58</p> <p>java.lang.StackOverflowError: StackOverflow \u6808</p>"},{"location":"android/java/java_jvm/#15","title":"\u5783\u573e\u56de\u6536\u4e3a\u5565\u662f15\u6b21","text":"<p>\u5bf9\u8c61\u7ecf\u5386\u4e00\u6b21\u5783\u573e\u56de\u6536\uff0c\u5982\u679c\u6ca1\u6709\u88ab\u56de\u6536\uff0cage\u4f1a+1\uff0c\u8fbe\u5230\u8001\u5e74\u4ee3\uff0c\u800c\u5e95\u5c42\u8bb0\u5f55\u5e74\u9f84\u7684\u5b57\u6bb5\u662f4\u4f4d\u4e8c\u8fdb\u5236(1111=15)</p>"},{"location":"android/java/java_jvm/#jvm_2","title":"JVM\u521b\u5efa\u5bf9\u8c61\u8fc7\u7a0b","text":"<p>\u7c7b\u52a0\u8f7d-\u68c0\u67e5\u52a0\u8f7d-\u5206\u914d\u7a7a\u95f4-\u5185\u5b58\u7a7a\u95f4\u521d\u59cb\u5316-\u8bbe\u7f6e-\u5bf9\u8c61\u521d\u59cb\u5316</p>"},{"location":"android/java/java_jvm/#_11","title":"\u5206\u914d\u7a7a\u95f4","text":"<p>\u5212\u5206\u5185\u5b58\u65b9\u5f0f\uff1a\u6307\u9488\u78b0\u649e\u548c\u7a7a\u95f2\u5217\u8868(\u53d6\u51b3\u4e8e\u5806\u7a7a\u95f4\u662f\u5426\u89c4\u6574\uff0c\u5373\u4e0d\u788e\u7247\u5316)\uff0c\u524d\u8005\u6548\u7387\u9ad8\u540e\u8005\u9700\u8981\u67e5\u8868</p> <p>\u5e76\u53d1\u95ee\u9898\u89e3\u51b3\u65b9\u5f0f\uff1aTLABs\u548cCAS</p> <p>\u9ed8\u8ba4\u91c7\u7528\u5728\u65b0\u751f\u4ee3\u7684Eden\u4e2d\u5f00\u8f9f\u7a7a\u95f4\u65b9\u5f0f(TLABs)\u6765\u89e3\u51b3\u591a\u7ebf\u7a0b\u7533\u8bf7\u5185\u5b58\uff0c\u7981\u7528(-XX:-UseTLAB)\u540e\u91c7\u7528CAS\u65b9\u5f0f</p>"},{"location":"android/java/java_jvm/#cas","title":"CAS","text":"<p>CPU\u6307\u4ee4\uff0c\u65e0\u9501\u5316\uff0c\u4e50\u89c2\u673a\u5236\uff0c\u5177\u6709\u539f\u5b50\u6027\uff0c\u5373\u4fdd\u8bc1\u4e86\u7ebf\u7a0b\u5b89\u5168</p>"},{"location":"android/java/java_jvm/#_12","title":"\u5185\u5b58\u7a7a\u95f4\u521d\u59cb\u5316","text":"<p>\"\u96f6\"\u503c\uff0c\u5982int\u9ed8\u8ba4\u4e3a0\uff0cboolean\u9ed8\u8ba4\u4e3afalse</p>"},{"location":"android/java/java_jvm/#_13","title":"\u8bbe\u7f6e","text":"<p>\u5bf9\u8c61\u5934</p> <p>\u7ec4\u6210\uff1a\u7c7b\u578b\u6307\u9488\u3001mark word(\u54c8\u5e0c\u7801\u3001GC\u5206\u4ee3\u5e74\u9f84\u3001\u9501\u72b6\u6001\u6807\u8bc6\u3001\u7ebf\u7a0b\u6301\u6709\u7684\u9501\u3001\u504f\u5411\u7ebf\u7a0bID\u3001\u504f\u5411\u65f6\u95f4\u6233)\u3001\u8bb0\u5f55\u6570\u7ec4\u957f\u5ea6\u7684\u6570\u636e(\u5982\u679c\u662f\u5bf9\u8c61\u6570\u7ec4)</p>"},{"location":"android/java/java_jvm/#_14","title":"\u5bf9\u8c61","text":"<p>\u7531\u5bf9\u8c61\u5934\u3001\u5b9e\u4f8b\u6570\u636e\u3001\u5bf9\u9f50\u586b\u5145(\u975e\u5fc5\u987b)\u7ec4\u6210</p>"},{"location":"android/java/java_jvm/#_15","title":"\u5bf9\u8c61\u521d\u59cb\u5316","text":"<p>\u6784\u9020\u65b9\u6cd5\u6267\u884c</p>"},{"location":"android/java/java_jvm/#_16","title":"\u5bf9\u8c61\u7684\u8bbf\u95ee\u5b9a\u4f4d","text":"<p>\u53e5\u67c4\u65b9\u5f0f\u8bbf\u95ee\u5bf9\u8c61\u3001\u76f4\u63a5\u6307\u9488\u65b9\u5f0f\u8bbf\u95ee\u5bf9\u8c61(\u5feb\uff0c\u4e3b\u6d41\u865a\u62df\u673a\u91c7\u7528\u65b9\u6848)</p>"},{"location":"android/java/java_jvm/#_17","title":"\u5224\u65ad\u5bf9\u8c61\u5b58\u6d3b","text":"<p>\u5f15\u7528\u8ba1\u6570\u7b97\u6cd5\uff1a\u5728\u5bf9\u8c61\u5934\u6807\u8bb0\u88ab\u5f15\u7528\u6b21\u6570\uff0c\u65e0\u6cd5\u89e3\u51b3\u5faa\u73af\u5f15\u7528(python\u901a\u8fc7\u53e6\u542f\u7ebf\u7a0b\u89e3\u51b3)</p> <p>\u6839\u53ef\u8fbe\u6027\u5206\u6790\uff1aGC roots(RootSet)\uff0c\u76ee\u524dJVM\u5b9e\u73b0\u65b9\u5f0f\uff0c\u4eceGC roots\u4f5c\u4e3a\u8d77\u70b9\u5411\u4e0b\u641c\u7d22\u8def\u5f84\u6210\u4e3a\u5f15\u7528\u94fe\uff0c\u5b58\u5728\u5373\u53ef\u8fbe</p> <p>\u5e38\u89c1GC roots\uff1a\u9759\u6001\u53d8\u91cf\u3001\u7ebf\u7a0b\u6808\u53d8\u91cf(\u5c40\u90e8\u53d8\u91cf)\u3001\u5e38\u91cf\u6c60\u3001JNI\u6307\u9488</p> <p>\u989d\u5916\uff1a\u5185\u90e8\u5f15\u7528(class\u5bf9\u8c61\u3001\u5f02\u5e38\u5bf9\u8c61\u3001\u7c7b\u52a0\u8f7d\u5668)\u3001\u540c\u6b65\u9501(synchronized\u5bf9\u8c61)\u3001\u5185\u90e8\u5bf9\u8c61(JVXBean)\u3001\u4e34\u65f6\u5bf9\u8c61(\u8de8\u4ee3\u5f15\u7528)</p>"},{"location":"android/java/java_jvm/#class","title":"class\u5bf9\u8c61\u56de\u6536\u6761\u4ef6","text":"<ol> <li>new\u51fa\u7684\u6240\u6709\u5bf9\u8c61\u88ab\u56de\u6536\uff0c\u5373Java\u5806\u4e2d\u4e0d\u5b58\u5728\u8be5\u7c7b\u53ca\u5176\u4efb\u4f55\u6d3e\u751f\u5b50\u7c7b\u7684\u5b9e\u4f8b</li> <li>\u5bf9\u5e94\u7684\u7c7b\u52a0\u8f7d\u5668\u88ab\u56de\u6536</li> <li>\u8be5\u7c7b\u5bf9\u5e94\u7684 java.lang.Class \u5bf9\u8c61\u6ca1\u6709\u5728\u4efb\u4f55\u5730\u65b9\u88ab\u5f15\u7528\uff0c\u65e0\u6cd5\u5728\u4efb\u4f55\u5730\u65b9\u901a\u8fc7\u53cd\u5c04\u8bbf\u95ee\u8be5\u7c7b\u7684\u65b9\u6cd5</li> <li>\u53c2\u6570\u63a7\u5236\uff1a-Xnoclassgc\u53c2\u6570\u7981\u7528\u7c7b\u7684\u5783\u573e\u6536\u96c6\uff0c\u5982\u679c\u7981\u7528\u6ee1\u8db3\u4ee5\u4e0a3\u70b9\u4e5f\u65e0\u6cd5\u56de\u6536</li> </ol> <p>\u53ef\u8fbe\u5373\u4e0d\u53ef\u56de\u6536 <pre><code>Fruit fruit1 = new Fruit();\n</code></pre> \u53ef\u8fbe\u5c31\u662f\u5f15\u7528\u6307\u5411\uff0cFruit\u5bf9\u8c61\u4e0e\u5c40\u90e8\u53d8\u91cffruit1\u5b58\u5728\u4e00\u4e2a\u53ef\u8fbe\u6027\u5173\u7cfb</p> <p>\u5783\u573e\u56de\u6536\u6253\u5370\uff1a-Xlog:gc(-XX:+PrintGC\u8fc7\u65f6\uff0cjdk8\u4ee5\u4e0b\u4f7f\u7528)</p> <p></p> <p>\u6f14\u793a\u6848\u4f8b <pre><code>public class JavaTest {\npublic JavaTest instance;\nprivate byte[] bytes = new byte[10 * 1024 * 1024];\n\npublic static void main(String[] args) {\nJavaTest test1 = new JavaTest();\nJavaTest test2 = new JavaTest();\ntest1.instance = test2;// \u5f15\u7528\u5faa\u73af\ntest2.instance = test1;\ntest1 = null;//\u4e3a\u4e86\u80fd\u7acb\u9a6c\u89e6\u53d1gc\ntest2 = null;\nSystem.gc();\n}\n}\n\u65e5\u5fd7\uff1a\n[0.006s][info][gc] Using G1\n[0.067s][info][gc] GC(0) Pause Full (System.gc()) 25M-&gt;0M(16M) 2.411ms\n</code></pre> \u53ef\u4ee5\u770b\u5230\u5185\u5b58\u4ece25M(\u5305\u542b\u4e86\u4e24\u4e2abytes\u6570\u7ec4\u5927\u5c0f\uff0c\u6bcf\u4e2a10M)\u53d8\u62100M\uff0c\u8868\u660e\u5df2\u56de\u6536</p>"},{"location":"android/java/java_jvm/#finalize","title":"finalize","text":"<p>\u7528\u6765\u5728\u5bf9\u8c61\u88ab\u56de\u6536\u4e4b\u524d\u505a\u6e05\u7406\u5de5\u4f5c\uff0c\u4f46\u6267\u884c\u7ea7\u522b\u8f83\u4f4e(\u9700\u8981\u8c03\u7528Thread.sleep\u4f11\u7720)\uff0c\u53ea\u6267\u884c\u4e00\u6b21\uff0c\u4e0d\u63a8\u8350\u4f7f\u7528</p> <p>FinalizeGC\uff0c\u5176\u5b9e\u662f\u591a\u7ebf\u7a0b\u8fdb\u884c\uff0cJVM\u5185\u90e8\u4f7f\u7528\u4f1anew Finalizer\u5bf9\u8c61\uff0c\u5b8c\u5168\u53ef\u4ee5\u4f7f\u7528try finally\u4ee3\u66ff</p>"},{"location":"android/java/java_jvm/#_18","title":"\u5404\u79cd\u5f15\u7528","text":"<pre><code>public class JavaTest {\npublic String name;\n\npublic JavaTest(String name) {\nthis.name = name;\n}\n\n@Override\npublic String toString() {\nreturn \"JavaTest{\" +\n\"name='\" + name + '\\'' +\n'}';\n}\n}\n</code></pre>"},{"location":"android/java/java_jvm/#_19","title":"\u5f3a\u5f15\u7528","text":"<p>= (\u8eab\u8fb9\u91cd\u8981\u7684\u4eba\uff0c\u4eb2\u4eba)</p>"},{"location":"android/java/java_jvm/#softreference","title":"\u8f6f\u5f15\u7528SoftReference","text":"<p>(\u8001\u5a46\uff0c\u53ef\u79bb\u5a5a)\uff1a\u7cfb\u7edf\u5185\u5b58\u4e0d\u8db3\u65f6\u5982\u5373\u5c06\u53d1\u751fOOM\u65f6\u4f1a\u88ab\u56de\u6536 <pre><code>\u5148\u914d\u7f6e\u5806\u5185\u5b58\u548c\u6700\u5927\u5185\u5b58\u4e3a20m\uff1a-Xms20m -Xmx20m\npublic static void main(String[] args) {\nJavaTest test1 = new JavaTest(\"name\");\nSoftReference&lt;JavaTest&gt; sr = new SoftReference&lt;&gt;(test1);\ntest1 = null; //\u5f3a\u5f15\u7528\u5148\u56de\u6536\nSystem.out.println(sr.get());  // JavaTest{name='name'}\nSystem.gc();\nSystem.out.println(\"gc\");\nLinkedList&lt;byte[]&gt; list = new LinkedList&lt;&gt;();\nfor (int i = 0; i &lt; 20; i++) {\ntry {\nlist.add(new byte[1 * 1024 * 1024]);\n} catch (Throwable e) {\nSystem.out.println(\"error:\" + sr.get()); // null\n}\n}\n}\n</code></pre></p>"},{"location":"android/java/java_jvm/#weakreference","title":"\u5f31\u5f15\u7528WeakReference","text":"<p>(\u5973\u670b\u53cb\uff0c\u60f3\u5206\u5c31\u5206)\uff1a\u53ea\u8981gc\u5c31\u4f1a\u88ab\u56de\u6536 <pre><code> public static void main(String[] args) {\nJavaTest test1 = new JavaTest(\"name\");\nWeakReference&lt;JavaTest&gt; sr = new WeakReference&lt;&gt;(test1);\ntest1 = null;\nSystem.out.println(sr.get());\nSystem.gc();\nSystem.out.println(\"gc\");\nSystem.out.println(sr.get()); // null\n}\n</code></pre></p>"},{"location":"android/java/java_jvm/#phantomreference","title":"\u865a\u5f15\u7528PhantomReference","text":"<p>(\u6280\u5e08\uff0c\u4e00\u4e0d\u5c0f\u5fc3\u5c31\u627e\u4e0d\u5230\u4e86)\uff1a\u76f4\u63a5\u5185\u5b58\u4e2d\u6709Cleaner\u7c7b\u7ee7\u627f\u865a\u5f15\u7528\uff0c\u4e3b\u8981\u7528\u6765\u8ddf\u8e2a\u5bf9\u8c61\u5783\u573e\u56de\u6536\u7684\u6d3b\u52a8</p>"},{"location":"android/java/java_jvm/#_20","title":"\u5bf9\u8c61\u5206\u914d\u7b56\u7565","text":"<p>\u51e0\u4e4e\u6240\u6709\u5bf9\u8c61\u90fd\u662f\u5728\u5806\u4e2d\u5206\u914d\uff0c\u5e76\u4e0d\u662f100%</p>"},{"location":"android/java/java_jvm/#_21","title":"\u865a\u62df\u673a\u4f18\u5316\u6280\u672f","text":"<p>\u9003\u9038\u5206\u6790+\u89e6\u53d1JIT(\u70ed\u70b9\u6570\u636e)\uff0c\u672c\u5730\u7ebf\u7a0b\u5206\u914d\u7f13\u5b58</p> <p>HotSpot(java\u865a\u62df\u673a\u5b9e\u73b0)</p> <p>\u65b9\u6cd5\u5faa\u73af\u4e07\u6b21\u89e6\u53d1JIT(\u70ed\u70b9\u6570\u636e)\uff0cjvm\u4f1a\u8fdb\u884c\u9003\u9038\u5206\u6790(\u6808\u4e0a\u5206\u914d)</p> <p>\u9003\u9038\u5206\u6790\u9ed8\u8ba4\u5f00\u542f\u53ea\u652f\u6301HotSpot\u5b9e\u73b0\u7684\u865a\u62df\u673a\uff0c\u5173\u95ed-XX:+DoEscapeAnalysis\uff0c\u7981\u7528\u540e\u5206\u914d\u5230\u5806\u7a7a\u95f4\u4f1a\u89e6\u53d1gc</p>"},{"location":"android/java/java_jvm/#_22","title":"\u5206\u914d\u539f\u5219","text":"<ul> <li>\u5bf9\u8c61\u4f18\u5148\u5728Eden\u5206\u914d</li> <li>\u7a7a\u95f4\u5206\u914d\u62c5\u4fdd\uff1a\u5185\u90e8\u4f1a\u7edf\u8ba1\u8001\u5e74\u4ee3\u5e73\u5747\u5206\u914d\u7684\u5bf9\u8c61\u7a7a\u95f4\u5927\u5c0f\uff0c\u598210M\uff0c\u6b64\u65f6\u5982\u679c\u65b0\u751f\u4ee3\u664b\u7ea7\u7684\u5bf9\u8c61\u662f8M\uff0c\u5373\u65e0\u9700\u89e6\u53d1\u664b\u7ea7\u56de\u6536</li> <li>\u5927\u5bf9\u8c61\u8fdb\u5165\u8001\u5e74\u4ee3(Tenured)\uff1aserial\u3001parnew\u4e24\u6b3e\u5783\u573e\u56de\u6536\u671f\u751f\u6548</li> <li>\u957f\u671f\u5b58\u6d3b\u7684\u5bf9\u8c61\u8fdb\u5165\u8001\u5e74\u4ee3(15\u6b21\uff0c\u53ef\u901a\u8fc7-XX:MaxTenuringThreshold=10\u4fee\u6539)</li> <li>\u52a8\u6001\u5bf9\u8c61\u5e74\u9f84\u5224\u5b9a</li> </ul> <p>from-&gt;to age+1\u53cd\u4e4b\u4e5f+1</p>"},{"location":"android/java/java_jvm/#_23","title":"\u5783\u573e\u56de\u6536\u57fa\u7840\u77e5\u8bc6","text":"<p>GC\uff1a\u5783\u573e\u56de\u6536</p> <p>\u5806\u7a7a\u95f4\uff1a\u65b0\u751f\u4ee3(Eden\u3001from\u3001to 8\uff1a1\uff1a1)\u548c\u8001\u5e74\u4ee3</p> <p>\u5783\u573e\u56de\u6536\u5668</p> <p>\u56de\u6536\u65b0\u751f\u4ee3\uff1aMinor GC/Young GC \u56de\u6536\u8001\u5e74\u4ee3\uff1aMajor GC/Old GC\uff0c\u4e00\u822c\u90fd\u4f1a\u89e6\u53d1Full GC</p>"},{"location":"android/java/java_jvm/#copying","title":"\u590d\u5236\u7b97\u6cd5(Copying)","text":"<p>\u627e\u5230\u53ef\u8fbe\u5f15\u7528\u94fe\uff0c\u5c06\u5185\u5b58\u5206\u4e3a\u4e24\u4efd\uff0c\u5c06\u53ef\u8fbe\u5bf9\u8c61\u590d\u5236\u5230\u53e6\u4e00\u8fb9</p> <p></p> <p>\u7279\u70b9\uff1a 1. \u5b9e\u73b0\u7b80\u5355\u3001\u8fd0\u884c\u9ad8\u6548 2. \u6ca1\u6709\u5185\u5b58\u788e\u7247 3. \u7a7a\u95f4\u5229\u7528\u7387\u53ea\u6709\u4e00\u534a</p>"},{"location":"android/java/java_jvm/#appel","title":"Appel\u5f0f\u590d\u5236\u56de\u6536\u7b97\u6cd5","text":"<p>Eden\u533a\u7684\u6765\u6e90\uff0c\u63d0\u9ad8\u7a7a\u95f4\u5229\u7528\u7387\u548c\u7a7a\u95f4\u5206\u914d\u62c5\u4fdd\uff0c\u53ea\u9002\u7528\u4e8e\u65b0\u751f\u4ee3</p> <p></p> <p>S1\u662ffrom\uff0cS0\u662fto</p>"},{"location":"android/java/java_jvm/#mark-sweep","title":"\u6807\u8bb0\u6e05\u9664\u7b97\u6cd5(Mark-Sweep)","text":"<p>\u627e\u5230\u53ef\u8fbe\u94fe\u7136\u540e\u6e05\u9664\u5783\u573e</p> <p>\u7279\u70b9 1. \u4f4d\u7f6e\u4e0d\u8fde\u7eed\uff0c\u4ea7\u751f\u788e\u7247 2. \u53ef\u4ee5\u4e0d\u6682\u505c(\u4f18\u52bf\uff0c\u56e0\u4e3a\u6ca1\u6709\u5bf9\u8c61\u79fb\u52a8)</p> <p></p>"},{"location":"android/java/java_jvm/#mark-compact","title":"\u6807\u8bb0\u6574\u7406\u7b97\u6cd5(Mark-Compact)","text":"<p>\u6807\u8bb0-&gt;\u6574\u7406-&gt;\u6e05\u9664</p> <p>\u7279\u70b9 1. \u6ca1\u6709\u5185\u5b58\u788e\u7247 2. \u6307\u9488\u9700\u8981\u79fb\u52a8</p> <p></p>"},{"location":"android/java/java_jvm/#_24","title":"\u5e38\u89c1\u5783\u573e\u56de\u6536\u5668","text":"<p>\u5355\u7ebf\u7a0b\uff1aSerial\u3001Serial Old</p> <p>\u591a\u7ebf\u7a0b\uff1aParallel Scavenga\u3001Parallel Old\u3001ParNew\u3001CMS\u3001G1</p> <p>PS\u7ec4\u5408\uff1aParallel Scavenga\u3001Parallel Old\u4f1a\u81ea\u52a8\u6269\u5bb9\uff0c\u4f34\u968fGC\uff0c\u4e0d\u9700\u8981\u6307\u5b9aEden\u3001from\u3001to\u7684\u6bd4\u4f8b\u662f\u52a8\u6001\u7684\uff0c\u541e\u5410\u91cf\u6700\u9ad8</p> \u56de\u6536\u5668 \u56de\u6536\u5bf9\u8c61\u548c\u7b97\u6cd5 \u56de\u6536\u5668\u7c7b\u578b Serial \u65b0\u751f\u4ee3\u3001\u590d\u5236\u7b97\u6cd5 \u5355\u7ebf\u7a0b Serial Old \u8001\u5e74\u4ee3\u3001\u6807\u8bb0\u6574\u7406\u7b97\u6cd5 \u5355\u7ebf\u7a0b Parallel Scavenga \u65b0\u751f\u4ee3\u3001\u590d\u5236\u7b97\u6cd5 \u591a\u7ebf\u7a0b Parallel  Old \u8001\u5e74\u4ee3\u3001\u6807\u8bb0\u6574\u7406\u7b97\u6cd5 \u591a\u7ebf\u7a0b ParNew \u65b0\u751f\u4ee3\u3001\u590d\u5236\u7b97\u6cd5 \u5355\u7ebf\u7a0b CMS \u8001\u5e74\u4ee3\u3001\u6807\u8bb0\u6e05\u9664\u7b97\u6cd5 \u591a\u7ebf\u7a0b G1 \u8de8\u65b0\u751f\u4ee3\u548c\u8001\u5e74\u4ee3\u3001\u6807\u8bb0\u6574\u7406+\u5316\u6574\u4e3a\u96f6 \u591a\u7ebf\u7a0b <p>\u54cd\u5e94\u4f18\u5148\u7684\u539f\u56e0</p> <p>\u6bd4\u5982\u6e38\u620f\u670d\u52a1\u5668\uff0cGC\u4f1a\u5bfc\u81f4\u4e1a\u52a1\u7ebf\u7a0b\u6682\u505c\u89e6\u53d1stop the world</p>"},{"location":"android/java/java_jvm/#cms","title":"CMS","text":"<p>Concurrent Mark Sweep\uff0c\u53ea\u9488\u5bf9\u8001\u5e74\u4ee3\uff0cjava14\u540e\u88ab\u79fb\u9664</p> <p>ParNew\u4e3aCMS\u5b9a\u5236\uff0c\u7528\u6765\u56de\u6536\u65b0\u751f\u4ee3</p> <p>\u521d\u59cb\u6807\u8bb0\u3001\u5e76\u53d1\u6807\u8bb0\u3001\u91cd\u65b0\u6807\u8bb0\u3001\u5e76\u53d1\u6e05\u7406\u3001\u91cd\u7f6e\u7ebf\u7a0b</p> <p>\u521d\u59cb\u6807\u8bb0\uff1a\u6682\u505c\u6240\u6709\u7528\u6237\u7ebf\u7a0b(\u65f6\u95f4\u77ed)</p> <p>\u5e76\u53d1\u6807\u8bb0\uff1a\u65f6\u95f4\u957f\uff0c\u7528\u6237\u548cGC\u540c\u65f6\u8fd0\u884c</p> <p>\u91cd\u65b0\u6807\u8bb0\uff1a\u65f6\u95f4\u77ed\uff0c\u6682\u505c\u6240\u6709\u7528\u6237\u7ebf\u7a0b</p> <p>\u5e76\u53d1\u6e05\u7406\uff1a\u65f6\u95f4\u957f\uff0c\u7528\u6237\u548cGC\u540c\u65f6\u8fd0\u884c\uff0c\u4f1a\u4ea7\u751f\u6d6e\u52a8\u5783\u573e\uff0c\u9700\u8981\u4e0b\u4e00\u6b21\u624d\u4f1a\u56de\u6536\uff0c\u56e0\u6b64\u9700\u8981\u9884\u7559\u4e00\u90e8\u5206\u7a7a\u95f4</p> <p>\u95ee\u9898\uff1aCPU\u654f\u611f\u3001\u6d6e\u52a8\u5783\u573e\u3001\u5185\u5b58\u788e\u7247(\u5206\u914d\u5927\u5bf9\u8c61\u65f6\u53ef\u80fd\u4f1a\u8ba9jvm\u4f1a\u5207\u6362\u6210Serial Old\uff0c\u79f0\u9000\u5316\uff0c\u5806\u8d8a\u5927\u8017\u65f6\u8d8a\u957f)</p> <p>\u670d\u52a1\u5668\u7ef4\u62a4\uff1a\u91cd\u542f\u540eCMS\u5c31\u6ca1\u6709\u5185\u5b58\u788e\u7247</p> <p>VM\u53c2\u6570\uff1a-Xlog:gc*(--XX:+PrintGCDetails) --XX:UseConcMarkSweepGC</p> <p>G1\uff1a\u5806\u7a7a\u95f48G\u4ee5\u4e0a\u63a8\u8350\uff0c&lt;6G\u7528CMS\uff0cjdk1.8\u4ee5\u4e0a\u9ed8\u8ba4\u91c7\u7528G1</p>"},{"location":"android/java/java_jvm/#jvm_3","title":"JVM\u8c03\u4f18","text":""},{"location":"android/java/java_jvm/#_25","title":"\u6269\u5bb9\u65b0\u751f\u4ee3","text":"<p>\u4e3a\u4f55\u80fd\u63d0\u9ad8GC\u6548\u7387\u5417\uff1f</p> <p>\u65b0\u751f\u4ee3\u91c7\u7528\u590d\u5236\u7b97\u6cd5\uff0c\u5373\u5148\u8fdb\u884c\u626b\u63cf(\u53ef\u8fbe\u6027\u5206\u6790\u7b97\u6cd5\u5224\u65ad\u5bf9\u8c61\u662f\u5426\u5b58\u6d3b\uff0c\u8017\u65f6\u8f83\u5c11\u5047\u8bbe\u4e3aT1)\uff0c\u7136\u540e\u8fdb\u884c\u5bf9\u8c61\u590d\u5236\u4eceEden\u5230From\u5230To(\u8017\u65f6\u8f83\u5927\u5047\u8bbe\u4e3aT2)</p> <p>\u5047\u8bbe\u65b0\u751f\u4ee3\u5bb9\u91cfR\uff0c\u5bf9\u8c61A\u5b58\u6d3b\u65f6\u95f4750ms\uff0cMinorGC\u95f4\u9694500ms \u6269\u5bb9\u540e\u4e3a2R\uff0cA\u7684\u5b58\u6d3b\u65f6\u95f4\u4e0d\u4f1a\u53d8\uff0cMinorGC\u95f4\u9694\u53d8\u62101000ms(\u7531\u4e8e\u7a7a\u95f4\u6269\u5927\u4e00\u500d)\uff0c\u5219\u6269\u5bb9\u524d\u603b\u8017\u65f6\u4e3aT1+T2\uff0c\u6269\u5bb9\u540e\u4e3a2T1\uff0c\u56e0\u4e3a\u6269\u5bb9\u540e\u5bf9\u8c61\u5df2\u7ecf\u6ca1\u5b58\u6d3b\uff0c\u6240\u4ee5\u4e00\u822c\u662f\u80fd\u63d0\u9ad8GC\u6548\u7387\uff0c\u9664\u975e\u90fd\u662f\u8001\u5e74\u4ee3\u5bf9\u8c61</p>"},{"location":"android/java/java_jvm/#_26","title":"\u907f\u514d\u8de8\u4ee3\u626b\u9762","text":"<p>\u8001\u5e74\u4ee3\u5f15\u7528\u4e86\u65b0\u751f\u4ee3\uff0c\u5bfc\u81f4\u51fa\u73b0\u6574\u5806\u626b\u63cf\uff0c\u5185\u90e8\u4f18\u5316\u65b9\u6848\u5361\u8868</p> <p>\u5361\u8868(card table)\uff1a\u5f53\u51fa\u73b0\u8de8\u4ee3\u5f15\u7528\u65f6\uff0c\u4f1a\u5728\u5361\u8868\u4e0a\u8fdb\u884c\u6807\u8bb0\uff0c\u8fd9\u6837\u626b\u63cf\u53ea\u9700\u8981\u626b\u65b0\u751f\u4ee3\u548c\u88ab\u6807\u8bb0\u7684\u6570\u636e</p> <p>\u5e38\u91cf\u6c60(\u65b9\u6cd5\u533a) Class\u5e38\u91cf\u6c60\u3001\u5b57\u7b26\u4e32\u5e38\u91cf\u6c60\u3001\u8fd0\u884c\u65f6\u5e38\u91cf\u6c60 <pre><code>new String(\"a\") == new String(\"a\");// false\nnew String(\"a\").intern() == new String(\"a\").intern();// true\u4ece\u5e38\u91cf\u6c60\u83b7\u53d6\n</code></pre></p>"},{"location":"android/java/java_jvm/#_27","title":"\u603b\u7ed3\u56fe","text":""},{"location":"android/java/java_reflex/","title":"\u53cd\u5c04","text":""},{"location":"android/java/java_reflex/#class","title":"\u83b7\u5f97 Class \u5bf9\u8c61","text":"<p>\u83b7\u53d6Class\u5bf9\u8c61\u7684\u4e09\u79cd\u65b9\u5f0f 1. \u901a\u8fc7\u7c7b\u540d\u83b7\u53d6 \u7c7b\u540d.class 2. \u901a\u8fc7\u5bf9\u8c61\u83b7\u53d6 \u5bf9\u8c61\u540d.getClass() 3. \u901a\u8fc7\u5168\u7c7b\u540d\u83b7\u53d6 Class.forName(\u5168\u7c7b\u540d) classLoader.loadClass(\u5168\u7c7b\u540d)</p> <p>\u4f7f\u7528 Class \u7c7b\u7684 forName \u9759\u6001\u65b9\u6cd5 <pre><code>public static Class&lt;?&gt; forName(String className)\n</code></pre> \u76f4\u63a5\u83b7\u53d6\u67d0\u4e00\u4e2a\u5bf9\u8c61\u7684 class <pre><code>Class&lt;?&gt; klass = int.class;\nClass&lt;?&gt; classInt = Integer.TYPE;\n</code></pre> \u8c03\u7528\u67d0\u4e2a\u5bf9\u8c61\u7684 getClass() \u65b9\u6cd5 <pre><code>StringBuilder str = new StringBuilder(\"123\");\nClass&lt;?&gt; klass = str.getClass();\n</code></pre></p>"},{"location":"android/java/java_reflex/#_1","title":"\u5224\u65ad\u662f\u5426\u4e3a\u67d0\u4e2a\u7c7b\u7684\u5b9e\u4f8b","text":"<p>\u4e00\u822c\u5730\uff0c\u6211\u4eec\u7528 instanceof \u5173\u952e\u5b57\u6765\u5224\u65ad\u662f\u5426\u4e3a\u67d0\u4e2a\u7c7b\u7684\u5b9e\u4f8b\u3002\u540c\u65f6\u6211\u4eec\u4e5f\u53ef\u4ee5\u501f\u52a9\u53cd\u5c04\u4e2d Class \u5bf9\u8c61\u7684isInstance() \u65b9\u6cd5\u6765\u5224\u65ad\u662f\u5426\u4e3a\u67d0\u4e2a\u7c7b\u7684\u5b9e\u4f8b\uff0c\u5b83\u662f\u4e00\u4e2a native \u65b9\u6cd5\uff1a <pre><code>public native boolean isInstance(Object obj);\n</code></pre> \u5224\u65ad\u662f\u5426\u4e3a\u67d0\u4e2a\u7c7b\u7684\u7c7b\u578b <pre><code>public boolean isAssignableFrom(Class&lt;?&gt; cls)\n</code></pre></p>"},{"location":"android/java/java_reflex/#_2","title":"\u521b\u5efa\u5b9e\u4f8b","text":"<p>\u901a\u8fc7\u53cd\u5c04\u6765\u751f\u6210\u5bf9\u8c61\u4e3b\u8981\u6709\u4e24\u79cd\u65b9\u5f0f\u3002</p> <p>\u4f7f\u7528Class\u5bf9\u8c61\u7684newInstance()\u65b9\u6cd5\u6765\u521b\u5efaClass\u5bf9\u8c61\u5bf9\u5e94\u7c7b\u7684\u5b9e\u4f8b\u3002 <pre><code>Class&lt;?&gt; c = String.class;\nObject str = c.newInstance();\n</code></pre> \u5148\u901a\u8fc7Class\u5bf9\u8c61\u83b7\u53d6\u6307\u5b9a\u7684Constructor\u5bf9\u8c61\uff0c\u518d\u8c03\u7528Constructor\u5bf9\u8c61\u7684newInstance()\u65b9\u6cd5\u6765\u521b\u5efa\u5b9e\u4f8b\u3002\u8fd9 \u79cd\u65b9\u6cd5\u53ef\u4ee5\u7528\u6307\u5b9a\u7684\u6784\u9020\u5668\u6784\u9020\u7c7b\u7684\u5b9e\u4f8b\u3002 <pre><code>//\u83b7\u53d6String\u6240\u5bf9\u5e94\u7684Class\u5bf9\u8c61\nClass&lt;?&gt; c = String.class;\n//\u83b7\u53d6String\u7c7b\u5e26\u4e00\u4e2aString\u53c2\u6570\u7684\u6784\u9020\u5668\nConstructor constructor = c.getConstructor(String.class);\n//\u6839\u636e\u6784\u9020\u5668\u521b\u5efa\u5b9e\u4f8b\nObject obj = constructor.newInstance(\"23333\");\nSystem.out.println(obj);\n</code></pre></p>"},{"location":"android/java/java_reflex/#_3","title":"\u83b7\u53d6\u6784\u9020\u5668\u4fe1\u606f","text":"<p>\u5f97\u5230\u6784\u9020\u5668\u7684\u65b9\u6cd5 <pre><code>Constructor getConstructor(Class[] params) -- \u83b7\u5f97\u4f7f\u7528\u7279\u6b8a\u7684\u53c2\u6570\u7c7b\u578b\u7684public\u6784\u9020\u51fd\u6570(\u5305\u62ec\u7236\u7c7b\uff09\nConstructor[] getConstructors() -- \u83b7\u5f97\u7c7b\u7684\u6240\u6709\u516c\u5171\u6784\u9020\u51fd\u6570\nConstructor getDeclaredConstructor(Class[] params) -- \u83b7\u5f97\u4f7f\u7528\u7279\u5b9a\u53c2\u6570\u7c7b\u578b\u7684\u6784\u9020\u51fd\u6570(\u5305\u62ec\u79c1\u6709)\nConstructor[] getDeclaredConstructors() -- \u83b7\u5f97\u7c7b\u7684\u6240\u6709\u6784\u9020\u51fd\u6570(\u4e0e\u63a5\u5165\u7ea7\u522b\u65e0\u5173)\n</code></pre></p>"},{"location":"android/java/java_reflex/#_4","title":"\u83b7\u53d6\u7c7b\u7684\u6210\u5458\u53d8\u91cf\uff08\u5b57\u6bb5\uff09\u4fe1\u606f","text":"<p>\u83b7\u5f97\u5b57\u6bb5\u4fe1\u606f\u7684\u65b9\u6cd5 <pre><code>Field getField(String name) -- \u83b7\u5f97\u547d\u540d\u7684\u516c\u5171\u5b57\u6bb5\nField[] getFields() -- \u83b7\u5f97\u7c7b\u7684\u6240\u6709\u516c\u5171\u5b57\u6bb5\nField getDeclaredField(String name) -- \u83b7\u5f97\u7c7b\u58f0\u660e\u7684\u547d\u540d\u7684\u5b57\u6bb5\nField[] getDeclaredFields() -- \u83b7\u5f97\u7c7b\u58f0\u660e\u7684\u6240\u6709\u5b57\u6bb5\n</code></pre></p>"},{"location":"android/java/java_reflex/#_5","title":"\u8c03\u7528\u65b9\u6cd5","text":"<p>\u83b7\u5f97\u65b9\u6cd5\u4fe1\u606f\u7684\u65b9\u6cd5 <pre><code>Method getMethod(String name, Class[] params) -- \u4f7f\u7528\u7279\u5b9a\u7684\u53c2\u6570\u7c7b\u578b\uff0c\u83b7\u5f97\u547d\u540d\u7684\u516c\u5171\u65b9\u6cd5\nMethod[] getMethods() -- \u83b7\u5f97\u7c7b\u7684\u6240\u6709\u516c\u5171\u65b9\u6cd5\nMethod getDeclaredMethod(String name, Class[] params) -- \u4f7f\u7528\u7279\u5199\u7684\u53c2\u6570\u7c7b\u578b\uff0c\u83b7\u5f97\u7c7b\u58f0\u660e\u7684\u547d\u540d\u7684\u65b9\u6cd5\nMethod[] getDeclaredMethods() -- \u83b7\u5f97\u7c7b\u58f0\u660e\u7684\u6240\u6709\u65b9\u6cd5\n</code></pre> \u8c03\u7528invoke\u6765\u8c03\u7528\u65b9\u6cd5 <pre><code>public Object invoke(Object obj, Object... args)\n</code></pre></p>"},{"location":"android/java/java_reflex/#_6","title":"\u9759\u6001\u4ee3\u7406","text":"<p>\u5b9a\u4e49\u62bd\u8c61\u63a5\u53e3 <pre><code>/**\n * \u4ee3\u7406\u62bd\u8c61\u89d2\u8272\n */\npublic interface Massage {\nvoid massage(String name);\n}\npublic interface Wash {\nvoid wash();\n}\n</code></pre> \u5b9a\u4e49\u4ee3\u7406\u5bf9\u8c61 <pre><code>public class Agent implements Massage {\nprivate final Massage massage;\npublic Agent(Massage massage) {\nthis.massage = massage;\n}\n@Override\npublic void massage(String name) {\nmassage.massage(name);\n}\n}\npublic class WashAgent implements Wash {\nprivate final Wash mWash;\npublic WashAgent(Wash wash) {\nthis.mWash = wash;\n}\n@Override\npublic void wash() {\nthis.mWash.wash();\n}\n}\n</code></pre> \u5b9a\u4e49\u5b9e\u73b0\u7c7b <pre><code>public class Alvin implements Massage, Wash {\n@Override\npublic void massage(String name) {\nSystem.out.println(\"massage\");\n}\n@Override\npublic void wash() {\nSystem.out.println(\"wash\");\n}\n}\n</code></pre> \u6d4b\u8bd5 <pre><code>Massage massage = new Alvin();\nWash wash = new Alvin();\nAgent agent = new Agent(massage);\nagent.massage(\"Alvin\");\nWashAgent washAgent = new WashAgent(wash);\nwashAgent.wash();\n</code></pre></p>"},{"location":"android/java/java_reflex/#_7","title":"\u52a8\u6001\u4ee3\u7406","text":"<pre><code>Alvin alvin = new Alvin();\nObject o = Proxy.newProxyInstance(MyClass.class.getClassLoader(),\nnew Class[]{Massage.class, Wash.class},//\u4f20\u5165\u9700\u8981\u4ee3\u7406\u7684class\nnew InvocationHandler() {\n@Override\npublic Object invoke(Object o, Method method, Object[] objects) throws Throwable {\n//\u53cd\u5c04\u8c03\u7528\u65b9\u6cd5\uff0cmethod\u662f\u8c03\u7528\u7684\u65b9\u6cd5\u6bd4\u5982massage\u548cwash\n//objects\u662f\u65b9\u6cd5\u53c2\u6570\u503c\u6bd4\u5982\u201cAlvin\u201d\nreturn method.invoke(alvin, objects);\n}\n});\nMassage mag = (Massage) o;\nmag.massage(\"Alvin\");//\u4f1a\u89e6\u53d1invoke\u56de\u8c03\n\nWash wh = (Wash) o;\nwh.wash();//\u4f1a\u89e6\u53d1invoke\u56de\u8c03\n</code></pre>"},{"location":"android/java/java_thread/","title":"\u7ebf\u7a0b","text":""},{"location":"android/java/java_thread/#_1","title":"\u7ebf\u7a0b","text":"<p>\u751f\u547d\u5468\u671f\uff1a\u65b0\u5efa\uff0c\u8fd0\u2f8f\uff0c\u963b\u585e\uff0c\u7b49\u5f85\uff0c\u8ba1\u65f6\u7b49\u5f85\u3001\u7ec8\u2f4c <pre><code>class ThreadState implements Runnable {\n\npublic synchronized void waitForASecond() throws InterruptedException {\nwait(500);\n}\npublic synchronized void waitForLong() throws InterruptedException {\nwait();\n}\npublic synchronized void notifyNow() throws InterruptedException {\nnotify();\n}\n@Override\npublic void run() {\ntry {\nwaitForASecond();\nwaitForLong();\n} catch (InterruptedException e) {\ne.printStackTrace();\n}\n}\n}\n\npublic static void main(String[] args) throws InterruptedException {\nThreadState state = new ThreadState();\nThread thread = new Thread(state);\nSystem.out.println(\"\u65b0\u5efa\u7ebf\u7a0b:\"+thread.getState());\nthread.start();\nSystem.out.println(\"\u542f\u52a8\u7ebf\u7a0b:\"+thread.getState());\nThread.sleep(100);//\u8fd0\u2f8fwaitForASecond()\u2f45\u6cd5\nSystem.out.println(\"\u8ba1\u65f6\u7b49\u5f85:\"+thread.getState());\nThread.sleep(1000);//\u8fd0\u2f8fwaitForLong()\u2f45\u6cd5\nSystem.out.println(\"\u7b49\u5f85\u7ebf\u7a0b:\"+thread.getState());\nstate.notifyNow();\nSystem.out.println(\"\u5524\u9192\u7ebf\u7a0b:\"+thread.getState());\nThread.sleep(1000);//\u5f53\u524d\u7ebf\u7a0b\u4f11\u7720,\u65f6\u65b0\u7ebf\u7a0b\u7ed3\u675f\nSystem.out.println(\"\u7ec8\u2f4c\u7ebf\u7a0b:\"+thread.getState());\n}\n\n\u65b0\u5efa\u7ebf\u7a0b:NEW\n\u542f\u52a8\u7ebf\u7a0b:RUNNABLE\n\u8ba1\u65f6\u7b49\u5f85:TIMED_WAITING\n\u7b49\u5f85\u7ebf\u7a0b:WAITING\n\u5524\u9192\u7ebf\u7a0b:BLOCKED\n\u7ec8\u2f4c\u7ebf\u7a0b:TERMINATED\n</code></pre></p>"},{"location":"android/java/java_thread/#_2","title":"\u7ebf\u7a0b\u5b89\u5168","text":""},{"location":"android/java/java_thread/#_3","title":"\u8868\u73b0","text":"<p>\u539f\u2f26\u6027\u3001\u53ef\u2ec5\u6027\u3001\u6709\u5e8f\u6027</p>"},{"location":"android/java/java_thread/#_4","title":"\u89e3\u51b3\u65b9\u5411","text":"<p>1.\u4e0d\u53ef\u53d8</p> <p>final\u5173\u952e\u5b57\u4fee\u9970\u7684\u7c7b\u6216\u6570\u636e\u4e0d\u53ef\u4fee\u6539\uff0c\u5982String\u7c7b\uff0cInteger\u7c7b</p> <p>2.\u7ebf\u7a0b\u5c01\u95ed</p> <p>Ad-hoc \u7ebf\u7a0b\u5c01\u95ed\u3001ThreadLocal\u3001\u5806\u6808\u5c01\u95ed</p> <p>3.\u540c\u6b65</p> <p>\u60b2\u89c2\u9501\u548c\u4e50\u89c2\u9501(\u2fae\u963b\u585e\u540c\u6b65)</p> <p>\u60b2\u89c2\u9501\uff1asynchronized\u3001Lock(ReentrantReadWriteLock/ReentrantLock)\u3001\u53ef\u89c1\u6027</p> <p>\u4e50\u89c2\u9501\uff1aCAS\u3001volatile\u3001\u6709\u5e8f\u6027\u3001\u539f\u5b50\u6027</p>"},{"location":"android/java/java_thread/#synchronized","title":"Synchronized","text":"<p>\u4fdd\u8bc1\u4e92\u65a5\u7684\uff0c\u2f00\u5757\u4ee3\u7801\u4e0d\u80fd\u540c\u65f6\u88ab\u4e24\u4e2a\u7ebf\u7a0b\u8bbf\u95ee\uff0c\u80fd\u4fdd\u8bc1\u53ef\u89c1\u6027\u3001\u6709\u5e8f\u6027\u3001\u539f\u5b50\u6027</p>"},{"location":"android/java/java_thread/#semaphore","title":"Semaphore\u7c7b","text":"<p>\u8fdb\u2f8f\u5e76\u53d1\u63a7\u5236\uff0c\u9650\u5236\u8bbf\u95ee\u2f00\u4e2a\u8d44\u6e90\uff08\u6216\u4ee3\u7801\u5757\uff09\u7684\u7ebf\u7a0b\u6570\u2f6c\u3002\u5f53\u8bbe\u5b9a\u7684\u7ebf\u7a0b\u6570\u2f6c\u662f1\u65f6\uff0c\u5e76\u53d1\u5176\u5b9e\u5c31\u9000\u5316\u5230\u4e86\u4e92\u65a5</p>"},{"location":"android/java/java_thread/#lock","title":"Lock\u7c7b","text":"<p>\u53ef\u4ee5\u53d6\u4ee3Object\u7684notify\u548cwait</p>"},{"location":"android/java/java_thread/#_5","title":"\u5bf9\u8c61\u9501","text":"<p>Synchronized+Object\u7684Notify\u548cwait\u2f00\u8d77\u6784\u6210\u4e86\u540c\u6b65</p>"},{"location":"android/java/java_thread/#volatile","title":"volatile","text":"<p>\u8f7b\u91cf\u7ea7\u7684synchronized\uff0c\u662f\u2f00\u4e2a\u53d8\u91cf\u4fee\u9970\u7b26\uff0c\u53ea\u80fd\u2f64\u6765\u4fee\u9970\u53d8\u91cf\uff0c\u80fd\u4fdd\u8bc1\u7f13\u5b58\u4e00\u81f4\u6027</p> <p>\u7f13\u5b58\u2f00\u81f4\u6027\u534f\u8bae\uff1a\u6bcf\u4e2a\u5904\u7406\u5668\u901a\u8fc7\u55c5\u63a2\u5728\u603b\u7ebf\u4e0a\u4f20\u64ad\u7684\u6570\u636e\u6765\u68c0\u67e5\u2f83\u2f30\u7f13\u5b58\u7684\u503c\u662f\u5426\u8fc7\u671f\uff0c\u5f53\u5904\u7406\u5668\u53d1\u73b0\u7f13\u5b58\u2f8f\u5bf9\u5e94\u7684\u5185\u5b58\u5730\u5740\u88ab\u4fee\u6539\uff0c\u5c31\u4f1a\u5c06\u5f53\u524d\u5904\u7406\u5668\u7684\u7f13\u5b58\u2f8f\u8bbe\u7f6e\u6210\u2f46\u6548\u72b6\u6001\uff0c\u5f53\u5904\u7406\u5668\u8981\u5bf9\u8fd9\u4e2a\u6570\u636e\u8fdb\u2f8f\u4fee\u6539\u64cd\u4f5c\u7684\u65f6\u5019\uff0c\u4f1a\u5f3a\u5236\u91cd\u65b0\u4ece\u7cfb\u7edf\u5185\u5b58\u2fa5\u628a\u6570\u636e\u8bfb\u5230\u5904\u7406\u5668\u7f13\u5b58\u2fa5</p>"},{"location":"android/java/java_thread/#_6","title":"\u53ef\u2ec5\u6027","text":"<p>\u6307\u5f53\u591a\u4e2a\u7ebf\u7a0b\u8bbf\u95ee\u540c\u2f00\u4e2a\u53d8\u91cf\u65f6\uff0c\u2f00\u4e2a\u7ebf\u7a0b\u4fee\u6539\u4e86\u8fd9\u4e2a\u53d8\u91cf\u7684\u503c\uff0c\u5176\u4ed6\u7ebf\u7a0b\u80fd\u591f\u2f74\u5373\u770b\u5f97\u5230\u4fee\u6539\u7684\u503c</p> <p>volatile\u4fdd\u8bc1\u53ef\u89c1\u6027\uff1a\u88ab\u5176\u4fee\u9970\u7684\u53d8\u91cf\u5728\u88ab\u4fee\u6539\u540e\u53ef\u4ee5\u2f74\u5373\u540c\u6b65\u5230\u4e3b\u5185\u5b58\uff0c\u88ab\u5176\u4fee\u9970\u7684\u53d8\u91cf\u5728\u6bcf\u6b21\u4f7f\u2f64\u4e4b\u524d\u90fd\u4ece\u4e3b\u5185\u5b58\u5237\u65b0</p>"},{"location":"android/java/java_thread/#_7","title":"\u6709\u5e8f\u6027","text":"<p>\u6307\u7a0b\u5e8f\u6267\u2f8f\u7684\u987a\u5e8f\u6309\u7167\u4ee3\u7801\u7684\u5148\u540e\u987a\u5e8f\u6267\u2f8f\uff08happens-before\u539f\u5219\uff09</p> <p>volatile\u4fdd\u8bc1\u6709\u5e8f\u6027\uff1a\u7981\u2f4c\u6307\u4ee4\u91cd\u6392\u4f18\u5316\u7b49\uff0c\u4fdd\u8bc1\u4ee3\u7801\u7684\u7a0b\u5e8f\u4f1a\u4e25\u683c\u6309\u7167\u4ee3\u7801\u7684\u5148\u540e\u987a\u5e8f\u6267\u2f8f</p>"},{"location":"android/java/java_thread/#_8","title":"\u539f\u2f26\u6027","text":"<p>\u6307\u2f00\u4e2a\u64cd\u4f5c\u662f\u4e0d\u53ef\u4e2d\u65ad\u7684\uff0c\u8981\u5168\u90e8\u6267\u2f8f\u5b8c\u6210\uff0c\u8981\u4e0d\u5c31\u90fd\u4e0d\u6267\u2f8f\uff0c\u540c\u4e00\u65f6\u523b\u53ea\u80fd\u6709\u4e00\u4e2a\u7ebf\u7a0b\u6765\u5bf9\u5b83\u8fdb\u884c\u64cd\u4f5c</p> <p>volatile\u65e0\u6cd5\u4fdd\u8bc1\u539f\u2f26\u6027\uff1a\u4fdd\u8bc1\u539f\u2f26\u6027\u9700\u8981\u901a\u8fc7\u5b57\u8282\u7801\u6307\u4ee4monitorenter\u548cmonitorexit\uff0cvolatile\u548c\u8fd9\u4e24\u4e2a\u6307\u4ee4\u4e4b\u95f4\u662f\u6ca1\u6709\u4efb\u4f55\u5173\u7cfb\u7684</p> <p><pre><code>private volatile int i = 0;\ni++;\n</code></pre> \u7ebf\u7a0bA\u548c\u7ebf\u7a0bB\u540c\u65f6\u4fee\u6539i++\u65f6\u4e3a\u5565\u4f1a\u6709\u95ee\u9898\uff1f</p> <p>\u7ebf\u7a0bA\u5728i++\u65f6i\u53d8\u62101\uff0c\u4f1a\u7acb\u5373\u5237\u65b0\u4e3b\u5185\u5b58\u4f7f\u5f97\u7ebf\u7a0bB\u7684i\u503c\u65e0\u6548\u91cd\u5199\u4ece\u4e3b\u5185\u5b58\u8bfb\u53d6\uff0c\u6309\u7406\u4e0d\u4f1a\u51fa\u73b0\u5f02\u5e38</p> <p>\u7406\u89e3</p> <p>1\u3001\u7ebf\u7a0b\u8bfb\u53d6i</p> <p>2\u3001temp = i + 1</p> <p>3\u3001i = temp</p> <p>\u5f53 i=0 \u7684\u65f6\u5019A,B\u4e24\u4e2a\u7ebf\u7a0b\u540c\u65f6\u8bfb\u5165\u4e86 i \u7684\u503c\uff0c \u7136\u540eA\u7ebf\u7a0b\u6267\u884c\u4e86temp = i + 1\u7684\u64cd\u4f5c\uff0c\u7136\u540eB\u7ebf\u7a0b\u4e5f\u6267\u884c\u4e86temp = i + 1\u7684\u64cd\u4f5c\uff0c\u6b64\u65f6A\uff0cB\u4e24\u4e2a\u7ebf\u7a0b\u4fdd\u5b58\u7684 i \u7684\u503c\u90fd\u662f0\uff0ctemp\u7684\u503c\u90fd\u662f1\uff0c\u7136\u540eA\u7ebf\u7a0b\u6267\u884c\u4e86 i = temp\u7684\u64cd\u4f5c\uff0c\u6b64\u65f6i\u7684\u503c\u4f1a\u7acb\u5373\u5237\u65b0\u5230\u4e3b\u5b58\u5e76\u901a\u77e5\u5176\u4ed6\u7ebf\u7a0b\u4fdd\u5b58\u7684 i \u503c\u5931\u6548\uff0c\u6b64\u65f6B\u7ebf\u7a0b\u9700\u8981\u91cd\u65b0\u8bfb\u53d6 i \u7684\u503c\u90a3\u4e48\u6b64\u65f6B\u7ebf\u7a0b\u4fdd\u5b58\u7684 i \u5c31\u662f1\uff0c\u540c\u65f6B\u7ebf\u7a0b\u4fdd\u5b58\u7684temp\u8fd8\u4ecd\u7136\u662f1\uff0c\u7136\u540eB\u7ebf\u7a0b\u6267\u884c i=temp\uff0c\u6240\u4ee5\u5bfc\u81f4\u4e86\u8ba1\u7b97\u7ed3\u679c\u6bd4\u9884\u671f\u5c11\u4e861</p>"},{"location":"android/java/java_thread/#volatile_1","title":"\u61d2\u6c49\u53cc\u91cd\u6821\u9a8c\u548cvolatile","text":"<p>\u61d2\u6c49\u5f0f \u65e2\u7136synchronized\u4fdd\u8bc1\u4e86\u6709\u5e8f\u6027\u90a3\u4e3a\u5565\u8fd8\u9700\u8981volatile?</p> <p>synchronized\u53ea\u80fd\u4fdd\u8bc1\u8ba9\u95ed\u5305\u91cc\u4ee3\u7801\u540c\u4e00\u65f6\u95f4\u53ea\u6709\u4e00\u4e2a\u7ebf\u7a0b\u6267\u884c\uff0c\u5f53\u7ebf\u7a0bA\u6267\u884cINSTANCE = new Singleton()\u65f6\uff0c\u5206\u4e3a\u5f00\u8f9f\u7a7a\u95f4\u521b\u5efa\u5bf9\u8c61\u3001\u8c03\u7528\u6784\u9020\u65b9\u6cd5\u3001\u8d4b\u503c\u7ed9INSTANCE\u4e09\u6b65\uff0c\u7531\u4e8e\u865a\u62df\u673a\u6307\u4ee4\u91cd\u6392\u673a\u5236\u5bfc\u81f4\u540e\u9762\u4e24\u6b65\u53ef\u80fd\u987a\u5e8f\u98a0\u5012\uff0c\u6240\u4ee5\u5f53\u7ebf\u7a0bB\u8d70\u5230if (INSTANCE == null) {\u65f6\u4e0d\u4e3anull</p>"},{"location":"android/java/java_thread/#synchronized-vs-volatile","title":"synchronized vs volatile","text":"synchronized volatile \u4f7f\u7528 \u53d8\u91cf\u3001\u65b9\u6cd5\u3001\u7c7b\u3001\u540c\u6b65\u4ee3\u7801\u5757\u7b49 \u53d8\u91cf \u7ebf\u7a0b\u963b\u585e \u53ef\u80fd\u4f1a \u4e0d\u4f1a \u6027\u80fd \u6709\u9501\uff0c\u7565\u4f4e \u4f18\u4e8e\u524d\u8005 \u4fdd\u8bc1 \u6709\u5e8f\u3001\u53ef\u89c1\u3001\u539f\u5b50 \u6709\u5e8f\u3001\u53ef\u89c1 \u539f\u7406 \u52a0\u9501(monitorenter\u6307\u4ee4)\u91ca\u653e\u9501(monitorexit\u6307\u4ee4)\u4fdd\u8bc1\u539f\u5b50\u6027\uff0c\u5185\u5b58\u5c4f\u969c\u4fdd\u8bc1\u6709\u5e8f\u3001\u53ef\u89c1\u6027 \u5185\u5b58\u5c4f\u969c\u4fdd\u8bc1\u6709\u5e8f\u3001\u53ef\u89c1\u6027"},{"location":"android/java/java_thread/#synchronized-vs-lock","title":"synchronized vs lock","text":"synchronized Lock\u63a5\u53e3 \u4f7f\u7528 \u5173\u952e\u5b57 \u7c7b \u9501\u72b6\u6001 \u4e0d\u53ef\u5224\u65ad \u53ef\u5224\u65ad \u9501\u7c7b\u578b \u53ef\u91cd\u5165\uff0c\u4e0d\u53ef\u4e2d\u65ad\uff0c\u975e\u516c\u5e73\u9501 \u53ef\u91cd\u5165\uff0c\u53ef\u4e2d\u65ad\uff0c\u516c/\u975e\u516c\u5e73\u9501 \u5b58\u5728\u5c42\u6b21 volatile\u5173\u952e\u5b57 synchronized\u5173\u952e\u5b57 Lock\u63a5\u2f1d Atomic\u53d8\u91cf \u539f\u2f26\u6027 \u2f46\u6cd5\u4fdd\u969c \u53ef\u4ee5\u4fdd\u969c \u53ef\u4ee5\u4fdd\u969c \u53ef\u4ee5\u4fdd\u969c \u53ef\u2ec5\u6027 \u53ef\u4ee5\u4fdd\u969c \u53ef\u4ee5\u4fdd\u969c \u53ef\u4ee5\u4fdd\u969c \u53ef\u4ee5\u4fdd\u969c \u6709\u5e8f\u6027 \u2f00\u5b9a\u7a0b\u5ea6\u4fdd\u969c \u53ef\u4ee5\u4fdd\u969c \u53ef\u4ee5\u4fdd\u969c \u2f46\u6cd5\u4fdd\u969c <p>4.\u5de5\u5177\u7c7b</p> <p>\u540c\u6b65\u5bb9\u5668\uff08\u5df2\u8fc7\u65f6\uff09 \u540c\u6b65\u5bb9\u5668\u7684\u2f2f\u5177\u6709Vector\u3001HashTable\u3001Collections.synchroniedXXX()</p> <p>\u5e76\u53d1\u5bb9\u5668\uff08JUC\uff09 ConcurrentHashMap\u3001CopyOnWriteArrayList</p> <p>JUC\u540c\u6b65\u5668 AQS</p>"},{"location":"android/java/java_thread/#sleep","title":"Sleep","text":"<p>Thread.Sleep(0)\u7684\u4f5c\u2f64\uff0c\u89e6\u53d1\u64cd\u4f5c\u7cfb\u7edf\u2f74\u523b\u91cd\u65b0\u8fdb\u2f8f\u2f00\u6b21CPU\u7ade\u4e89</p>"},{"location":"android/java/java_thread/#sleepwait","title":"sleep\u548cwait\u7684\u533a\u522b","text":"<p>1\u3001sleep\u662fThread\u7684\u9759\u6001\u2f45\u6cd5\uff0cwait\u662fObject\u7684\u2f45\u6cd5\uff0c\u4efb\u4f55\u5bf9\u8c61\u5b9e\u4f8b\u90fd\u80fd\u8c03\u2f64\u3002</p> <p>2\u3001sleep\u4e0d\u4f1a\u91ca\u653e\u9501\uff0c\u5b83\u4e5f\u4e0d\u9700\u8981\u5360\u2f64\u9501\u3002wait\u4f1a\u91ca\u653e\u9501\uff0c\u4f46\u8c03\u2f64\u5b83\u7684\u524d\u63d0\u662f\u5f53\u524d\u7ebf\u7a0b\u5360\u6709\u9501(\u5373\u4ee3\u7801\u8981\u5728synchronized\u4e2d)\u3002</p> <p>3\u3001\u5b83\u4eec\u90fd\u53ef\u4ee5\u88abinterrupt\u2f45\u6cd5\u4e2d\u65ad</p> sleep wait \u540c\u6b65 \u65e0\u9650\u5236 synchronized\u4e2d\u4f7f\u7528 \u4f5c\u7528\u5bf9\u8c61 \u5b9a\u4e49\u5728Thread\u4e2d\uff0c\u4f5c\u7528\u57df\u5f53\u524d\u7ebf\u7a0b \u5b9a\u4e49\u5728Object\u4e2d\uff0c\u4f5c\u7528\u4e8e\u672c\u8eab \u91ca\u653e\u9501 \u5426 \u662f \u5524\u9192\u6761\u4ef6 \u8d85\u65f6\u6216\u8c03\u7528interrupt\u65b9\u6cd5 \u5176\u4ed6\u7ebf\u7a0b\u8c03\u7528notify\u6216notifyAll \u65b9\u6cd5\u5c5e\u6027 \u5b9e\u4f8b\u65b9\u6cd5 \u9759\u6001\u2f45\u6cd5"},{"location":"android/java/java_thread/#_9","title":"\u516c\u5e73\u9501\u548c\u975e\u516c\u5e73\u9501","text":"\u516c\u5e73\u9501 \u975e\u516c\u5e73\u9501 \u5b9a\u4e49 \u591a\u4e2a\u7ebf\u7a0b\u6392\u961f\u7533\u8bf7\u9501 \u591a\u4e2a\u7ebf\u7a0b\u90fd\u5c1d\u8bd5\u83b7\u5f97\u9501\uff0c\u5148\u5360\u5148\u5f97 \u4f18\u70b9 \u6240\u6709\u7ebf\u7a0b\u90fd\u80fd\u83b7\u5f97\u9501 \u51cf\u5c11cpu\u5524\u9192\u5f00\u9500\uff0c\u541e\u5410\u6548\u7387\u53d8\u9ad8 \u7f3a\u70b9 \u9664\u4e86\u7b2c\u4e00\u4e2a\u7ebf\u7a0b\uff0c\u540e\u7eed\u7ebf\u7a0b\u4f1a\u963b\u585e\u5bfc\u81f4\u589e\u52a0cpu\u5524\u9192\u5f00\u9500\u53d8\u5927\uff0c\u541e\u5410\u6548\u7387\u53d8\u4f4e \u6709\u53ef\u80fd\u5bfc\u81f4\u67d0\u4e9b\u7ebf\u7a0b\u4e00\u76f4\u65e0\u6cd5\u83b7\u5f97\u9501 <p>ReentrantLock\u9ed8\u8ba4\u662f\u975e\u516c\u5e73\u9501\uff0cReentrantLock(true)\u4e3a\u516c\u5e73\u9501\uff0c\u5206\u522b\u5bf9\u5e94NonfairSync\u548cFairSync</p>"},{"location":"android/java/java_thread/#_10","title":"\u5e76\u53d1\u5de5\u5177\u7c7b","text":"<p>CountDownLatch\u3001CyclicBarrier</p>"},{"location":"android/java/java_thread/#transient","title":"transient\u5173\u952e\u5b57","text":"<p>\u662f\u6210\u5458\u53d8\u91cf\u4e0d\u88ab\u5e8f\u5217\u5316\uff0c\u88abstatic\u4fee\u9970\u7684\u6210\u5458\u53d8\u91cf\u65e0\u6548\uff0c\u9700\u8981\u5b9e\u73b0Serializable\u63a5\u2f1d\uff0c\u5982\u679c\u5b9e\u73b0Externalizable\u63a5\u2f1d\u5219\u4e5f\u65e0\u6548\uff0c\u9700\u8981\u81ea\u884c\u5728readExternal\u65b9\u6cd5\u91cc\u5904\u7406(\u624b\u52a8\u8bbe\u7f6enull)</p>"},{"location":"android/java/java_thread/#_11","title":"\u7ebf\u7a0b\u6c60","text":"<p>ThreadPoolExecutor</p> <p>\u62d2\u7edd\u7b56\u7565</p> <p>ThreadPoolExecutor.DiscardPolicy\uff1a\u4e0d\u4f1a\u629b\u5f02\u5e38\u4e5f\u4e0d\u4f1a\u6267\u2f8f</p> <p>ThreadPoolExecutor.AbortPolicy\uff1a\u9ed8\u8ba4\u7b56\u7565\uff0c\u62d2\u7edd\u540e\u629b\u5f02\u5e38</p> <p>ThreadPoolExecutor.CallerRunsPolicy\uff1a\u62d2\u7edd\u540e\u76f4\u63a5\u6267\u884crun\uff0c\u53ef\u80fd\u4f1a\u963b\u585e\u4e3b\u7ebf\u7a0b</p> <p>ThreadPoolExecutor.DiscardOldestPolicy\uff1a\u62d2\u7edd\u540e\u4f1a\u629b\u5f03\u4efb\u52a1\u961f\u5217 \u4e2d\u6700\u65e7\u7684\u4efb\u52a1</p> <p>\u81ea\u5b9a\u4e49\u7b56\u7565</p> <p>\u5b9e\u73b0RejectedExecutionHandler\u63a5\u53e3</p>"},{"location":"android/java/java_thread/#threadlocal","title":"ThreadLocal","text":"<p>\u7ebf\u7a0b\u7ea7\u522b\u53d8\u91cf\uff0c\u5e76\u53d1\u6a21\u5f0f\u4e0b\u662f\u7edd\u5bf9\u5b89\u5168\u7684\u53d8\u91cf</p>"},{"location":"android/java/java_thread/#_12","title":"\u540c\u6b65\u3001\u5f02\u6b65\u3001\u963b\u585e\u3001\u975e\u963b\u585e","text":"<p>\u540c\u6b65\u548c\u5f02\u6b65\u3001\u963b\u585e\u548c\u975e\u963b\u585e\u672c\u8d28\u4e0a\u662f\u4e00\u5bf9\u76f8\u5bf9\u7684\u6982\u5ff5\u3002</p> <p>\u5728\u8fdb\u7a0b\u901a\u4fe1\u8fd9\u4e2a\u5c42\u9762\uff0c\u540c\u6b65\u548c\u5f02\u6b65\u9488\u5bf9\u7684\u662f\u53d1\u9001\u65b9\u800c\u8a00\uff0c\u53d6\u51b3\u4e8e\u5c06\u6570\u636e\u5199\u5230\u5185\u6838\u7f13\u51b2\u533a\u8fdb\u7a0b\u7684\u884c\u4e3a\uff0c\u7ee7\u7eed\u7b49\u5f85\u53d1\u9001\u5219\u4e3a\u540c\u6b65\uff0c\u53cd\u4e4b\u5373\u4e3a\u5f02\u6b65\u3002</p> <p>\u5728\u8fdb\u7a0b\u901a\u4fe1\u8fd9\u4e2a\u5c42\u9762\uff0c\u963b\u585e\u975e\u963b\u585e\u9488\u5bf9\u7684\u662f\u63a5\u6536\u65b9\u800c\u8a00\uff0c\u53d6\u51b3\u4e8e\u5c06\u5185\u6838\u4e2d\u7684\u6570\u636e\u80fd\u5426\u7acb\u5373\u62f7\u8d1d\u5230\u7528\u6237\u7a7a\u95f4\uff0c\u5982\u679c\u4e0d\u80fd\u76f4\u63a5\u62f7\u8d1d\u5219\u4e3a\u963b\u585e\uff0c\u53cd\u4e4b\u5219\u4e3a\u975e\u963b\u585e</p> <p>\u540c\u6b65\u5f02\u6b65\u662f\u8f93\u5165\u5230\u7ed3\u679c\u9700\u4e0d\u9700\u8981\u7b49\u5f85\u51b3\u5b9a\uff0c\u963b\u585e\u548c\u975e\u963b\u585e\u662f\u662f\u4e00\u79cd\u72b6\u6001\u7531\u7684\u7b49\u5f85\u7ed3\u679c\u65f6\u662f\u5426\u53ef\u4ee5\u505a\u5176\u4ed6\u4e8b\u60c5\u51b3\u5b9a</p>"},{"location":"android/java/java_thread/#interruptedisinterrupted","title":"interrupted\u548cisInterrupted\u2f45\u6cd5\u7684\u533a\u522b","text":"<p><pre><code>public static boolean interrupted() {\nThread t = currentThread();\nboolean interrupted = t.interrupted;\nif (interrupted) {\nt.interrupted = false;\nclearInterruptEvent();\n}\n\nreturn interrupted;\n}\npublic boolean isInterrupted() {\nreturn this.interrupted;\n}\n</code></pre> interrupted\u662f\u9759\u6001\u65b9\u6cd5\uff0c\u7528\u6765\u4e2d\u65ad\u5f53\u524d\u7ebf\u7a0b</p> <p>isInterrupted\u662f\u5b9e\u4f8b\u65b9\u6cd5\uff0c\u7528\u6765\u5224\u65ad\u7ebf\u7a0b\u662f\u5426\u4e2d\u7aef</p>"},{"location":"android/kotlin/kotlin_basic/","title":"\u5165\u95e8","text":""},{"location":"android/kotlin/kotlin_basic/#_1","title":"\u7b80\u4ecb","text":"<p>\u5b98\u7f51</p> <p>\u5224\u65ad\u9759\u6001\u8bed\u8a00\u3001\u52a8\u6001\u8bed\u8a00\uff1f</p> <p>\u9759\u6001\u8bed\u8a00\u662f\u7f16\u8bd1\u671f\u80fd\u6821\u9a8c\u6570\u636e\u7c7b\u578b\uff0c\u5982java <pre><code>String a = \"xx\";\na = 1;//\u62a5\u9519\n</code></pre></p> <p>\u5982kotlin <pre><code>var a = \"xxx\"\na = 1//\u62a5\u9519\n</code></pre></p> <p>\u57fa\u672c\u6570\u636e\u7c7b\u578b</p> <p>Byte,Short,Int,Long,Float,Double,Char,String,Boolean</p> <p>kotlin\u53ea\u6709\u5f15\u7528\u7c7b\u578b\uff0c\u5728\u7f16\u8bd1\u540e\u4f1a\u8f6c\u5316\u6210java\u7684\u57fa\u672c\u6570\u636e\u7c7b\u578b</p> <p>val\u8868\u793a\u53ea\u8bfb\u53d8\u91cf</p> <p>\u5e38\u91cfconst\u4fee\u9970\uff0c\u4e0d\u80fd\u5199\u5728\u51fd\u6570\u91cc\u9762\uff0c\u56e0\u4e3a\u5e38\u91cf\u662f\u7f16\u8bd1\u65f6\u5c31\u9700\u8981\u786e\u5b9a\uff0c\u800c\u51fd\u6570\u662f\u8fd0\u884c\u65f6\u624d\u88ab\u8c03\u7528 <pre><code>const val msg = \"msg\"\nfun main() {\nval info = \"info\"\n}\n</code></pre> \u8868\u8fbe\u5f0f\u662f\u6709\u8fd4\u56de\u503c\u7684</p> <p>java\u4e2d\u7684if\u662f\u8bed\u53e5\u800ckotlin\u4e2d\u7684\u662f\u8868\u8fbe\u5f0f</p> <p>range\u8868\u8fbe\u5f0f</p> <p>in 12..89</p> <p>when\u8868\u8fbe\u5f0f\u76f8\u5f53\u4e8ejava\u4e2d\u7684switch</p> <p>String\u6a21\u7248\u4f7f\u7528${}\u65b9\u5f0f\uff0c\u5176\u4e2d{}\u90e8\u5206\u573a\u666f\u53ef\u7701\u7565</p>"},{"location":"android/kotlin/kotlin_basic/#fieldproperty","title":"field\u548cproperty","text":"<p>Java\u4e2d\u53ef\u4ee5\u5355\u72ec\u7533\u660e\u5b57\u6bb5\uff0c\u4f46kotlin\u4e2d\u4e0d\u884c\uff0c\u53ea\u80fd\u4ec0\u4e48\u5c5e\u6027</p> <p>\u539f\u56e0\u662fkotlin\u5fc5\u987b\u4f7f\u7528var\u6216val\u7533\u660e\uff0c\u4e14\u4f1a\u81ea\u52a8\u751f\u6210get/set\u65b9\u6cd5\uff0c\u800c\u5c5e\u6027=\u5b57\u6bb5+get/set</p> <p>get\u65b9\u6cd5\u4e0d\u80fd\u88abprivate\u4fee\u9970</p>"},{"location":"android/kotlin/kotlin_class/","title":"\u7c7b","text":""},{"location":"android/kotlin/kotlin_class/#_1","title":"\u521d\u8bc6\u7c7b","text":"<p>\u58f0\u660e\u5c5e\u6027\u9ed8\u8ba4\u4f1a\u6709get\uff0cset\u65b9\u6cd5\uff0c\u53ef\u8fdb\u884c\u4fee\u6539\u5982\u4e0b <pre><code>class MyClass {\nvar name = \"AFREE\"\nget() = field.lowercase()\nset(value) {\nfield = \"[$value]\"\n}\n}\nMyClass().name//\u83b7\u53d6\nMyClass().name = \"xxx\"//\u8d4b\u503c\n</code></pre></p>"},{"location":"android/kotlin/kotlin_class/#_2","title":"\u4e3b\u6784\u9020\u51fd\u6570","text":"<p><pre><code>class MyClass(_pwd: String) {//\u53c2\u6570\u662f\u4e34\u65f6\u7c7b\u578b\nvar pwd: String? = _pwd\nfun getAge(): String {\nreturn pwd?.run {\nifBlank {\n\"is blank\"\n}\n} ?: \"is null\"\n}\n}\n</code></pre> \u4ee5\u4e0apwd\u53c2\u6570\u662f\u7c7bjava\u5199\u6cd5\uff0ckt\u4e00\u822c\u4ee5\u4e0b\u5199\u6cd5 <pre><code>class MyClass(var pwd: String?) {\n}\n</code></pre> \u5982\u679c\u662fvar\u5219\u81ea\u52a8\u751f\u6210get\u3001set\u65b9\u6cd5\uff0c\u5982\u679c\u662fval\u5219\u53ea\u6709get\u65b9\u6cd5</p>"},{"location":"android/kotlin/kotlin_class/#init","title":"init\u4ee3\u7801\u5757","text":"<p>init\u662f\u4e3b\u6784\u9020\u8c03\u7528\u65f6\u89e6\u53d1\uff0c\u800c\u6b21\u6784\u9020\u5fc5\u987b\u8c03\u7528\u4e3b\u6784\u9020\u51fd\u6570</p>"},{"location":"android/kotlin/kotlin_class/#_3","title":"\u6b21\u6784\u9020\u51fd\u6570","text":"<p><pre><code>class MyClass(pwd: String) {\ninit {\nprintln(\"\u4e3b\u6784\u9020\u88ab\u8c03\u7528\uff0c\u5bc6\u7801\uff1a$pwd\")\n}\nconstructor() : this(\"mini\", \"123\"){\nprintln(\"\u6211\u662f\u6b21\u6784\u90201\")\n}\nconstructor(userName: String, pwd: String) : this(userName){\nprintln(\"\u6211\u662f\u6b21\u6784\u90202\")\n}\n}\nfun main() {\nMyClass()\n}\n</code></pre> constructor\u90fd\u662f\u6b21\u6784\u9020</p> <p>\u6ce8\uff1ainit\u4e2d\u80fd\u62ff\u5230\u4e3b\u6784\u9020\u4e2d\u7684\u53c2\u6570\uff0c\u65e0\u8bba\u662f\u5426\u662f\u4e34\u65f6\u5c5e\u6027</p> <p>\u6267\u884c\u987a\u5e8f</p> <p>\u7c7b\u6210\u5458\u548cinit\u5757\u540c\u65f6\u751f\u6210\uff0c\u53d6\u51b3\u4e8e\u7f16\u5199\u987a\u5e8f</p>"},{"location":"android/kotlin/kotlin_class/#_4","title":"\u7ee7\u627f","text":"<p>\u7c7b\u548c\u51fd\u6570\u7f16\u8bd1\u540e\u9ed8\u8ba4\u662ffinal\u4fee\u9970\u65e0\u6cd5\u7ee7\u627f\uff0c\u4f7f\u7528open\u5173\u952e\u5b57\u5373\u53ef\u79fb\u9664final <pre><code>open class Person{\nopen fun showName() {\nprintln(\"\u6211\u662fPerson\")\n}\n}\n\nclass Student : Person() {\noverride fun showName() {\nprintln(\"\u6211\u662fStudent\")\n}\nfun study() {\nprintln(\"\u6211\u7231\u5b66\u4e60\")\n}\n}\n</code></pre></p>"},{"location":"android/kotlin/kotlin_class/#is","title":"is","text":"<p>\u5224\u65ad\u7c7b\u578b\u76f8\u5f53\u4e8ejava\u7684instanceOf</p>"},{"location":"android/kotlin/kotlin_class/#as","title":"as","text":"<p>\u8f6c\u5316\u7c7b\u578b\uff0c\u5f3a\u8f6c <pre><code>    val p: Person = Student()\n//    (p as Student).study()\np.study()\n</code></pre> \u5982\u679c\u6ca1\u6709\u7b2c\u4e8c\u884c\u4ee3\u7801\uff0c\u7b2c\u4e09\u884c\u4ee3\u7801\u4f1a\u62a5\u9519\uff0c\u6216\u8005\u53ef\u4ee5 <pre><code>if (p is Student) {\np.study()\n}\n</code></pre> kt\u7684\u6839\u7236\u7c7bAny\u76f8\u5f53\u4e8ejava\u7684Object</p> <p>Any\u7c7b\u53ea\u63d0\u4f9b\u6807\u51c6\uff0c\u770b\u4e0d\u5230\u6e90\u7801\u5177\u4f53\u5b9e\u73b0\uff0c\u7531\u5404\u4e2a\u5e73\u53f0\u5904\u7406</p>"},{"location":"android/kotlin/kotlin_class/#object","title":"object\u5173\u952e\u5b57","text":""},{"location":"android/kotlin/kotlin_class/#_5","title":"\u5355\u4f8b","text":"<p>\u8868\u793a\u7684\u7c7b\u5c06\u53d8\u6210\u5355\u4f8b\u5bf9\u8c61 <pre><code>object Student : Person() {\n}\nStudent.study()\n</code></pre> \u6ce8\uff1a\u6784\u9020\u51fd\u6570\u5c06\u4f1a\u88ab\u79c1\u6709\u5316</p>"},{"location":"android/kotlin/kotlin_class/#object-x","title":"\u533f\u540d\u5bf9\u8c61(object : X())","text":"<p><pre><code>val p = object : Person() {\noverride fun showName() = println()\n}\np.showName()\n</code></pre> \u6ce8\uff1akt\u91cc\u9762\u53ea\u80fd\u8fd9\u6837\u5199\uff0c\u5982\u679c\u662fjava\u63a5\u53e3\u53ef\u4ee5\u7701\u7565object\uff0c\u5982java\u4e2d\u7684Runnable\u63a5\u53e3 <pre><code>Runnable { }\n</code></pre></p>"},{"location":"android/kotlin/kotlin_class/#companion-object","title":"\u4f34\u751f\u5bf9\u8c61(companion object)","text":"<p>\u53ea\u4f1a\u521d\u59cb\u5316\u4e00\u6b21\uff0c\u53ef\u4ee5\u5229\u7528\u4ee3\u66ffjava\u4e2d\u7684\u9759\u6001\u5e38\u91cf\u3001\u9759\u6001\u65b9\u6cd5 <pre><code>companion object my {\nconst val NAME = \"\" // \u5e38\u91cf\nvar AGE = 2 // \u9759\u6001\u53d8\u91cf\nfun hello(){} // \u9759\u6001\u65b9\u6cd5\n}\n</code></pre> \u7f16\u8bd1\u540e\u4f1a\u751f\u6210\u4e00\u4e2a\u9759\u6001\u5185\u90e8\u7c7b\uff0cmy\u8868\u793a\u81ea\u5b9a\u4e49\u540d\u5b57(\u4e00\u822c\u4e0d\u5199)</p>"},{"location":"android/kotlin/kotlin_class/#_6","title":"\u5d4c\u5957\u7c7b(\u9759\u6001\u5185\u90e8\u7c7b)","text":"<p><pre><code>fun main() {\nA.B().b()\n}\n\nclass A {\nclass B {\nfun b() = println(\"b\")\n}\n}\n</code></pre> \u6ce8\uff1aB\u65e0\u6cd5\u8bbf\u95eeA\u4e2d\u7684\u5185\u5bb9</p> <p>\u539f\u56e0\uff1a\u7f16\u8bd1\u540e\u4f1a\u751f\u6210\u9759\u6001\u5185\u90e8\u7c7b\uff0c\u6240\u4ee5\u65e0\u6cd5\u8bbf\u95ee\u975e\u9759\u6001\u5185\u5bb9</p>"},{"location":"android/kotlin/kotlin_class/#inner-class","title":"\u5185\u90e8\u7c7b(inner class)","text":"<p><pre><code>fun main() {\nA().B().b()\n}\n\nclass A {\nval a = \"\"\ninner class B {\nfun b() = println(\"$a\")\n}\n}\n</code></pre> \u7f16\u8bd1\u540e\u5c31\u662fjava\u7684\u5185\u90e8\u7c7b</p>"},{"location":"android/kotlin/kotlin_class/#data-class","title":"\u6570\u636e\u7c7b(data class)","text":"<p>\u548c\u666e\u901a\u7c7b\u533a\u522b\uff1a</p> <p>\u666e\u901a\u7c7b\u7f16\u8bd1\u540e\u53ea\u4f1a\u751f\u6210get set\u65b9\u6cd5\u548c\u6784\u9020\u65b9\u6cd5</p> <p>\u6570\u636e\u7c7b\u989d\u5916\u4f1a\u751f\u6210equals\uff0chasCode\uff0ccopy\uff0ccomponent1(\u89e3\u6784)\uff0ctoString</p> <p>\u6ce8\uff1a\u6570\u636e\u7c7b\u751f\u6210\u65f6\u53ea\u751f\u6210\u4e3b\u6784\u9020\u7684\u5c5e\u6027\uff0c\u5ffd\u7565\u5176\u4ed6\u5c5e\u6027</p> <p>\u4f7f\u7528\u573a\u666f\uff1a 1.\u670d\u52a1\u5668\u8fd4\u56de\u54cd\u5e94\u7684bean\uff0c\u5fc5\u987b\u8981\u6709\u4e3b\u6784\u9020\u4e14\u53c2\u6570\u81f3\u5c11\u4e00\u4e2a\uff0c\u5fc5\u987b\u4f7f\u7528var\u6216val\u4fee\u9970\u53c2\u6570\uff0c\u4e0d\u80fd\u4f7f\u7528\u5176\u4ed6\u4fee\u9970\u7b26\u4fee\u9970\u7c7b\uff0c\u5982open\uff0cinner\u7b49</p> <p>2.\u9700\u8981\u7528\u5230toString\uff0ccopy\u7b49\u573a\u666f</p> <p>\u6ce8\uff1a\u9ed8\u8ba4\u751f\u6210\u7684hashcode\u548ctoStirng\u90fd\u662f\u6309\u7167\u6784\u9020\u51fd\u6570\u91cc\u7684\u53c2\u6570 <pre><code>data class MyClass(var id: String?) {\nvar name: String?= null\n}\n</code></pre> \u4ee5\u4e0a\u53ea\u4f1a\u6839\u636eid\u751f\u6210hashCode\u548ctoString</p>"},{"location":"android/kotlin/kotlin_class/#enum-class","title":"\u679a\u4e3e(enum class)","text":"<p>\u4e5f\u662fclass <pre><code>fun main() {\nprintln(Week.Monday) // Monday\nprintln(Week.Friday is Week) //true\n}\n\nenum class Week{\nMonday,\nTuesday,\nWednesday,\nThursday,\nFriday,\nSaturday,\nSunday\n}\n</code></pre> kt\u4e2d\u679a\u4e3e\u4e00\u822c\u7528\u6cd5 <pre><code>fun main() {\nClock.DATA_OLD.showClock()\nClock.DATA_NOW.showClock()\nClock.DATA_OLD.updateClock(SimpleClock(\"2000\", \"16:25\"))\nClock.DATA_NOW.updateClock(SimpleClock(\"2050\", \"17:58\"))\n}\n\nenum class Clock(var clock: SimpleClock) {\nDATA_OLD(SimpleClock(\"1990\", \"22:15\")),\nDATA_NOW(SimpleClock(\"2022\", \"12:28\"));\n\nfun updateClock(updateClock: SimpleClock) {\nthis.clock = updateClock\nshowClock()\n}\n\nfun showClock() {\nprintln(this.clock)\n}\n}\n\ndata class SimpleClock(var data: String, var time: String)\n</code></pre> \u5176\u4e2d\u5982DATA_OLD\u5c31\u662f\u679a\u4e3e\u672c\u8eab\uff0c\u8c03\u7528\u4e3b\u6784\u9020\u8d4b\u503c</p> <p>\u679a\u4e3e\u548cwhen\u7ed3\u5408\u662f\u53ef\u4ee5\u4e0d\u5199else\uff0c\u4f46\u9700\u8981\u7a77\u4e3e\u6240\u6709\u679a\u4e3e\u503c(kt1.6\u4ee5\u540e\u4f1a\u7f16\u8bd1\u4e0d\u901a\u8fc7) <pre><code>class WeekTest {\nfun switch(week: Week) =\nwhen (week) {\nWeek.Monday -&gt; \"Monday\"\nWeek.Tuesday -&gt; \"Tuesday\"\nWeek.Wednesday -&gt; \"Wednesday\"\nWeek.Thursday -&gt; \"Thursday\"\nWeek.Friday -&gt; \"Friday\"\nWeek.Saturday -&gt; \"Saturday\"\nWeek.Sunday -&gt; \"Sunday\"\n}\n}\nprintln(WeekTest().switch(Week.Monday))\n</code></pre></p>"},{"location":"android/kotlin/kotlin_class/#sealed-class","title":"\u5bc6\u5c01\u7c7b(sealed class)","text":"<p>\u5bc6\u5c01\u7c7b\u4f7f\u7528sealed\u4fee\u9970\uff0c\u4e3b\u8981\u7528\u6765\u89e3\u51b3\u4f7f\u7528when\u65f6\u4e0d\u5199else\uff0c\u5728when\u65f6\u53ef\u4f7f\u7528is\u5224\u65ad\uff0c\u5b9e\u73b0\u4e0a\u8ff0\u903b\u8f91 <pre><code>fun main() {\nprintln(WeekTest().switch(Week.Monday))\nprintln(WeekTest().switch(Week.Sunday(\"10:55\")))\n}\n\nclass WeekTest {\nfun switch(week: Week) =\nwhen (week) {\nis Week.Monday -&gt; \"Monday\"\nis Week.Tuesday -&gt; \"Tuesday\"\nis Week.Wednesday -&gt; \"Wednesday\"\nis Week.Thursday -&gt; \"Thursday\"\nis Week.Friday -&gt; \"Friday\"\nis Week.Saturday -&gt; \"Saturday\"\nis Week.Sunday -&gt; \"Sunday: ${week.time}\"\n}\n}\n\nsealed class Week {\nobject Monday: Week()//\u5355\u4f8b\uff0c\u5fc5\u987b\u7ee7\u627f\u672c\u7c7b\nobject Tuesday: Week()\nobject Wednesday: Week()\nobject Thursday: Week()\nobject Friday: Week()\nobject Saturday: Week()\nclass Sunday(val time: String): Week()//\u53ef\u4ee5\u975e\u5355\u4f8b\uff0c\u56e0\u4e3a\u6709\u53c2\u6570\n}\n</code></pre></p>"},{"location":"android/kotlin/kotlin_class/#_7","title":"\u62f7\u8d1d","text":""},{"location":"android/kotlin/kotlin_class/#_8","title":"\u6d45\u62f7\u8d1d","text":"<p>\u5373\u4e24\u4e2a\u5bf9\u8c61\u6307\u5411\u540c\u4e00\u5730\u5740\uff0c\u5f53\u5176\u4e2d\u67d0\u4e00\u4e2a\u5bf9\u8c61\u7684\u5c5e\u6027\u5185\u5bb9\u4fee\u6539\u540e\uff0c\u53e6\u4e00\u4e2a\u5bf9\u8c61\u4e5f\u540c\u6b65\u53d8\u5316\uff0c\u4e3e\u4f8b\uff1a</p> <p>1.java\u4e2dclone\u65b9\u6cd5\u548ckotlin\u4e2ddata\u6570\u636e\u7c7b\u7684copy\u90fd\u662f\u6d45\u62f7\u8d1d</p> <p>2.list\u6216\u5176\u4ed6\u96c6\u5408add\uff0caddAll\u6216\u6784\u9020\u65b9\u6cd5\u521d\u59cb\u5316\u90fd\u662f\u6d45\u62f7\u8d1d</p> <p>3.System.arraycopy()\u4e5f\u662f\u6d45\u62f7\u8d1d</p>"},{"location":"android/kotlin/kotlin_class/#_9","title":"\u6df1\u62f7\u8d1d","text":"<p>\u4e24\u4e2a\u5bf9\u8c61\u5730\u5740\u4e0d\u540c\u4e14\u6570\u636e\u53d8\u5316\u4e92\u4e0d\u5f71\u54cd\uff0c\u57fa\u672c\u6570\u636e\u7c7b\u578b\u548cString\u4e0d\u5728\u6df1\u62f7\u8d1d\u8003\u8651</p> <p>\u5b9e\u73b0\u601d\u8def\u5927\u81f4\u6709\u51e0\u79cd</p> <p>1.\u5982\u679c\u662f\u666e\u901aclass\uff0c\u5982\u679c\u662fjava\u91cd\u5199clone\uff0c\u5982\u679c\u662fkotlin\u9700\u8981\u7ee7\u627fCloneable\u518d\u91cd\u5199clone\uff0c\u5bf9\u5f15\u7528\u5c5e\u6027\u8fdb\u884c\u521b\u5efa\u5bf9\u8c61\u8d4b\u503c\uff0ckt\u4e3a\u4f8b <pre><code>class C(var d: D): Cloneable {\noverride fun clone(): Any {\nreturn C(D(d.age))\n}\n}\n\nclass D(var age: Int)\n</code></pre></p> <p>2.kt\u76f4\u63a5\u4f7f\u7528data class <pre><code>data class A(var name: String, var b: B)\ndata class B(var age: Int\uff09\n\nval a = A(\"3\", B(4))\na.copy(name = \"4\", b = B(5))\n</code></pre></p> <p>3.\u4f7f\u7528\u81ea\u5b9a\u4e49interface <pre><code>interface DeepCopyable&lt;out R&gt; {\nfun deepCopyFun(): R\n}\ndata class A(var name: String, var b: B) : DeepCopyable&lt;B&gt; {\noverride fun deepCopyFun(): B = B(b.age)\n}\ndata class B(var age: Int)\n</code></pre></p> <p>4.\u5982\u679c\u662f\u5e8f\u5217\u5316\u7c7b\uff0c\u53ef\u4ee5\u8fdb\u884c\u5e8f\u5217\u5316\u548c\u53cd\u5e8f\u5217\u5316\u8fdb\u884c\u62f7\u8d1d <pre><code>fun &lt;T : Any&gt; T.deepCopy(): T {\nval cls = this::class\nif (cls is Serializable || cls is Parcelable) {\nval byteArrayOutputStream = ByteArrayOutputStream()\nval outputStream = ObjectOutputStream(byteArrayOutputStream)\noutputStream.writeObject(this)\n\noutputStream.close()\nbyteArrayOutputStream.close()\n\nval byteArrayInputStream = ByteArrayInputStream(byteArrayOutputStream.toByteArray())\nval inputStream = ObjectInputStream(byteArrayInputStream)\nval copiedList = inputStream.readObject()\n\ninputStream.close()\nbyteArrayInputStream.close()\nreturn copiedList as T\n}\nreturn this\n}\n</code></pre></p> <p>5.kt\u5bf9\u4e8edata\u6216\u8005\u81ea\u5b9a\u4e49\u63a5\u53e3\u7684class\uff0c\u53ef\u4ee5\u4f7f\u7528\u53cd\u5c04+\u62d3\u5c55\u51fd\u6570</p> <p>\u4f9d\u8d56kotlin\u53cd\u5c04api <pre><code>implementation \"org.jetbrains.kotlin:kotlin-reflect:$kotlin_version\"\n</code></pre> <pre><code>fun &lt;T : Any&gt; T.deepCopy(): T {\nval cls = this::class\nif (cls.isData) {\nval dataClassCopyMethod = cls.java.declaredMethods.first { copyMethod -&gt;\ncopyMethod.name == \"copy\"\n}\nval params = cls.primaryConstructor?.parameters?.map { parameter -&gt;\nval value = (this::class as KClass&lt;T&gt;).memberProperties.first {\nit.name == parameter.name\n}.get(this)\n\nif (value is DeepCopyable&lt;*&gt;) {\nvalue.deepCopyFun()\n} else if (value != null &amp;&amp; value::class.isData) {\nvalue.deepCopy()\n} else {\nvalue\n}\n}?.toTypedArray()\nreturn if (params == null) {\ndataClassCopyMethod.invoke(this)\n} else {\ndataClassCopyMethod.invoke(this, *params)\n} as T\n}\nreturn this\n}\n</code></pre></p>"},{"location":"android/kotlin/kotlin_code/","title":"\u5b9e\u6218\u5e94\u7528","text":""},{"location":"android/kotlin/kotlin_code/#android","title":"Android\u5e94\u7528\u6848\u4f8b","text":""},{"location":"android/kotlin/kotlin_code/#lateinit","title":"lateinit\u5e94\u7528","text":"<pre><code>class MainActivity2 : AppCompatActivity() {\nprivate lateinit var fragment: Fragment\noverride fun onCreate(savedInstanceState: Bundle?) {\nsuper.onCreate(savedInstanceState)\nif (savedInstanceState == null) {\nsupportFragmentManager.findFragmentById(R.id.xxx)?.let { fragment = it\n}\n}\nif (!::fragment.isInitialized) {\nfragment = MyFragment()\n}\nsetContentView(R.layout.xxx)\nshowFragment(supportFragmentManager, fragment)\n}\n}\n</code></pre>"},{"location":"android/kotlin/kotlin_collection/","title":"\u96c6\u5408","text":""},{"location":"android/kotlin/kotlin_collection/#list","title":"list\u96c6\u5408","text":"<p>listOf\uff1a\u751f\u6210\u4e0d\u53ef\u53d8\u96c6\u5408 <pre><code>val list = listOf(\"a\", \"b\", \"c\")\n//println(list.get(3))//\u62a5\u4e0b\u6807\u8d8a\u754c\n//println(list[3]))//\u62a5\u4e0b\u6807\u8d8a\u754c\nprintln(list.getOrElse(3) { \"Nav\" })\nprintln(list.getOrNull(3) ?: \"Nav\")\n</code></pre> \u6ce8\uff1a[]\u662f\u8fd0\u7b97\u7b26\u91cd\u8f7d</p> <p>getOrElse\uff1a\u5982\u679c\u4e0b\u6807\u8d8a\u754c\u8fd4\u56delambda\u91cc\u81ea\u5b9a\u4e49\u5185\u5bb9\u80fd\u591f</p> <p>getOrNull\uff1a\u5982\u679c\u4e0b\u6807\u8d8a\u754c\u8fd4\u56denull\uff0c\u53ef\u7ed3\u5408\u7a7a\u5408\u5e76\u4f7f\u7528</p> <p>mutableListOf\uff1a\u751f\u6210\u53ef\u53d8\u96c6\u5408 <pre><code>val mutableList = mutableListOf(\"a\", \"b\", \"c\")\nmutableList.add(\"d\")\nmutableList.remove(\"b\")\nprintln(mutableList)\n</code></pre> \u76f8\u4e92\u8f6c\u5316 <pre><code>val mutableChangeToList: List&lt;String&gt; = mutableList.toList()\nval listChangeMutable: List&lt;String&gt; = list.toMutableList()\n</code></pre> \u6b64\u5904toList()\u548ctoMutableList()\u53ef\u7701\u7565</p> <p>\u64cd\u4f5c\u7b26\u91cd\u8f7d\u8fd0\u7528 <pre><code>val list = MutableList(5) { \"$it A\" }\nlist.add(1, \"a\")\nlist += \"c\"\nlist -= \"d\"\nlist.removeIf { it.contains(\"A\") }\nprintln(list)\n</code></pre> MutableList(5)\u63a7\u5236\u521d\u59cb\u5316\u4e2a\u6570\uff0c\u4e14\u8d4b\u9ed8\u8ba4\u503c</p> <p>+=\u5176\u5b9e\u5c31\u662fadd(\"c\")</p> <p>removeIf\uff1a\u79fb\u9664\u6ee1\u8db3\u6761\u4ef6\u7684\u9879</p>"},{"location":"android/kotlin/kotlin_collection/#_1","title":"\u904d\u5386","text":"<pre><code>for (s in list) {\nprint(s)\n}\nlist.forEach {\nprint(it)\n}\nlist.forEachIndexed { index, item -&gt;\nprint(\"$index,$item \")\n}\n</code></pre>"},{"location":"android/kotlin/kotlin_collection/#_2","title":"\u89e3\u6784\u4f53","text":"<p><pre><code>val list = listOf(\"a\", \"b\", \"c\")\nval (_, v2, v3) = list\nprintln(\"v2: $v2, v3: #v3\")\n</code></pre> \u5176\u4e2d_\u8868\u793a\u4e0d\u9700\u8981\u7b2c\u4e00\u4e2a\u5143\u7d20</p>"},{"location":"android/kotlin/kotlin_collection/#set","title":"set\u96c6\u5408","text":"<p><pre><code>val set = setOf(\"a\", \"b\", \"3\")\nset.elementAt(2)\nset.elementAtOrElse(2) { \"\" }\nset.elementAtOrNull(2)\n</code></pre> \u548clist\u4f7f\u7528\u7c7b\u4f3c\uff0c\u4f46\u6ca1\u6709[]\u8fd0\u7b97\u7b26\u91cd\u8f7d <pre><code>val set = mutableSetOf(\"a\", \"a\", \"b\", \"c\")\nset += \"d\"\nset -= \"f\"\n</code></pre> list\u96c6\u5408\u53bb\u91cd <pre><code>var list = listOf(\"a\", \"a\", \"b\", \"c\")\nlist = list.toSet().toList()\nlist = list.distinct()\n</code></pre> distinct\u6e90\u7801\u5c31\u662f\uff1atoMutableSet().toList()</p>"},{"location":"android/kotlin/kotlin_collection/#map","title":"map\u96c6\u5408","text":"<pre><code>var map = mapOf(1 to \"a\", 2 to \"b\", 3 to(\"c\"), Pair(4, \"d\"))\n\u83b7\u53d6\u503c\nprintln(map[3])\nprintln(map.get(3))\n//println(map.getValue(3))\u4f1a\u5d29\u6e83\nprintln(map.getOrDefault(5, \"e\"))\nprintln(map.getOrElse(4) { \"d\" })\n</code></pre>"},{"location":"android/kotlin/kotlin_collection/#_3","title":"\u904d\u5386","text":"<pre><code>val map = mapOf(1 to \"a\", 2 to \"b\", 3 to(\"c\"))\nfor (entry in map) {\nprintln(\"${entry.key} , ${entry.value}\")\n}\nmap.forEach { (key, value) -&gt;\nprintln(\"$key , $value\")\n}\nmap.forEach {\nprintln(\"${it.key} , ${it.value}\")\n}\n</code></pre>"},{"location":"android/kotlin/kotlin_collection/#_4","title":"\u8d4b\u503c","text":"<pre><code>val map = mutableMapOf(1 to \"a\", 2 to \"b\", 3 to (\"c\"))\nmap += 4 to \"d\"\nmap[5] = \"e\"\nmap.put(5, \"e\")//\u548c\u4e0a\u9762\u4e00\u79cd\u4e00\u6837\uff0c\u63a8\u8350\u4e0a\u9762\nmap.getOrPut(5) { \"w\" }//\u5982\u679c\u5b58\u5728\u5219\u83b7\u53d6\u539f\u6765\u7684\u503ce\nmap.getOrPut(6) { \"f\" }//\u5982\u679c\u4e0d\u5b58\u5728\u5219\u6dfb\u52a0\u5e76\u8fd4\u56de\u7ed3\u679cf\n</code></pre>"},{"location":"android/kotlin/kotlin_function/","title":"\u51fd\u6570","text":""},{"location":"android/kotlin/kotlin_function/#_1","title":"\u51fd\u6570\u7b80\u4ecb","text":"<p>\u9ed8\u8ba4\u662fpublic\uff0c\u53ef\u4ee5\u5199\u5728\u7c7b\u5916</p> <p>\u51fd\u6570\u53c2\u6570\u5141\u8bb8\u6709\u9ed8\u8ba4\u503c <pre><code>fun main() {\nmethod01(50)\n}\nfun method01(age: Int, name: String = \"xxx\") {\n}\n</code></pre> \u5177\u540d\u51fd\u6570\uff1a\u5141\u8bb8\u53c2\u6570\u987a\u5e8f\u4fee\u6539 <pre><code>fun main() {\nmethod02(name = \"xxx\", age = 25)\n}\nfun method02(age: Int, name: String) {\n\n}\n</code></pre> Unit\u662f\u65e0\u53c2\u8fd4\u56de\uff0c\u662f\u4e2a\u7c7b\uff0c\u53ef\u4ee5\u5ffd\u7565 <pre><code>fun method() {\nreturn println()\n}\nfun method1() : Unit {\nreturn println()\n}\n</code></pre> Nothing\u7c7b\u578b\uff1aTODO(\"xx\")</p> <p>\u548cjava\u4e0d\u540c\uff0c\u4f1a\u62a5\u5f02\u5e38\u53ef\u4ee5\u4f5c\u4e3a\u629b\u51fa\u5f02\u5e38\u6765\u5904\u7406 <pre><code>fun method(bool: Boolean) {\nif (bool) TODO(\"\u6709\u95ee\u9898\")\n}\n</code></pre> \u53cd\u5f15\u53f7 <pre><code>fun method() {\n//    Utils.in() \u62a5\u9519 in\u5728kotlin\u4e2d\u662f\u5173\u952e\u5b57\nUtils.`in`() //\u4f7f\u7528\u53cd\u5f15\u53f7\u89e3\u51b3\n}\n\njava\u7c7b\npublic class Utils {\npublic static final void in() {}\n}\n</code></pre></p>"},{"location":"android/kotlin/kotlin_function/#_2","title":"\u533f\u540d\u51fd\u6570","text":"<p><pre><code>val len = \"String\".count {\nit == 'r'\n}\n</code></pre> cout\u662f\u8fd4\u56de\u5b57\u7b26\u4e32\u7684\u4e2a\u6570{}\u90e8\u5206\u5c31\u662f\u533f\u540d\u51fd\u6570</p> <p>\u6ce8\uff1a\u53ea\u8981\u662f\u533f\u540d\u51fd\u6570\uff0c\u51fd\u6570\u7684\u6700\u540e\u4e00\u884c\u4e00\u822c\u5c31\u662f\u8fd4\u56de\u503c\uff0capply\u9664\u5916</p>"},{"location":"android/kotlin/kotlin_function/#_3","title":"\u51fd\u6570\u62c6\u89e3","text":"<p>1.\u58f0\u660e <pre><code>val method : () -&gt; String\n</code></pre> 2.\u5b9e\u73b0 <pre><code>method = {\n\"XXX\"//\u6700\u540e\u4e00\u884c\u662f\u8fd4\u56de\u503c \u4e0d\u80fd\u6709return\n}\n}\n</code></pre> 3.\u8c03\u7528 <pre><code>println(method())\nprintln(method.invoke())\n</code></pre> \u53ea\u6709\u5355\u4e2a\u8f93\u5165\u9ed8\u8ba4\u6709\u4e2ait(\u5173\u952e\u5b57)\u53c2\u6570\uff0c\u5982\u679c\u662f\u591a\u4e2a\u53c2\u6570 <pre><code>val method : (Int, Boolean) -&gt; String //\u5177\u4f53\u540d\u53ef\u7701\u7565\nmethod = {age, sex-&gt; //\u5177\u4f53\u7c7b\u578b\u53ef\u7701\u7565\n\"age: $age , sex: $sex\"\n}\nprintln(method.invoke(20, true))\n</code></pre> \u7b80\u5316\u51fd\u6570\u4e00\u6b65\u5230\u4f4d <pre><code>val method : (Int, Boolean) -&gt; String= {age, sex-&gt;\n\"age: $age , sex: $sex\"\n}\n</code></pre> \u4ee5\u4e0a\u51fd\u6570\u5f62\u5f0f\uff1a \u65b9\u6cd5\u540d\uff1a\u5165\u53c2\u7c7b\u578b -&gt; \u8fd4\u56de\u7c7b\u578b = \uff5b\uff5d</p> <p>\u53e6\u4e00\u79cd\u5f62\u5f0f\uff1a \u65b9\u6cd5\u540d = \uff5b\u5165\u53c2\u7c7b\u578b -&gt; \u6700\u540e\u4e00\u884c\u81ea\u52a8\u63a8\u65ad\u8fd4\u56de\u7c7b\u578b\uff5d</p> <p>\u5176\u4e2d\u8fd4\u56de\u7c7b\u578b\u4e3a\u81ea\u52a8\u63a8\u65ad\uff0c\u5982 <pre><code>val method = {age Int, sex Boolean -&gt;\n\"age: $age , sex: $sex\" //\u6b64\u65f6\u8fd4\u56de\u7c7b\u578b\u4e3aString\n}\n</code></pre> \u533f\u540d\u51fd\u6570 ==(\u7b49\u4ef7\uff0c\u5c5e\u4e8e) lambda\u8868\u8fbe\u5f0f</p> <p>\u51fd\u6570\u53c2\u6570\u4e5f\u662f\u51fd\u6570 <pre><code>fun main() {\n//\u8c03\u7528\u65b9\u5f0f\u4e00(\u4e0d\u63a8\u8350)\nmethod(4, \"me\", {\nprintln(it)//\u76f8\u5f53\u4e8e\u5b9e\u73b0\n}) //\u8c03\u7528\u65b9\u5f0f\u4e8c\nmethod(4, \"me\", method2 = {\nprintln(it)//\u76f8\u5f53\u4e8e\u5b9e\u73b0\n}) //\u6700\u7ec8\u65b9\u5f0f\nmethod(4, \"me\") {\nprintln(it)//\u76f8\u5f53\u4e8e\u5b9e\u73b0\n}\n}\n\nfun method(age: Int, name: String, method2: (Int) -&gt; Unit){//\u76f8\u5f53\u4e8e\u58f0\u660e\nif (age &gt; 2 &amp;&amp; name == \"me\") {\nmethod2(100)//\u76f8\u5f53\u4e8e\u8c03\u7528\n} else {\nmethod2(40)\n}\n}\n</code></pre> \u529f\u80fd\u548cjava\u63a5\u53e3\u56de\u8c03\u76f8\u540c</p>"},{"location":"android/kotlin/kotlin_function/#inline","title":"\u5185\u8054\u51fd\u6570inline","text":"<p>\u7531\u4e8e\u4e0a\u9762\u5b9e\u73b0\u5728\u7f16\u8bd1\u751f\u6210\u65f6\u4f1a\u51fa\u73b0Functionx\u5bf9\u8c61\u6765\u5b8c\u6210lambda\u7684\u8c03\u7528\uff0c\u5b58\u5728\u6027\u80fd\u635f\u8017</p> <p></p> <p>\u4f7f\u7528inline\u540e\u76f8\u5f53\u4e8ec++\u4e2d\u7684#define \u5b8f\u66ff\u6362\u5c06\u4ee3\u7801\u76f4\u63a5\u66ff\u6362\u5230\u8c03\u7528\u5904\uff0c\u539f\u51fd\u6570\u4f9d\u7136\u5b58\u5728\u6ca1\u88ab\u8c03\u7528</p> <p>\u6240\u4ee5\u4f7f\u7528\u573a\u666f\uff1a\u51fd\u6570\u5b58\u5728\u53c2\u6570\u662flambda(\u533f\u540d\u51fd\u6570)\u65f6</p> <p>\u603b\u7ed3\uff1a\u51fd\u6570\u5185\u5bb9\u76f4\u63d2\u5230\u8c03\u7528\u5904</p>"},{"location":"android/kotlin/kotlin_function/#noinline","title":"noinline","text":"<p>\u4f5c\u7528\u4e8e\u51fd\u6570\u53c2\u6570\uff0c\u4e0d\u8fdb\u884c\u4f18\u5316</p> <p>AS\u4f1a\u63d0\u793a\uff0c\u5982lambda\u4f5c\u4e3a\u5bf9\u8c61\u8fd4\u56de\u65f6</p> <p>\u603b\u7ed3\uff1a\u5c40\u90e8\u5173\u95ed\u4f18\u5316\uff0c\u89e3\u51b3\u4e0d\u80fd\u628a\u51fd\u6570\u7c7b\u578b\u7684\u53c2\u6570\u5f53\u5bf9\u8c61\u4f7f\u7528\u95ee\u9898</p>"},{"location":"android/kotlin/kotlin_function/#crossinline","title":"crossinline","text":"<p>\u8c03\u7528inline\u51fd\u6570\uff0c\u4e14\u5728lambda\u4f7f\u7528return\u65f6\uff0c\u4e5f\u7528\u5728\u53c2\u6570\u4e0a</p> <p>\u603b\u7ed3\uff1a\u5c40\u90e8\u52a0\u5f3a\uff0c\u8ba9\u5185\u8054\u51fd\u6570\u7684\u51fd\u6570\u7c7b\u578b\u53c2\u6570\u53ef\u4ee5\u88ab\u95f4\u63a5\u8c03\u7528\uff0c\u4e0d\u80fd\u5728lambda\u4f7f\u7528return</p>"},{"location":"android/kotlin/kotlin_function/#_4","title":"\u51fd\u6570\u5f15\u7528","text":"<p>method2\u662f\u51fd\u6570\u800clambda\u662f\u51fd\u6570\u7684\u7c7b\u578b\uff0c\u53ef\u4ee5\u5c06lambda\u6539\u6210\u65b9\u6cd5\u518d\u4f7f\u7528::\u5f15\u7528 <pre><code>fun main() {\nmethod(4, \"xx\", ::method2)\n}\n\nprivate fun method2(code: Int){\nprintln(code)\n}\n</code></pre> \u6ce8\uff1a\u6b64\u5904::method\u662f\u5177\u540d\u51fd\u6570</p>"},{"location":"android/kotlin/kotlin_function/#_5","title":"\u51fd\u6570\u8fd4\u56de\u51fd\u6570","text":"<p><pre><code>fun main() {\nprintln(method(\"\u6709\u6d88\u606f\")(\"\u5f20\u4e09\"))\n}\n\nprivate fun method(info: String): (name: String) -&gt; String {\nreturn {\n\"it: $it, info: $info\"\n}\n}\n</code></pre> \u8fd4\u56de\u7c7b\u578b\u662f(name: String) -&gt; String\u51fd\u6570\u7c7b\u578b\uff0c\u5373\u58f0\u660e</p> <p>\u5177\u4f53\u5b9e\u73b0\u662f {         \"it: $it, info: $info\"     }</p> <p>\u8c03\u7528\u662fmethod(\"\u6709\u6d88\u606f\")(\"\u5f20\u4e09\")\uff0c\u6b64\u5904\u5df2\u7f29\u5199 <pre><code>val m = method(\"\u6709\u6d88\u606f\")\nprintln(m(\"\u5f20\u4e09\"))\n</code></pre></p>"},{"location":"android/kotlin/kotlin_function/#_6","title":"\u5e38\u7528\u5185\u7f6e\u51fd\u6570","text":""},{"location":"android/kotlin/kotlin_function/#letapplyrun","title":"let\uff0capply\uff0crun\u533a\u522b","text":"<p>let\uff0crun\u8fd4\u56de\u503c\u53ef\u4ee5Any\uff0capply\u6c38\u8fdc\u8c03\u7528\u8005\u672c\u8eab</p> <p>let\u5185\u90e8\u6301\u6709it\uff0crun\u548capply\u5185\u90e8\u6301\u6709this</p> <p>run\u662flet\u548capply\u7ed3\u5408\u4f53\uff0c\u63a5\u8fd1let <pre><code>const val NAME: String = \"\u5f20\u4e09,\u674e\u56db,\u738b\u4e94\"\nfun main() {\nNAME.run(::isLong)\n.run(::showText)\n.run(::mapText)\n.run(::println)\nNAME.let(::isLong)\n.let(::showText)\n.let(::mapText)\n.let(::print)\n}\nfun isLong(str: String) = str.length &gt; 5\nfun showText(isLong: Boolean) = if (isLong) \"good\u5b57\u7b26\u4e32\" else \"bad\u5b57\u7b26\u4e32\"\nfun mapText(text: String) = \"\u3010$text\u3011\"\n</code></pre></p>"},{"location":"android/kotlin/kotlin_function/#with","title":"with","text":"<p>\u548crun\u529f\u80fd\u4e00\u6837\uff0c\u4f7f\u7528\u65b9\u5f0f\u4e0d\u540c</p> <p>with(with(with(with(NAME, ::isLong), ::showText), :: mapText), ::println)</p>"},{"location":"android/kotlin/kotlin_function/#also","title":"also","text":"<p>\u548capply\u7c7b\u4f3c\uff0c\u5185\u90e8\u6301\u6709it\uff0c\u8fd4\u56de\u6c38\u8fdc\u662f\u8c03\u7528\u8005\u672c\u8eab</p> <p>also\u4e5f\u662flet\u548capply\u7ed3\u5408\u4f53\uff0c\u63a5\u8fd1apply</p> <p>run\u548clet\uff1a\u533a\u522bthis\u548cit apply\u548calso\uff1a\u533a\u522bthis\u548cit with\u548crun\uff1a\u533a\u522b\u7ed3\u6784\uff0cwith\u5728\u975enull\u5bf9\u8c61\u65f6\u4f7f\u7528</p>"},{"location":"android/kotlin/kotlin_function/#takeif","title":"takeIf","text":"<p>\u5982\u679c\u662ftrue\u8fd4\u56de\u8c03\u7528\u8005\u672c\u8eab\uff0c\u5426\u5219\u8fd4\u56denull\uff0c\u53ef\u4ee5\u7ed3\u5408\u7a7a\u5408\u5e76\u5904\u7406\uff0c\u5982\u4e0b <pre><code>println(NAME.takeIf {\nisLong(it)\n} ?: \"\u540d\u5b57\u592a\u77ed\u4e86\")\n</code></pre></p>"},{"location":"android/kotlin/kotlin_function/#takeunless","title":"takeUnless","text":"<p>\u548ctakeIf\u76f8\u53cd</p>"},{"location":"android/kotlin/kotlin_op/","title":"\u64cd\u4f5c\u7b26\u4e0e\u5173\u952e\u5b57","text":"<p>\u5b98\u65b9\u6587\u6863</p>"},{"location":"android/kotlin/kotlin_op/#_1","title":"\u5e38\u7528\u64cd\u4f5c\u7b26","text":""},{"location":"android/kotlin/kotlin_op/#_2","title":"\uff1f","text":"<p>\u5982\u679c\u5bf9\u8c61\u662fnull\u5219\u4e0d\u6267\u884c\u540e\u7eed\u4ee3\u7801\uff0c\u5e38\u7ed3\u5408let\u4f7f\u7528\uff0c\u5982 <pre><code>var name: String? = null\nname?.length\nname?.let {\nit.length\n}\n</code></pre></p>"},{"location":"android/kotlin/kotlin_op/#_3","title":"!!","text":"<p>\u8868\u793a\u5f3a\u5236\u6267\u884c\uff0c\u5982\u679c\u662fnull\u5c31\u548cjava\u4e00\u6837\u62a5\u5f02\u5e38 <pre><code>var name: String? = null\nname!!.length\n</code></pre></p>"},{"location":"android/kotlin/kotlin_op/#_4","title":"?:","text":"<p>\u8868\u793a\u5982\u679cnull\u4e4b\u6267\u884c\u4ee3\u7801\uff0c\u7ed3\u679c\u8f93\u51faxxx\uff0c\u4e00\u822c\u53ef\u7528\u4e8e\u81ea\u5b9a\u4e49\u5f02\u5e38 <pre><code>var name: String? = null\nprintln(name?.length ?: \"xxx\")\n</code></pre></p>"},{"location":"android/kotlin/kotlin_op/#_5","title":"==\u548c===","text":"<p>==\u76f8\u5f53\u4e8ejava\u7684equals\uff0c\u6bd4\u8f83\u5185\u5bb9</p> <p>===\u76f8\u5f53\u4e8ejava\u7684==\uff0c\u6bd4\u8f83\u5f15\u7528\u503c</p>"},{"location":"android/kotlin/kotlin_op/#string","title":"String\u76f8\u5173","text":""},{"location":"android/kotlin/kotlin_op/#until","title":"until","text":"<p>\u7528\u6cd5\uff1a\u76f4\u5230\u54ea\u91cc\uff0c\u8f93\u51faHell <pre><code>const val NAME: String = \"Hello world!\"\nfun main() {\nprint(NAME.substring(0 until NAME.indexOf('o')))\n}\n</code></pre></p>"},{"location":"android/kotlin/kotlin_op/#splitc","title":"split\u548c\u89e3\u6784(c++\u4e2d\u7684\u7279\u70b9)","text":"<pre><code>const val NAME: String = \"\u5f20\u4e09,\u674e\u56db,\u738b\u4e94\"\nfun main() {\nval list = NAME.split(\",\")\nval (v1, v2, v3) = list\nprintln(\"v1: $v1, v2: $v2, v3: $v3\")\n}\n</code></pre>"},{"location":"android/kotlin/kotlin_op/#replace","title":"replace","text":"<p><pre><code>const val NAME: String = \"\u5f20\u4e09l,\u674e\u56dbl,\u738b\u4e94l\"\nprintln(NAME.replace(Regex(\"[l]\")) {\nwhen (it.value) {\n\"l\" -&gt; \"\"\nelse -&gt; \"x\"\n}\n})\n</code></pre> \u53bb\u9664l\u6548\u679c\uff0cRegex\u6b63\u5219\u7684\u4f7f\u7528</p>"},{"location":"android/kotlin/kotlin_op/#_6","title":"\u5e38\u7528\u5173\u952e\u5b57","text":""},{"location":"android/kotlin/kotlin_op/#lateinit","title":"lateinit","text":"<p>\u5ef6\u8fdf\u52a0\u8f7d\u5c5e\u6027\uff0c\u9700\u8981\u624b\u52a8\u52a0\u8f7d <pre><code>class MyClass {\nlateinit var name: String\n\nfun loadName() {\nname = \"wiki\"\n}\n\nfun showName() {\nif (::name.isInitialized) {\nprintln(\"name: $name\")\n} else {\nprintln(\"\u4f60\u8fd8\u6ca1\u53d6\u540d\u5462\")\n}\n}\n}\n</code></pre> \u4ee5\u4e0aname\u672a\u521d\u59cb\u5316\u524d\u662f\u4e0d\u80fd\u4f7f\u7528\uff0c\u5373\u4f7f\u5224\u7a7a\u4e5f\u4e0d\u884c\uff0c\u53ea\u80fd\u901a\u8fc7::name.isInitialized\u5224\u65ad</p> <p>\u5b9e\u6218\u6848\u4f8b</p>"},{"location":"android/kotlin/kotlin_op/#by","title":"by","text":"<p>\u59d4\u6258\u5173\u952e\u5b57 <pre><code>class MyClass {\nvar name: String by Delegate()\n}\nclass Delegate {\noperator fun getValue(thisRef: Any?, property: KProperty&lt;*&gt;): String {\nreturn \"\"\n}\n\noperator fun setValue(thisRef: Any?, property: KProperty&lt;*&gt;, value: String) {\n\n}\n}\n</code></pre> \u5b9e\u73b0\u5fc5\u8981\u56e0\u7d20\uff1aget/setValue\u65b9\u6cd5\u548coperator\u5173\u952e\u5b57</p> <p>\u6280\u5de7\uff1a\u76f4\u63a5\u5728Delegate\u4f7f\u7528Alt+Enter\u5feb\u901f\u91cd\u5199</p>"},{"location":"android/kotlin/kotlin_op/#by-lazy","title":"by lazy","text":"<p>\u60f0\u6027\u52a0\u8f7d\uff0c\u4f1a\u81ea\u52a8\u52a0\u8f7d <pre><code>fun main() {\nval p = MyClass()\nprintln(\"\u5148\u7761\u4f1a\u518d\u52a0\u8f7d\")\nThread.sleep(2000)\np.showName()\n}\nclass MyClass {\nprivate val name = loadName()\nprivate fun loadName(): String {\nprintln(\"loadName\")\nreturn \"wiki\"\n}\nfun showName() {\nprintln(\"name: $name\")\n}\n}\n</code></pre> \u6267\u884c\u7ed3\u679c\uff1a</p> <p>loadName</p> <p>\u5148\u7761\u4f1a\u518d\u52a0\u8f7d</p> <p>name: wiki</p> <p>\u671f\u671b\u7ed3\u679c\uff1a</p> <p>\u5148\u7761\u4f1a\u518d\u52a0\u8f7d</p> <p>loadName</p> <p>name: wiki</p> <p>\u4f7f\u7528by lazy\u6539\u9020\u540e\u5373\u53ef <pre><code>private val name by lazy {\nloadName()\n}\n</code></pre></p>"},{"location":"android/kotlin/kotlin_op/#by-delegatesobservable","title":"by Delegates.observable","text":"<p>\u53ef\u7528\u6765\u76d1\u542c\u5c5e\u6027\u53d8\u5316 <pre><code>fun main() {\nMyClass().name = \"new\"\n}\nclass MyClass {\nvar name: String by Delegates.observable(\"old\"){property, oldValue, newValue -&gt;\nprintln(\"property: ${property.name} from $oldValue to $newValue\")\n}\n}\n</code></pre></p>"},{"location":"android/kotlin/kotlin_op/#by-map","title":"by map","text":"<pre><code>fun main() {\nval delegate = MyClass(hashMapOf(\"age\" to 5, \"name\" to \"fff\"))\nprintln(delegate.age)\nprintln(delegate.name)\n}\nclass MyClass(map: HashMap&lt;String, Any&gt;) {\nval name: String by map\nval age: Int by map\n}\n</code></pre>"},{"location":"android/kotlin/kotlin_op/#by_1","title":"by\u7c7b(\u59d4\u6258\u7c7b)","text":"<p><pre><code>fun main() {\nDelegateB(B()).jump()\n}\n\ninterface A {\nfun jump()\n}\n\nclass B : A {\noverride fun jump() {\nprintln(\"jump\")\n}\n}\n\nclass DelegateB(private val b: B): A {\noverride fun jump() {\nb.jump()\n}\n}\n</code></pre> \u7b80\u5316 <pre><code>class DelegateB(private val b: B): A by b\n</code></pre></p>"},{"location":"android/kotlin/kotlin_op/#vararg","title":"vararg\u5173\u952e\u5b57","text":"<p>\u8868\u793a\u591a\u4e2a\u53c2\u6570 <pre><code>class MyClass&lt;T&gt;(vararg objects: T) {\n//out\u8868\u793aT\u662f\u53ea\u8bfb\nprivate val list: Array&lt;out T&gt; = objects\n\nfun showObj(index: Int): T? = list[index].takeIf { true }\n}\n</code></pre></p>"},{"location":"android/kotlin/kotlin_op/#inout","title":"in\u548cout","text":"<p>in\u8868\u793a\u9006\u53d8\uff0c\u6cdb\u578b\u80fd\u88ab\u4fee\u6539\uff0c\u4e0d\u80fd\u8bfb\u53d6\uff0c\u529f\u80fd\u5305\u542bjava\u4e2d\u7684? super T <pre><code>interface B&lt;in T&gt; {\nfun getT(): T //\u62a5\u9519\nfun setT(item: T)\n}\nvar string: ArrayList&lt;in String&gt; = ArrayList&lt;CharSequence&gt;()\n</code></pre> out\u8868\u793a\u534f\u53d8\uff0c\u6cdb\u578b\u4e0d\u80fd\u88ab\u4fee\u6539\uff0c\u80fd\u8bfb\u53d6\uff0c\u529f\u80fd\u5305\u542bjava\u4e2d\u7684? extends T <pre><code>interface A&lt;out T&gt; {\nfun getT(): T\nfun setT(item: T) //\u62a5\u9519\n}\nvar charSequence: ArrayList&lt;out CharSequence&gt; = ArrayList&lt;String&gt;()\n</code></pre> \u9ed8\u8ba4\u80fd\u8bfb\u53d6\u548c\u4fee\u6539 <pre><code>interface C&lt;T&gt; {\nfun getT(): T\nfun setT(item: T)\n}\n</code></pre></p>"},{"location":"android/kotlin/kotlin_op/#reified","title":"reified","text":"<p>\u5728\u4f7f\u7528\u6cdb\u578b\u7c7b\u578b\u5224\u65ad\u65f6\u4f7f\u7528\uff0c\u5982it is T\uff0c\u4f7f\u7528\u65f6\u9700\u8981\u7ed3\u5408inline <pre><code>fun main() {\nprintln(MyClass().randomObj { A(\"A\") })\n}\n\ndata class A(val name: String)\ndata class B(val name: String)\nclass MyClass {\ninline fun &lt;reified T&gt; randomObj(defaultObj: () -&gt; T): T? {\nval list = listOf(A(\"a\"), B(\"b\"))\nval random = list.shuffled().first()\nprintln(\"\u968f\u673a\u5bf9\u8c61\uff1a$random\")\nreturn random.takeIf { it is T } as T? ?: defaultObj()\n}\n}\n</code></pre> \u6848\u4f8b\u8bbe\u5b9aT\u5c31\u662fA\u7c7b\u578b\uff0c\u8fd4\u56deT?\u539f\u56e0\u662f\u5f53\u968f\u673a\u5bf9\u8c61\u662fB\u7c7b\u578b\u65f6\uff0ctakeIf\u8fd4\u56denull\u65e0\u6cd5\u8f6c\u6210T</p>"},{"location":"android/kotlin/kotlin_op/#_7","title":"\u8fd0\u7b97\u7b26\u91cd\u8f7d","text":"<p><pre><code>fun main() {\nprintln(A(\"name:\") + A(\"Andy\"))\n}\n\nclass A(var name: String) {\noperator fun plus(a1: A): String {\nreturn \"$name ${a1.name}\"\n}\n}\n</code></pre> \u4f7f\u7528operator\u5173\u952e\u5b57\uff0cplus\u662f\u53ef\u4ee5\u901a\u8fc7\u5feb\u6377\u952e(Ctrl+\u7a7a\u683c)\u63d0\u793a\u51fa\u5bf9\u5e94\u5173\u7cfb</p> <p></p>"},{"location":"android/kotlin/kotlin_principle/","title":"\u539f\u7406","text":""},{"location":"android/kotlin/kotlin_principle/#by-lazy","title":"by lazy","text":"<p>\u59d4\u6258\u7684\u5fc5\u8981\u6761\u4ef6\u662f\u6709get/setValue\u51fd\u6570\u4ee5\u53caoperator <pre><code>public interface Lazy&lt;out T&gt; {\npublic val value: T\n\npublic fun isInitialized(): Boolean\n}\n\npublic actual fun &lt;T&gt; lazy(initializer: () -&gt; T): Lazy&lt;T&gt; = SynchronizedLazyImpl(initializer)\n</code></pre></p> <p>\u65e0\u8bba\u662fLazy\u8fd8\u662fSynchronizedLazyImpl\u90fd\u6ca1\u6709\u770b\u5230get/setValue\u51fd\u6570\u4ee5\u53caoperator</p> <p>\u771f\u6b63\u5b9e\u73b0\u5728\u62d3\u5c55\u51fd\u6570\u4e2d <pre><code>public inline operator fun &lt;T&gt; Lazy&lt;T&gt;.getValue(thisRef: Any?, property: KProperty&lt;*&gt;): T = value\n</code></pre> lazy\u8fd8\u6709\u4e00\u4e2a\u91cd\u8f7d\u51fd\u6570 <pre><code>public actual fun &lt;T&gt; lazy(mode: LazyThreadSafetyMode, initializer: () -&gt; T): Lazy&lt;T&gt; =\nwhen (mode) {\nLazyThreadSafetyMode.SYNCHRONIZED -&gt; SynchronizedLazyImpl(initializer)\nLazyThreadSafetyMode.PUBLICATION -&gt; SafePublicationLazyImpl(initializer)\nLazyThreadSafetyMode.NONE -&gt; UnsafeLazyImpl(initializer)\n}\n</code></pre> \u5176\u4e2dSynchronizedLazyImpl\u4f7f\u7528synchronized+\u53cc\u91cd\u6821\u9a8c\u4fdd\u8bc1\u7ebf\u7a0b\u5b89\u5168\uff0c\u4ee3\u7801\u5757\u53ea\u4f1a\u8c03\u75281\u6b21</p> <p>SafePublicationLazyImpl\u662f\u4f7f\u7528CS\u64cd\u4f5c\u4fdd\u8bc1\u7ebf\u7a0b\u5b89\u5168\uff0c\u53ef\u80fd\u4f1a\u8c03\u7528\u591a\u6b21\u4ee3\u7801\u5757\uff0c\u4f46\u6570\u503c\u53ea\u53d6\u7b2c\u4e00\u6b21</p> <p>LazyThreadSafetyMode\u4e0d\u4fdd\u8bc1\u7ebf\u7a0b\u5b89\u5168</p>"},{"location":"android/kotlin/kotlin_principle/#_1","title":"\u679a\u4e3e","text":"<p>\u679a\u4e3e\u53ea\u80fd\u7ee7\u627f\u63a5\u53e3\u4e0d\u80fd\u7ee7\u627f\u7c7b\u7684\u539f\u56e0</p> <p>\u901a\u8fc7\u53cd\u7f16\u8bd1\u53ef\u4ee5\u770b\u5230\u679a\u4e3e\u5176\u5b9e\u662f\u4e2aClass\u7ee7\u627f\u4e8ejava/lang/Enum\uff0c\u800c\u5bf9\u4e8ejava\u6765\u8bf4\u662f\u5355\u7ee7\u627f\u89c4\u5219</p> <p>\u4f18\u5316\u70b9\uff1a</p> <p>1.\u679a\u4e3e\u6709\u4e24\u4e2a\u5c5e\u6027name\u548cordinal\uff0c\u5176\u4e2dordinal\u4e00\u822c\u5f00\u53d1\u8005\u4f7f\u7528\u4e0d\u5230\uff0c\u5f53\u9700\u8981\u4f7f\u7528\u5230\u679a\u4e3e\u7684\u6570\u503c\u65f6\uff0c\u5efa\u8bae\u624b\u52a8\u6dfb\u52a0\u5b57\u6bb5\u53bb\u8bb0\u5f55</p> <p>2.\u5f53\u679a\u4e3e\u9700\u8981\u4f7f\u7528\u6570\u503c\u5173\u8054\u65f6\uff0c\u4f7f\u7528EnumMap\u548cEnumSet</p>"},{"location":"linux/deepin_install/","title":"deepin","text":""},{"location":"linux/deepin_install/#_1","title":"\u5b98\u7f51","text":"<p>https://www.deepin.org/index/zh</p>"},{"location":"linux/deepin_install/#_2","title":"\u5b89\u88c5\u6559\u7a0b","text":"<p>https://www.deepin.org/zh/installation/</p>"},{"location":"linux/deepin_install/#bcm4352","title":"\u535a\u901a\u65e0\u7ebf\u82af\u7247bcm4352\u89e3\u51b3\u65e0\u7ebf\u65ad\u5f00\u641c\u7d22\u4e0d\u5230\u4fe1\u53f7","text":"<p>1.\u5378\u8f7d <pre><code>sudo apt autopurge bcmwl-kernel-source\nsudo apt autoremove bcmwl-kernel-source\n</code></pre> \u5728https://packages.debian.org/search\u4e2d\u641c\u7d22broadcom-sta</p> <p>buster-backports\u7248\u672c\u4e2d\u4e0b\u8f7d\u5bf9\u5e94\u7684\u4e09\u4e2a\u8f6f\u4ef6\u5305\uff1a</p> <p>broadcom-sta-common\u3001broadcom-sta-dkms\u3001broadcom-sta-source\u8fdb\u884c\u5b89\u88c5</p> <p>\u53ef\u80fd\u9047\u5230\u4f9d\u8d56\u51b2\u7a81 <pre><code>sudo aptitude install -f\n</code></pre> \u9009\u62e9\u67d0\u4e2a\u89e3\u51b3\u65b9\u6848\u540e\u91cd\u65b0\u5b89\u88c5\u4e0a\u9762\u7684\u8f6f\u4ef6</p>"},{"location":"linux/linux_command/","title":"\u5e38\u7528\u547d\u4ee4","text":""},{"location":"linux/linux_command/#ip","title":"\u67e5\u770b\u672c\u5730ip","text":"<pre><code>ifconfig\n</code></pre>"},{"location":"linux/linux_command/#_1","title":"\u6587\u4ef6\u5939\u53bb\u9664\u5c0f\u9501","text":"<pre><code>sudo chmod -R 777 \u8def\u5f84(\u6587\u4ef6\u5939\u6216\u6587\u4ef6)\n</code></pre>"},{"location":"linux/linux_command/#_2","title":"\u663e\u793a\u9690\u85cf\u6587\u4ef6","text":"<pre><code>ctrl+H\n</code></pre>"},{"location":"linux/linux_command/#_3","title":"\u67e5\u770b\u5185\u6838\u7248\u672c","text":"<pre><code>uname -a\n\u53ef\u4ee5\u533a\u5206\u662fx68,x86_64,arm64\u7b49\n</code></pre>"},{"location":"linux/linux_command/#_4","title":"\u5378\u8f7d\u65e7\u7248\u672c\u5185\u6838","text":"<p><pre><code>sudo apt-get remove linux-image- \u63a5\u7740\u6309\u4e24\u4e0btab\u952e\n</code></pre> \u5378\u8f7d\u5b8c\u540e\u6267\u884c <pre><code>sudo update-grub\n</code></pre></p>"},{"location":"linux/linux_command/#_5","title":"\u67e5\u770b\u5206\u533a\u5360\u7528\u60c5\u51b5","text":"<pre><code>df -h\n</code></pre>"},{"location":"linux/linux_command/#_6","title":"\u6740\u6b7b\u8fdb\u7a0b","text":"<p>\u4ee5\u6587\u4ef6\u7ba1\u7406\u5668nautilus\u4e3a\u4f8b \u65b9\u5f0f\u4e00\uff1a <pre><code>killall nautilus\n</code></pre> \u65b9\u5f0f\u4e8c\uff1a <pre><code>ps -A | grep nautilus\u5f97\u5230pid\nsudo kill pid\n</code></pre></p>"},{"location":"linux/linux_command/#as","title":"as\u672a\u54cd\u5e94","text":"<pre><code>pkill java\n</code></pre>"},{"location":"linux/linux_command/#vi","title":"vi\u4f7f\u7528","text":"<pre><code>\u63d2\u5165 \u6309insert\n\u4fdd\u5b58\u5e76\u9000\u51fa \u5148\u6309esc \u518d\u6309 : \u8f93\u5165wq\n\u67e5\u627e\uff1a/\u5185\u5bb9 \u6309n\u641c\u7d22\u4e0b\u4e00\u4e2a N\u4e0a\u4e00\u4e2a\n\u7f16\u8f91\uff1aa\n\u663e\u793a\u884c\u53f7\uff1aset nu \u4e0d\u663e\u793aset nonu\n</code></pre>"},{"location":"linux/linux_command/#filezillaftp","title":"\u5b89\u88c5filezilla\u7528\u4e8e\u7ba1\u7406ftp","text":"<pre><code>sudo apt-get install filezilla\n</code></pre>"},{"location":"linux/linux_command/#_7","title":"\u547d\u4ee4\u5b89\u88c5","text":"<p>1)apt-get</p> <p>sudo apt-get install package \u5b89\u88c5\u5305 sudo apt-get install package - - reinstall \u91cd\u65b0\u5b89\u88c5\u5305 sudo apt-get -f install \u4fee\u590d\u5b89\u88c5\"-f = \u2014\u2014fix-missing\" sudo apt-get remove package \u5220\u9664\u5305 sudo apt-get remove package - - purge \u5220\u9664\u5305\uff0c\u5305\u62ec\u5220\u9664\u914d\u7f6e\u6587\u4ef6\u7b49 sudo apt-get autoremove package  \u5220\u9664\u5305\u53ca\u5176\u4f9d\u8d56\u7684\u8f6f\u4ef6\u5305 sudo apt-get update \u66f4\u65b0\u6e90 sudo apt-get upgrade \u66f4\u65b0\u5df2\u5b89\u88c5\u7684\u5305 sudo apt-get dist-upgrade \u5347\u7ea7\u7cfb\u7edf sudo apt-get dselect-upgrade \u4f7f\u7528 dselect \u5347\u7ea7 sudo apt-get build-dep package \u5b89\u88c5\u76f8\u5173\u7684\u7f16\u8bd1\u73af\u5883 sudo apt-get source package \u4e0b\u8f7d\u8be5\u5305\u7684\u6e90\u4ee3\u7801 sudo apt-get clean &amp;&amp; sudo apt-get autoclean \u6e05\u7406\u65e0\u7528\u7684\u5305 sudo apt-get check \u68c0\u67e5\u662f\u5426\u6709\u635f\u574f\u7684\u4f9d\u8d56</p> <p>2)dpkg</p> <p>dpkg \u2013l | grep package \u67e5\u8be2deb\u5305\u7684\u8be6\u7ec6\u4fe1\u606f\uff0c\u6ca1\u6709\u6307\u5b9a\u5305\u5219\u663e\u793a\u5168\u90e8\u5df2\u5b89\u88c5\u5305,\u5176\u4e2d-l\u7b49\u4ef7\u4e8e--list dpkg -s package \u67e5\u770b\u5df2\u7ecf\u5b89\u88c5\u7684\u6307\u5b9a\u8f6f\u4ef6\u5305\u7684\u8be6\u7ec6\u4fe1\u606f\uff0c\u5176\u4e2d-s\u7b49\u4ef7\u4e8e--status dpkg -L package \u5217\u51fa\u4e00\u4e2a\u5305\u5b89\u88c5\u7684\u6240\u6709\u6587\u4ef6\u6e05\u5355\uff0c\u5176\u4e2d-L\u7b49\u4ef7\u4e8e--listfiles dpkg -S file \u67e5\u770b\u7cfb\u7edf\u4e2d\u7684\u67d0\u4e2a\u6587\u4ef6\u5c5e\u4e8e\u54ea\u4e2a\u8f6f\u4ef6\u5305 dpkg -i \u6240\u6709deb\u6587\u4ef6\u7684\u5b89\u88c5,\u5176\u4e2d-i\u7b49\u4ef7\u4e8e--install dpkg -r \u6240\u6709deb\u6587\u4ef6\u7684\u5378\u8f7d\uff0c\u5176\u4e2d-r\u7b49\u4ef7\u4e8e--remove dpkg -P \u5f7b\u5e95\u7684\u5378\u8f7d\uff0c\u5305\u62ec\u8f6f\u4ef6\u7684\u914d\u7f6e\u6587\u4ef6 dpkg -c \u67e5\u8be2deb\u5305\u6587\u4ef6\u4e2d\u6240\u5305\u542b\u7684\u6587\u4ef6,\u5176\u4e2d-c\u7b49\u4ef7\u4e8e--contents dpkg -L \u67e5\u770b\u7cfb\u7edf\u4e2d\u5b89\u88c5\u5305\u7684\u7684\u8be6\u7ec6\u6e05\u5355\uff0c\u540c\u65f6\u6267\u884c -c  sudo dpkg -I iptux.deb#\u67e5\u770biptux.deb\u8f6f\u4ef6\u5305\u7684\u8be6\u7ec6\u4fe1\u606f\uff0c\u5305\u62ec\u8f6f\u4ef6\u540d\u79f0\u3001\u7248\u672c\u4ee5\u53ca\u5927\u5c0f\u7b49\uff08\u5176\u4e2d-I\u7b49\u4ef7\u4e8e--info\uff09 \u6ce8\uff1adpkg\u547d\u4ee4\u65e0\u6cd5\u81ea\u52a8\u89e3\u51b3\u4f9d\u8d56\u5173\u7cfb\u3002\u5982\u679c\u5b89\u88c5\u7684deb\u5305\u5b58\u5728\u4f9d\u8d56\u5305\uff0c\u5219\u5e94\u907f\u514d\u4f7f\u7528\u6b64\u547d\u4ee4\uff0c\u6216\u8005\u6309\u7167\u4f9d\u8d56\u5173\u7cfb\u987a\u5e8f\u5b89\u88c5\u4f9d\u8d56\u5305\u3002</p>"},{"location":"linux/linux_command/#_8","title":"\u66f4\u65b0\u76f8\u5173","text":"<pre><code>sudo apt-get update\nsudo apt-get autoremove\nsudo apt-get upgrade\n</code></pre>"},{"location":"linux/linux_command/#_9","title":"\u641c\u7d22\u547d\u4ee4","text":"<p>grep\uff1a <pre><code>grep \u5185\u5bb9 ./ -R\n</code></pre> find: <pre><code>find . -name \"xxx\"\u5728\u5f53\u524d\u76ee\u5f55\u53ca\u5b50\u76ee\u5f55\u4e0b\u67e5\u8be2\u53ef\u4ee5\u7528or\u8fde\u63a5\nfind . -name \"xxx\" or -name \"xxx\"\nfind . -regex \"xxx\"\u4f7f\u7528\u6b63\u5219\u8868\u8fbe\u5f0f\nfind . -iregex \"xxx\"\u5ffd\u7565\u5927\u5c0f\u5199\nfind . -name \"*\" -type f | xargs grep \"xxx\"\n</code></pre></p>"},{"location":"linux/linux_command/#_10","title":"\u914d\u7f6e\u542f\u52a8\u6302\u8f7d","text":"<p>\u4f4d\u7f6e\uff1a/etc/fstab</p> <p>\u67e5\u770buuid\uff1a <pre><code>sudo blkid\n</code></pre></p>"},{"location":"linux/linux_command/#_11","title":"\u67e5\u770b\u6587\u4ef6\u5939\u5927\u5c0f","text":"<pre><code>du -h --max-depth=1 \u76ee\u5f55 --max-depth=1\u9650\u5236\u76ee\u5f55\u5c42\u6570\n</code></pre>"},{"location":"linux/linux_command/#_12","title":"\u7ec8\u7aef\u6e05\u5c4f","text":"<pre><code>clear\u6216reset\n</code></pre>"},{"location":"linux/linux_command/#pid","title":"\u67e5\u770bpid","text":"<p>\u9664\u4e86\u4f7f\u7528ps\uff0c\u8fd8\u53ef\u4ee5\u4f7f\u7528lsof</p> <p>\u5982\u65e0\u6cd5\u5220\u9664.fuse_hiddenxxx <pre><code>lsof .fuse_hiddenxxx\n</code></pre> \u67e5\u770b\u8fdb\u7a0b\u6240\u6709\u8005\u7684PID <pre><code>kill -9 pid\u6216\u8005\u76f4\u63a5\u8fdb\u4efb\u52a1\u7ba1\u7406\u5668\u6740\u6b7b\u8fdb\u7a0b\n</code></pre></p>"},{"location":"linux/linux_software/","title":"\u5e38\u89c1\u8f6f\u4ef6","text":"<p>\u661f\u706b\u5546\u5e97\uff1ahttps://spark-app.store/</p> <p>QQ\uff1ahttps://im.qq.com/linuxqq/index.shtml</p> <p>\u641c\u72d7\u8f93\u5165\u6cd5\uff1ahttps://shurufa.sogou.com/</p>"},{"location":"linux/ubuntu_install/","title":"ubuntu","text":""},{"location":"linux/ubuntu_install/#windows11ubuntu","title":"Windows11\u5b89\u88c5Ubuntu\u53cc\u7cfb\u7edf","text":""},{"location":"linux/ubuntu_install/#ubuntuiso","title":"\u4e0b\u8f7dUbuntu\u955c\u50cfiso\u6587\u4ef6","text":"<ul> <li>\u5b98\u7f51\uff1a https://ubuntu.com/download/desktop</li> <li>\u963f\u91cc\uff1a https://developer.aliyun.com/mirror/?spm=a2c6h.25603864.0.0.94936c65ILrxWy</li> <li>\u6e05\u534e\uff1a https://mirrors.tuna.tsinghua.edu.cn/</li> </ul>"},{"location":"linux/ubuntu_install/#u","title":"U\u76d8\u542f\u52a8\u5236\u4f5c\u5de5\u5177","text":"<p>\u5b98\u7f51\u63a8\u8350https://rufus.ie/</p> <p>\u8fd0\u884c rufus-3.10.exe\uff0c\u6309\u7167\u4e0b\u56fe\u9009\u62e9\uff0c\u70b9\u51fb\u5f00\u59cb\u2013OK\u2013\u786e\u5b9a\uff0c\u7b49\u5f85\u8fdb\u5ea6\u6761\u8d70\u5b8c\u2013\u5173\u95ed</p> <p> </p>"},{"location":"linux/ubuntu_install/#u_1","title":"U\u76d8\u542f\u52a8\u5b89\u88c5\u7cfb\u7edf","text":"<p>\u6309\u7167\u63d0\u793a</p>"},{"location":"linux/ubuntu_install/#_1","title":"\u53cc\u7cfb\u7edf\u5f15\u5bfc\u754c\u9762\u7f8e\u5316+\u4fee\u6539\u9ed8\u8ba4\u542f\u52a8\u9879","text":"<p>\u4e3b\u9898\u4e0b\u8f7d\u5730\u5740\uff1ahttps://www.gnome-look.org/p/1009236/</p> <p>\u767e\u5ea6\u7f51\u76d8\u94fe\u63a5\uff1ahttps://pan.baidu.com/s/1-mOl3_mHZZVh_PVMq9oQ1w \u63d0\u53d6\u7801\uff1a2pbn</p> <p>\u542f\u52a8Ubuntu\u7cfb\u7edf\u8fdb\u884c\u64cd\u4f5c <pre><code>\u89e3\u538b\ntar xvJf Vimix-1080p.tar.xz\n\u8fdb\u5165\u89e3\u538b\u540e\u7684\u6587\u4ef6\u5939\ncd Vimix-1080p\n\u5b89\u88c5\nsudo ./install.sh\n\u4fee\u6539\u542f\u52a8\u8bbe\u7f6e\nsudo gedit /etc/default/grub\n</code></pre> GRUB_DEFAULT\uff08\u9ed8\u8ba4\u542f\u52a8\u9879\uff1a\u7f16\u53f7\u662f\u4ece0\u5f00\u59cb\u7684\uff09</p> <p>GRUB_TIMEOUT_STYLE\uff08\u662f\u5426\u663e\u793a\u5012\u8ba1\u65f6\uff0chidden\u7684\u5c5e\u6027\u8868\u793a\u4e0d\u4f1a\u663e\u793a\u5012\u8ba1\u65f6\uff0c\u6ce8\u91ca\u6389\u8be5\u884c\u5219\u663e\u793a\u5012\u8ba1\u65f6\uff09</p> <p>GRUB_TIMEOUT\uff08\u7b49\u5f85\u65f6\u95f4\uff0c\u5355\u4f4d\u662f\u79d2\uff09 \u6309\u81ea\u8eab\u9700\u6c42\u66f4\u6539\u540e\uff0c\u4fdd\u5b58\u5373\u53ef</p> <p>\u5728\u547d\u4ee4\u884c\u8f93\u5165 <pre><code>sudo update-grub\n</code></pre> \u91cd\u542f\u751f\u6548</p>"},{"location":"linux/ubuntu_install/#_2","title":"\u89e3\u51b3\u53cc\u7cfb\u7edf\u4e0b\u65f6\u95f4\u4e0d\u540c\u6b65\u95ee\u9898","text":"<p>\u8fdb\u5165Ubuntu\u7cfb\u7edf\u6267\u884c\u4ee5\u4e0b\u547d\u4ee4 <pre><code>sudo apt-get install ntpdate //\u5728Ubuntu\u4e0b\u66f4\u65b0\u672c\u5730\u65f6\u95f4\nsudo ntpdate time.windows.com\nsudo hwclock --localtime --systohc //\u5c06\u672c\u5730\u65f6\u95f4\u66f4\u65b0\u5230\u786c\u4ef6\u4e0a\n</code></pre> \u7136\u540e\u91cd\u542f\u8fdb\u5165Windows\uff0c\u521d\u6b21\u91cd\u542f\u53ef\u80fd\u65f6\u95f4\u4f9d\u7136\u4e0d\u540c\uff0c\u4f46\u662f\u5728Windows\u81ea\u52a8\u8c03\u6574\u4e00\u904d\u540e\uff0c\u65f6\u95f4\u5c31\u540c\u6b65\u4e86\u3002</p>"},{"location":"linux/ubuntu_install/#vi","title":"vi\u7f16\u8f91\u5668\u952e\u76d8\u9519\u4e71\u7684\u95ee\u9898","text":"<p>\u5b89\u88c5vim full\u7248\u672c \u9996\u5148\uff0c\u8981\u5148\u5378\u6389\u65e7\u7248\u7684vi\uff0c\u8f93\u5165\u4ee5\u4e0b\u547d\u4ee4\uff1a <pre><code>sudo apt-get remove vim-common\nsudo apt-get install vim\n</code></pre></p>"},{"location":"mac/mac_install/","title":"\u9ed1\u82f9\u679c","text":""},{"location":"mac/mac_install/#_1","title":"\u865a\u62df\u673a\u5f62\u5f0f","text":"<p>\u865a\u62df\u673a\u5b89\u88c5</p>"},{"location":"mac/mac_install/#_2","title":"\u9ed1\u82f9\u679c\u5f62\u5f0f","text":""},{"location":"mac/mac_install/#1","title":"1.\u5b89\u88c5","text":"<p>\u89c1\u9ed1\u82f9\u679c\u5b89\u88c5</p>"},{"location":"mac/mac_install/#2","title":"2.\u9a71\u52a8\u4fee\u590d","text":""},{"location":"mac/mac_install/#1_1","title":"1.\u4fee\u590d\u4eae\u5ea6\u4e4b\u6838\u663e\u6559\u7a0b","text":"<p>1.\u5220\u9664\u4e07\u80fd\u9a71\u52a8 /EFI/CLOVER/kexts/other/IntelGraphicsFixup.kext\uff0c\u5f80\u91cc\u6dfb\u52a0FakePCIID_Intel_HD_Graphics.kext\uff0cAppleBacklightFixup.kext</p> <p>2.\u4f7f\u7528Clover Configurator</p> <p>\u6253\u5f00/EFI/CLOVER/config.plist 1\uff09\u52fe\u9009Acpi\u9879\u4e2d\u7684AddDTGP\u548cAddPNLF\uff0cPatches\u4e2d\u6dfb\u52a0AZAL to HDEF\u6216HDAS to HDEF</p> <p>2\uff09\u52fe\u9009Devices\u9879\u4e2d\u7684SetIntelBacklight\u548cSetIntelMacBacklight\uff1bSystem Paramenters\u53ef\u8bbe\u7f6e\u5f00\u673a\u9ed8\u8ba4\u4eae\u5ea6Backlight Level\u6700\u4eae0xFFFF,Inject Kexts\u9009\u62e9Detect</p> <p>3.\u67e5\u770bCPU\u578b\u53f7\uff0c\u9009\u62e9\u5408\u9002\u7684platform-id Intel HD Graphics 4400\u53ef\u4f7f\u75280x0a160000\uff0c0x0c160000\uff0c0x0a260006</p> <p>Intel\u6838\u663eplatform ID\u6574\u7406\u53casmbios\u901f\u67e5\u8868</p> <p>https://blog.daliansky.net/Intel-core-display-platformID-finishing.html</p> <p>4.\u5728Graphics\u9879\u4e2d\u586b\u5199ig-platform-id</p> <p>5.\u4fdd\u5b58\u540e\u91cd\u542f</p>"},{"location":"mac/mac_install/#2_1","title":"2.\u4fee\u590d\u58f0\u97f3\u4e4b\u4eff\u5192\u58f0\u5361\u6559\u7a0b","text":"<p>1.\u5220\u9664\u4e07\u80fd\u9a71\u52a8</p> <p>/EFI/CLOVER/kexts/other/VoodooHDA.kext\uff0c\u5f80\u91cc\u6dfb\u52a0AppleALC.kext\u548cLilu.kext</p> <p>2.\u4f7f\u7528Clover Configurator</p> <p>\u6253\u5f00/EFI/CLOVER/config.plist,\u52fe\u9009Acpi\u9879\u4e2d\u7684FIXHPET</p> <p>3.\u67e5\u770b\u58f0\u5361\u578b\u53f7</p> <p>win\u4e0b\u53ef\u4f7f\u7528aida\u8f6f\u4ef6\u67e5\u770b\uff0cMac\u76f4\u63a5\u4f7f\u7528Hackintool\u67e5\u770b</p> <p>Realtek AppleALC283\u53ef\u4f7f\u7528layout-id\u5982\u4e0b\uff1a 1, 3, 11, 66(\u672c\u673a11)</p> <p>\u5176\u4ed6AppleALC\u652f\u6301\u7684Codecs\u5217\u8868</p> <p>https://blog.daliansky.net/AppleALC-Supported-codecs.html </p> <p>\u7b14\u8bb0\u672c\uff0c\u4ece\u5927\u6570\u5b57\u6539\u5230\u5c0f\u6570\u5b57\u5c1d\u8bd5</p> <p>4.\u5728Devices\u9879\u4e2dAudio Inject\u586b\u5199layout-id</p> <p>5.\u4fdd\u5b58\u540e\u91cd\u542f</p>"},{"location":"mac/mac_install/#3ddst","title":"3.ddst\u4fee\u6539\u6559\u7a0b","text":"<p>1.Command+shift+G\uff0c\u524d\u5f80/usr/bin\u76ee\u5f55\uff0c\u5e76\u5c06iasl\u7f16\u8bd1\u5668\u62d6\u5165\u5230\u8be5\u76ee\u5f55</p> <p>2.aml\u8f6cdsl\uff1a <pre><code>iasl -da -dl *.aml\n</code></pre> 3.\u4f7f\u7528MaciASL\u6253\u5f00dsl\u8fdb\u884c\u4fee\u6539\u6216\u8005\u6253\u8865\u4e01</p> <p>4.dsl\u8f6caml\uff1a <pre><code>iasl *.dsl\n</code></pre> 5.\u590d\u5236\u5230EFI/Clover/ACPI/patched/</p>"},{"location":"mac/mac_install/#3","title":"3.\u4f18\u5316","text":""},{"location":"mac/mac_install/#1_2","title":"1.\u9690\u85cf\u76f8\u5173\u542f\u52a8\u76d8","text":"<p>Clover Configurator\u4e2d\u9009\u62e9Gui\u9879\u53bb\u9664Scan\u4e2d\u7684Legacy\uff0cHide Volume\u4e2d\u6dfb\u52a0Preboot\uff0cRecovery\uff0cmacOS Install</p>"},{"location":"mac/mac_install/#2_2","title":"2.\u8bbe\u7f6e\u4e3b\u9898","text":"<p>Gui\u4e2dTheme\u4fee\u6539\u540d\u79f0\uff0c\u540d\u79f0\u4e3aEFI/CLOVER/themes\u4e2d\u7684\u6587\u4ef6\u5939\u540d\u79f0</p>"},{"location":"mac/mac_install/#3_1","title":"3.\u8bbe\u7f6e\u9ed8\u8ba4\u542f\u52a8\u76d8","text":"<p>Boot\u4e2dDefault Boot Volume\u586b\u5199\u76d8\u540d\u79f0</p>"},{"location":"mac/mac_swift/","title":"SwiftUI","text":""},{"location":"mac/mac_swift/#_1","title":"\u4ea7\u54c1\u5206\u7c7b\u7f16\u7801","text":"<pre><code>#if os(iOS)\n//code\n#endif\n\n#if os(macOS)\n//code\n#endif\n</code></pre>"},{"location":"mac/mac_swift/#_2","title":"\u6253\u5305","text":"<p>1.\u6253\u5f00\u83dc\u5355Product-Archive</p> <p>2.\u9009\u62e9Distribute App</p> <p>3.Copy App\uff0c\u9009\u4e2d\u684c\u9762\u5373\u53ef</p>"},{"location":"mac/mac_swift/#_3","title":"\u5e38\u89c1\u5751","text":"<p>Mac\u7aef\u4f7f\u7528AsyncImage\u7ec4\u4ef6\u52a0\u8f7d\u7f51\u7edc\u56fe\u7247\u62a5\u9519</p> <p>\u5f02\u5e38\uff1afinished with error [-1003] Error Domain=NSURLErrorDomain Code=-1003 \"\u672a\u80fd\u627e\u5230\u4f7f\u7528\u6307\u5b9a\u4e3b\u673a\u540d\u7684\u670d\u52a1\u5668\u3002\"</p> <p>\u89e3\u51b3\uff1a\u52fe\u9009\u7ea2\u6846\u9009\u9879</p> <p></p>"},{"location":"ohos/ohos_build/","title":"\u6e90\u7801\u7f16\u8bd1","text":""},{"location":"ohos/ohos_build/#wsl2","title":"WSL2\u914d\u7f6e","text":"<p>1.\u6253\u5f00Microsoft store\u641c\u7d22ubuntu\uff0c\u63a8\u8350\u4f7f\u7528ubuntu-20.04\uff0c\u4e0b\u8f7d\u540e\u5982\u679c\u51fa\u73b0\u4e71\u7801\u5219\u5b89\u88c5update_x64.msi(wsl2\u4e2d)\uff0c\u5982\u679cwsl2\u8fd8\u672a\u914d\u7f6e\u5219\u5148wsl2\u73af\u5883\u914d\u7f6e</p> <p>2.\u8bbe\u7f6eroot\u5bc6\u7801 <pre><code>sudo passwd root\n</code></pre></p> <p>3.Ubuntu Shell\u73af\u5883\u4fee\u6539\u4e3abash</p> <p>\u6267\u884csudo dpkg-reconfigure dash\uff0c\u9009\u62e9No</p> <p>4.\u5207\u6362python\u7248\u672c <pre><code>sudo update-alternatives --install /usr/bin/python python /usr/bin/python3 150\n</code></pre></p> <p>5.\u5b89\u88c5pip3 <pre><code>sudo apt -y update\nsudo apt upgrade\nsudo apt install python3-pip\n</code></pre></p> <p>6.\u914d\u7f6egit\u76f8\u5173 <pre><code>sudo apt install git-all\nsu\ncurl -s https://packagecloud.io/install/repositories/github/git-lfs/script.deb.sh | sudo bash\napt install git-lfs\ngit lfs install\nexit\ngit config --global user.name \"yuli\"\ngit config --global user.email \"1875287386@qq.com\"\ngit config --global credential.helper store\n</code></pre></p> <p>7.\u914d\u7f6erepo <pre><code>curl https://gitee.com/oschina/repo/raw/fork_flow/repo-py3 &gt; /usr/local/bin/repo\nchmod a+x /usr/local/bin/repo\npip3 install -i https://pypi.tuna.tsinghua.edu.cn/simple requests\n</code></pre></p> <p>8.\u6309\u7167wsl\u8fc1\u79fb\u5230\u5176\u4ed6\u78c1\u76d8(\u53ef\u8df3\u8fc7)</p>"},{"location":"ohos/ohos_build/#_1","title":"\u5b98\u7f51\u76f8\u5173","text":"<p>\u6e90\u7801\u6587\u6863\uff1a https://gitee.com/openharmony/docs</p> <p>\u5f00\u53d1\u8005\u6587\u6863\uff1a http://docs.openharmony.cn/pages/v4.0/zh-cn/OpenHarmony-Overview_zh.md/</p>"},{"location":"ohos/ohos_build/#_2","title":"\u6e90\u7801\u4e0b\u8f7d","text":"<p>\u6ce8\u518cgitee\u4ee5\u53ca\u751f\u6210ssh <pre><code>ssh-keygen -t ed25519 -C \"ubuntu\"\n</code></pre> \u4e0b\u8f7d <pre><code>repo init -u git@gitee.com:openharmony/manifest.git -b master --no-repo-verify\nrepo sync -c\nrepo forall -c 'git lfs pull'\n</code></pre></p>"},{"location":"ohos/ohos_build/#_3","title":"\u7f16\u8bd1\u914d\u7f6e","text":"<p>\u914d\u7f6e\u73af\u5883\uff1a <pre><code>./build/build_scripts/env_setup.sh\nsudo apt install libxinerama-dev libxcursor-dev libxrandr-dev libxi-dev\n</code></pre> \u5982\u679cenv_setup.sh\u6267\u884c\u6ca1\u6548\u679c\uff0c\u5219\u6253\u5f00\u6b64\u811a\u672c\u6587\u4ef6\u5220\u9664\u6216\u6ce8\u91ca\u6389\u8fd9\u53e5\u4ee3\u7801 result2=$(echo $SHELL | grep \"zsh\")</p> <p>\u9884\u7f16\u8bd1\u5de5\u5177\u4e0b\u8f7d\uff1a <pre><code>./build/prebuilts_download.sh\n</code></pre> 64\u4f4d\uff1a <pre><code>./build.sh --product-name rk3568 --target-cpu arm64 --ccache\n</code></pre> 32\u4f4d\uff1a <pre><code>./build.sh --product-name rk3568  --ccache\n</code></pre></p> <p>\u7f16\u8bd1\u5b8c\u6210\u955c\u50cf\u8def\u5f84\uff1a\\out\\rk3568\\packages\\phone\\images\\</p>"},{"location":"ohos/ohos_build/#_4","title":"\u53c2\u8003\u6559\u7a0b","text":"<p>https://blog.csdn.net/nanzhanfei/article/details/121951919</p>"},{"location":"ohos/ohos_build/#_5","title":"\u5176\u4ed6\u4f7f\u7528\u7f51\u7ad9","text":"<p>daily\u6784\u5efa\u7248\u672c</p> <p>http://ci.openharmony.cn</p>"},{"location":"window/window_inner_android/","title":"Android\u5b50\u7cfb\u7edf","text":""},{"location":"window/window_inner_android/#1windows","title":"1.\u5f00\u542fwindows\u529f\u80fd(\u9700\u8981\u91cd\u542f)","text":"<p>\u6253\u5f00\u63a7\u5236\u9762\u677f-\u7a0b\u5e8f-\u542f\u52a8\u6216\u5173\u95edwindows\u529f\u80fd</p> <p>\u52fe\u9009Hyper-V\u548c\u865a\u62df\u673a\u5e73\u53f0</p> <p>\u5bf9\u4e8eWin11\u5bb6\u5ead\u7248</p> <p>\u65b0\u5efa\u6587\u4ef6\u540d\u4e3a\uff1a\u5f00\u542fHyper-V.cmd\uff0c\u5185\u5bb9\u5982\u4e0b\uff0c\u4fdd\u6301\u53cc\u51fb\u6267\u884c <pre><code>pushd \"%~dp0\"\ndir /b %SystemRoot%\\servicing\\Packages*Hyper-V*.mum &gt;hyper-v.txt\nfor /f %%i in ('findstr /i . hyper-v.txt 2^&gt;nul') do dism /online /norestart /add-package:\"%SystemRoot%\\servicing\\Packages%%i\"\ndel hyper-v.txt\nDism /online /enable-feature /featurename:Microsoft-Hyper-V-All /LimitAccess /ALL\n</code></pre></p>"},{"location":"window/window_inner_android/#2","title":"2.\u4e0b\u8f7d\u5b50\u7cfb\u7edf","text":"<p>\u6253\u5f00\u8bbe\u7f6e-\u65f6\u95f4\u548c\u8bed\u8a00-\u8bed\u8a00\u548c\u533a\u57df</p> <p>\u5c06\u56fd\u5bb6\u548c\u5730\u533a\u4fee\u6539\u6210\u7f8e\u56fd\uff0c\u4e0b\u8f7d\u4ee5\u4e0b\u8f6f\u4ef6</p> <p>Windows Subsystem for Android\u4e0b\u8f7d\u94fe\u63a5\uff1a(\u6d4f\u89c8\u5668\u6253\u5f00\u70b9get in store app) https://www.microsoft.com/store/productId/9P3395VX91NR</p>"},{"location":"window/window_inner_android/#3","title":"3.\u8fde\u63a5\u8bbe\u5907","text":"<p>\u5f00\u59cb\u4e2d\u6253\u5f00\u9002\u7528\u4e8eAndroid\u7684Windows\u5b50\u7cfb\u7edf\u8bbe\u7f6e\u8f6f\u4ef6\uff0c\u9009\u62e9\u5f00\u53d1\u4eba\u5458\uff0c\u5f00\u542f\u5f00\u53d1\u4eba\u5458\u6a21\u5f0f\uff0c\u8bb0\u4f4fadb\u7684ip\u8fde\u63a5\u6bd4\u5982 <pre><code>adb connect 127.0.0.1:58526\n</code></pre> \u8fde\u63a5\u540e\u4f7f\u7528 <pre><code>adb install xxx.apk\n</code></pre></p>"},{"location":"window/window_install/","title":"\u7cfb\u7edf\u5b89\u88c5","text":""},{"location":"window/window_install/#_1","title":"\u955c\u50cf\u4e0b\u8f7d","text":"<p>https://msdn.itellyou.cn/</p>"},{"location":"window/window_vmware/","title":"VMWare\u5b89\u88c5","text":""},{"location":"window/window_vmware/#1vmware","title":"1.\u5b89\u88c5VMWare\u865a\u62df\u673a","text":"<p>\u5b98\u65b9\u4e0b\u8f7d\u5730\u5740\uff1a</p> <p>https://www.vmware.com/cn/products/workstation-pro/workstation-pro-evaluation.html</p> <p>VMware\u8bb8\u53ef\u8bc1</p> <p>17.x</p> <p>JU090-6039P-08409-8J0QH-2YR7F</p> <p>ZA5RU-6FYD5-48EPY-3XXEE-PAUGD</p> <p>ZF3R0-FHED2-M80TY-8QYGC-NPKYF</p> <p>FC7D0-D1YDL-M8DXZ-CYPZE-P2AY6</p> <p>ZC3TK-63GE6-481JY-WWW5T-Z7ATA</p> <p>1Z0G9-67285-FZG78-ZL3Q2-234JG</p> <p>4A4RR-813DK-M81A9-4U35H-06KND</p> <p>NZ4RR-FTK5H-H81C1-Q30QH-1V2LA</p> <p>JU090-6039P-08409-8J0QH-2YR7F</p> <p>4Y09U-AJK97-089Z0-A3054-83KLA</p> <p>4C21U-2KK9Q-M8130-4V2QH-CF810</p> <p>MC60H-DWHD5-H80U9-6V85M-8280D</p> <p>16.x</p> <p>ZF3R0-FHED2-M80TY-8QYGC-NPKYF</p> <p>Z1ZPR-EDGQN-M1JE9-HYFGX-YPGEX</p> <p>\u5185\u5b58\uff1a\u4e0d\u80fd\u8d85\u8fc7\u7269\u7406\u5185\u5b58 cpu\u6838\u6570\uff1a\u89c1\u4efb\u52a1\u7ba1\u7406\u5668-\u6027\u80fd\uff0ccpu\u4e2a\u6570\u548c\u5904\u7406\u5668\u76f8\u4e58\u4e0d\u80fd\u8d85\u8fc720</p> <p></p>"},{"location":"window/window_vmware/#2ubuntu","title":"2.\u5b89\u88c5\u7cfb\u7edf(\u4ee5ubuntu\u4e3a\u4f8b)","text":"<p>iso\u955c\u50cf\u4e0b\u8f7d\u5730\u5740\uff1a \u963f\u91cc \u6e05\u534e</p>"},{"location":"window/window_vmware/#3samba","title":"3.\u5b89\u88c5samba\u5171\u4eab","text":"<p>\u5728ubuntu\u7ec8\u7aef\u4e2d\u64cd\u4f5c <pre><code>sudo apt-get install samba\nsudo apt-get install cifs-utils\n</code></pre> \u4fee\u6539\u914d\u7f6e <pre><code>sudo cp /etc/samba/smb.conf /etc/samba/smb.conf.bak\nsudo vi /etc/samba/smb.conf\n</code></pre> \u6700\u540e\u6dfb\u52a0\u4e00\u4e0b\u5185\u5bb9\uff0c/home/hfc/\u53ef\u4ee5\u66f4\u6539\u6210\u5176\u4ed6\u76ee\u5f55 <pre><code>[share]\n      path = /home/hfc/\n      available = yes\n      browseable = yes\n      public = yes\n      writable = yes\n</code></pre> \u521b\u5efa\u7528\u6237 <pre><code>sudo touch /etc/samba/smbpasswd\nsudo smbpasswd -a hfc(\u5f53\u524d\u7cfb\u7edf\u7528\u6237)\n</code></pre> \u91cd\u542f\u670d\u52a1 <pre><code>sudo /etc/init.d/smbd restart\n</code></pre> win10\u5f00\u542fsmb\u5171\u4eab\u670d\u52a1  Win+R\uff0c\u8f93\u5165gpedit.msc ,\u6253\u5f00\u7ec4\u7b56\u7565\uff0c\u4fee\u6539\u4ee5\u4e0b\u914d\u7f6e\u540e\u91cd\u542f\u7535\u8111  \u82e5\u5f00\u542fhyper-v\u9700\u8981\u5173\u95ed\uff0c\u5426\u5219\u5f71\u54cd\u6a21\u62df\u5668\u4f7f\u7528 \u5173\u95ed\u65b9\u5f0f\uff1a \u7ba1\u7406\u5458\u8fd0\u884c\u7ec8\u7aef\u8f93\u5165bcdedit /set  hypervisorlaunchtype OFF(\u6062\u590dAUTO) Win+R\u8f93\u5165services.msc\uff0c\u5c06HV\u4e3b\u673a\u670d\u52a1\u7981\u7528  \u91cd\u542f\u7535\u8111\u751f\u6548</p>"},{"location":"window/window_win11/","title":"Window11\u76f8\u5173","text":""},{"location":"window/window_win11/#1win10","title":"1.\u53f3\u952e\u83dc\u5355\u6062\u590dwin10","text":"<p>1.win+r\u6253\u5f00\u8fd0\u884c\u7a97\u53e3\uff0c\u8f93\u5165regedit\uff0c\u6309\u4e0b\u56de\u8f66\u952e\u786e\u8ba4\u5373\u53ef\u6253\u5f00\u6ce8\u518c\u8868</p> <p>2.\u5728\u8def\u5f84\u4e2d\u8f93\u5165\uff1aHKEY_CURRENT_USER\\SOFTWARE\\CLASSES\\CLSID</p> <p></p> <p>3.\u53f3\u952e\u70b9\u51fbCLSID\u9879\uff0c\u70b9\u51fb\u65b0\u5efa\u4e00\u4e2a\u9879\uff0c\u547d\u540d\u4e3a{86ca1aa0-34aa-4e8b-a509-50c905bae2a2} </p> <p>4.\u53f3\u952e\u70b9\u51fb\u65b0\u5efa\u7684\u9879\uff0c\u7136\u540e\u518d\u65b0\u5efa\u4e00\u4e2a\u9879\uff0c\u547d\u540d\u4e3aInprocServer32 </p> <p>5.\u91cd\u542f\u8d44\u6e90\u7ba1\u7406\u5668 </p>"},{"location":"window/window_wsl2/","title":"WSL2","text":""},{"location":"window/window_wsl2/#1windows","title":"1.Windows\u529f\u80fd\u4e2d\u52fe\u9009","text":"<p>\u63a7\u5236\u9762\u677f-\u7a0b\u5e8f-\u542f\u7528\u6216\u5173\u95ed</p> <p>Windows\u865a\u62df\u673a\u76d1\u63a7\u7a0b\u5e8f\u5e73\u53f0\u3001\u9002\u7528\u4e8eLinux\u7684Windows\u5b50\u7cfb\u7edf\u5e76\u91cd\u542f\u7535\u8111</p>"},{"location":"window/window_wsl2/#2ubuntu","title":"2.\u5b89\u88c5ubuntu","text":"<p>\u6253\u5f00\u5e94\u7528\u5546\u5e97\u641c\u7d22ubuntu\u5e76\u83b7\u53d6\uff0c\u4f8b\u5982\u9009\u62e9ubuntu22.04</p>"},{"location":"window/window_wsl2/#3","title":"3.\u4e0b\u8f7d\u66f4\u65b0\u7a0b\u5e8f\u5e76\u5b89\u88c5","text":"<p>https://wslstorestorage.blob.core.windows.net/wslblob/wsl_update_x64.msi</p>"},{"location":"window/window_wsl2/#4ubuntu","title":"4.\u542f\u52a8ubuntu","text":"<p>window\u83dc\u5355\u4e2d\u6253\u5f00ubuntu\u4f1a\u81ea\u52a8\u8fdb\u884c\u5b89\u88c5\uff0c\u5b8c\u6210\u540e\u8f93\u5165\u7528\u6237\u540d\uff0c\u5bc6\u7801</p>"},{"location":"window/window_wsl2/#5","title":"5.\u67e5\u770b\u914d\u7f6e","text":"<p>\u6253\u5f00powershell\u8f93\u5165 <pre><code>wsl -l --all -v\n</code></pre> \u5982\u679cversion\u662f2\u8868\u793a\u5df2\u7ecf\u5b89\u88c5wsl2\uff0c\u5982\u679c\u662f1\u9700\u8981\u8fdb\u884c\u5347\u7ea7 <pre><code>wsl --set-version Ubuntu-22.04 2\n</code></pre></p>"},{"location":"window/window_wsl2/#6c","title":"6.\u8fc1\u79fb\u5230\u5176\u4ed6\u76d8\uff0c\u9ed8\u8ba4\u5b89\u88c5\u5728c\u76d8","text":"<p><pre><code>wsl --shutdown\n</code></pre> \u901a\u8fc7wsl -l --all -v\u786e\u8ba4\u662fStopped\u72b6\u6001</p> <p>\u5bfc\u51fa\u538b\u7f29\u5305\uff1a <pre><code>wsl --export Ubuntu-22.04 D:\\ubuntuback\\ubuntu22.04.tar\n</code></pre> \u6ce8\u9500\u7cfb\u7edf\uff1a <pre><code>wsl --unregister Ubuntu-22.04\n</code></pre> \u5bfc\u5165\u7cfb\u7edf\uff1a <pre><code>wsl --import Ubuntu-22.04 D:\\ubuntu2204 D:ubuntuback\\ubuntu22.04.tar\n</code></pre> Ubuntu-22.04 Linux\u7cfb\u7edf\u540d\u79f0\u548c\u7248\u672c</p> <p>D:\\Ubuntu2204 \u5b89\u88c5\u8def\u5f84</p> <p>D:ubuntuback\\ubuntu22.04.tar \u955c\u50cf\u6240\u5728\u4f4d\u7f6e</p> <p>\u91cd\u65b0\u8bbe\u7f6e\u7528\u6237\uff1a <pre><code>ubuntu2204.exe config --default-user yuli\n</code></pre></p> <p>\u914d\u7f6e\u4ea4\u6362swap\u5185\u5b58</p> <p>1.\u771f\u6b63\u7684ubuntu\u4e2d <pre><code>sudo fallocate -l 10G /swapfile\nsudo chmod 600 /swapfile\nsudo mkswap /swapfile\nsudo swapon /swapfile\necho '/swapfile swap swap defaults 0 0' | sudo tee -a /etc/fstab\nfree -h\uff1a\u53ef\u67e5\u770b\n</code></pre> wsl\u5f62\u5f0f\u7684ubuntu\u4e2d</p> <p>\u6587\u4ef6\u7ba1\u7406\u5668\u5730\u5740\u8f93\u5165\uff1a%UserProfile%\uff0c\u56de\u8f66\u6253\u5f00.wslconfig(\u82e5\u65e0\u6b64\u6587\u4ef6\u5219\u65b0\u5efa)\uff0c\u914d\u7f6e\u9700\u8981\u7684\u53c2\u6570 <pre><code>[wsl2]\nmemory=16GB\nswap=10GB\nswapfile=D:\\\\ubuntu2004\\\\wsl-swap.vhdx\nnestedVirtualization=true\n</code></pre> \u66f4\u591a\u914d\u7f6e\u67e5\u770b\uff1a</p> <p>https://learn.microsoft.com/en-us/windows/wsl/wsl-config#wslconfig</p> <p>\u91ca\u653e\u7a7a\u95f4\uff1a <pre><code>wsl --shutdown\ndiskpart\nselect vdisk file=\"D:\\ubuntu2204\\ext4.vhdx\"\nattach vdisk readonly\ncompact vdisk\ndetach vdisk\nexit\n</code></pre> \u6620\u5c04window\u78c1\u76d8\uff0c\u6587\u4ef6\u7ba1\u7406\u5668\u8f93\u5165\\wsl$\u540e\u56de\u8f66\uff0c\u53f3\u952e\u6dfb\u52a0\u6620\u5c04\u7f51\u7edc\u9a71\u52a8\u5668 </p>"}]}